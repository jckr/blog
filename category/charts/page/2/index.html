<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="HandheldFriendly" content="True" />
<meta name="MobileOptimized" content="320" />

<title>charts | jckr.github.io/blog | Page 2</title>

<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="/xmlrpc.php">
<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="jckr.github.io/blog &raquo; Feed" href="/feed/" />
<link rel="alternate" type="application/rss+xml" title="jckr.github.io/blog &raquo; Comments Feed" href="/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="jckr.github.io/blog &raquo; charts Category Feed" href="/category/charts/feed/" />
<!-- This site uses the Google Analytics by MonsterInsights plugin v7.0.5 - Using Analytics tracking - https://www.monsterinsights.com/ -->
<!-- Note: MonsterInsights is not currently configured on this site. The site owner needs to authenticate with Google Analytics in the MonsterInsights settings panel. -->
<!-- No UA code set -->
<!-- / Google Analytics by MonsterInsights -->
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/localhost:8888\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.6.10"}};
			!function(a,b,c){function d(a){var c,d,e,f,g,h=b.createElement("canvas"),i=h.getContext&&h.getContext("2d"),j=String.fromCharCode;if(!i||!i.fillText)return!1;switch(i.textBaseline="top",i.font="600 32px Arial",a){case"flag":return i.fillText(j(55356,56806,55356,56826),0,0),!(h.toDataURL().length<3e3)&&(i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,65039,8205,55356,57096),0,0),c=h.toDataURL(),i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,55356,57096),0,0),d=h.toDataURL(),c!==d);case"diversity":return i.fillText(j(55356,57221),0,0),e=i.getImageData(16,16,1,1).data,f=e[0]+","+e[1]+","+e[2]+","+e[3],i.fillText(j(55356,57221,55356,57343),0,0),e=i.getImageData(16,16,1,1).data,g=e[0]+","+e[1]+","+e[2]+","+e[3],f!==g;case"simple":return i.fillText(j(55357,56835),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode8":return i.fillText(j(55356,57135),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode9":return i.fillText(j(55358,56631),0,0),0!==i.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity","unicode9"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='YoutubeShortcodeMargenn-css'  href='/wp-content/plugins/youtube-shortcode/youtube-shortcode.css?ver=4.6.10' type='text/css' media='all' />
<link rel='stylesheet' id='casper-google-fonts-css'  href='//fonts.googleapis.com/css?family=Noto+Serif%3A400%2C700%2C400italic%7COpen+Sans%3A700%2C400&#038;ver=4.6.10' type='text/css' media='all' />
<link rel='stylesheet' id='casper-style-css'  href='/wp-content/themes/casper/style.css?ver=4.6.10' type='text/css' media='all' />
<script type='text/javascript' src='/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<link rel='https://api.w.org/' href='/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.6.10" />

   	<style type="text/css">
					.blog-title a, .blog-description, .social-icons a { color: #222222; }
		
						                
		
							.main-navigation a { color: ; }
		                                            </style>
    		<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
			<style type="text/css">
			.site-title a,
		.site-description {
			color: #222222;
		}
		</style>
	<style type="text/css" id="syntaxhighlighteranchor"></style>
</head>

<body class="archive paged category category-charts category-3 paged-2 category-paged-2 group-blog">

<header id="masthead" role="banner" class="site-head site-header" style="background-image: url(/wp-content/uploads/2018/04/Screenshot-2018-04-09-19.38.59.png);">
    <nav id="site-navigation" class="main-navigation" role="navigation">
        <div>
            <h1 class="menu-toggle">
                <a class="icon-bars" href="#">
                    <span class="hidden">Menu</span>
                </a>
            </h1>
            <a class="skip-link screen-reader-text" href="#content">Skip to content</a>
            <div class="menu"><ul><li ><a href="/">Home</a></li></ul></div>
        </div>
    </nav><!-- #site-navigation -->

    <div class="vertical-row">
        <div class="vertical">
            <div class="site-head-content inner">
                
                <div class="social-icons">
                                                                                                                                                                                                                                                                                                                                                                                                                                                    </div>
                <h1 class="blog-title"><a class="blog-logo" href='/blog/' rel='home'>jckr.github.io/blog</a></h1>
                <h2 class="blog-description">Just another WordPress site</h2>
            </div>
        </div>
    </div>
</header><!-- #masthead -->

<main id="content" class="content" role="main">

	<section id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

		
			<header class="page-header">
				<h1 class="page-title">
					charts				</h1>
							</header><!-- .page-header -->

						
				
<article id="post-550" class="post-550 post type-post status-publish format-standard hentry category-charts category-data-visualization category-protovis category-tips tag-grammar-of-graphics tag-nesting tag-protovis tag-tableau tag-tutorial">
		    <header class="post-header">
        			<span class="post-meta">
				<span class="posted-on"><a href="/2011/02/11/working-with-data-in-protovis-interlude-protovis-nesting-vs-tableau/" rel="bookmark"><time class="entry-date published" datetime="2011-02-11T02:40:48+00:00">February 11, 2011</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="/author/jerome/">jerome</a></span></span> on <a href="/category/charts/" rel="category tag">charts</a>, <a href="/category/data-visualization/" rel="category tag">data visualization</a>, <a href="/category/protovis/" rel="category tag">protovis</a>, <a href="/category/tips/" rel="category tag">tips</a>			</span>
		        <h1 class="post-title"><a href="/2011/02/11/working-with-data-in-protovis-interlude-protovis-nesting-vs-tableau/" rel="bookmark">Working with data in protovis &#8211; interlude: protovis nesting vs tableau</a></h1>
         
    </header>
	<section class="post-content">

		<p>Protovis, like Tableau, are based on the grammar of graphics framework. In a nutshell, in both environments, a chart designer can map visual attributes (such as x or y dimension, color, shape, etc.) to dimensions of data. </p>
<p>The flat file which <a href="http://vis.stanford.edu/protovis/ex/barley.html">Becker&#8217;s Barley</a> is based on can be used in Tableau public nearly as is.<br />
Here&#8217;s a size-by-size comparison of the results:</p>
<table>
<tr>
<td><a href="http://jckr.github.io/blog/wp-content/uploads/2011/02/protovisBarley.png"><img src="https://jckr.github.io/blog/wp-content/uploads/2011/02/protovisBarley.png" alt="" title="protovisBarley" width="350" height="830" class="aligncenter size-full wp-image-551" /></a></td>
<td><script type="text/javascript" src="http://public.tableausoftware.com/javascripts/api/viz_v1.js"></script><object class="tableauViz" width="356" height="901" style="display:none;"><param name="name" value="barley/Dashboard1" /><param name="toolbar" value="no" /><param name="tabs" value="no" /></object><noscript>Dashboard 1 <br /><a href="#"><img alt="Dashboard 1 " src="http://public.tableausoftware.com/static/images/ba/barley/Dashboard1/1_rss.png" height="100%" /></a></noscript></td>
</tr>
</table>
<h2>How it&#8217;s done in Protovis</h2>
<p>In protovis, the flat file is nested several times, so that its various elements can be called in a hierarchy from series of dots per variety, to panel per sites to a grander panel. Legend and ticks are added by hand for a perfect finish. Still, some careful planning is required to prepare the data file and to adjust the various elements (choice of colors, sizes, etc.)</p>
<h2>How it&#8217;s done in Tableau</h2>
<p><a href="http://jckr.github.io/blog/wp-content/uploads/2011/02/tableauBarley.png"><img src="https://jckr.github.io/blog/wp-content/uploads/2011/02/tableauBarley.png" alt="" title="tableauBarley" width="665" height="497" class="aligncenter size-full wp-image-554" /></a><br />
The data file, unsurprisingly, has 4 dimensions: site, variety, year and yield. In tableau terms, yield is a measure (a numerical dimension) while the other 3 are categorical dimensions. With a few clicks, it is possible to get a result which is similar to the original vis in Protovis. We assign yield to column (horizontal attribute), site and variety to row in that order. We also untick aggregate measures in Analysis, so we get little circles and not big bars. Here, I&#8217;ve manually sorted the sites and the varieties. </p>
<h2>Conclusion</h2>
<p>It is much, much easier to achieve a similar result with Tableau, however using protovis provides a finer control. </p>
	    		<div class="clear">&nbsp;</div>
	</section>
</article><!-- #post-## -->
			
				
<article id="post-494" class="post-494 post type-post status-publish format-standard hentry category-charts category-data-visualization category-protovis category-tips tag-arrays tag-javascript tag-protovis tag-tutorial">
		    <header class="post-header">
        			<span class="post-meta">
				<span class="posted-on"><a href="/2011/02/09/working-with-data-in-protovis-part-3-of-5/" rel="bookmark"><time class="entry-date published" datetime="2011-02-09T19:08:57+00:00">February 9, 2011</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="/author/jerome/">jerome</a></span></span> on <a href="/category/charts/" rel="category tag">charts</a>, <a href="/category/data-visualization/" rel="category tag">data visualization</a>, <a href="/category/protovis/" rel="category tag">protovis</a>, <a href="/category/tips/" rel="category tag">tips</a>			</span>
		        <h1 class="post-title"><a href="/2011/02/09/working-with-data-in-protovis-part-3-of-5/" rel="bookmark">Working with data in protovis – part 3 of 5</a></h1>
         
    </header>
	<section class="post-content">

		<p>Previous : <a href="http://jckr.github.io/blog/?p=479">Multi-dimensional arrays, inheritance and hierarchy</a></p>
<h2>Short interlude: what can be done with arrays in javascript?</h2>
<p>Now that we have a grasp on how arrays work and how they can be used in protovis, let’s take a step back and look at some very useful methods for working with arrays in standard javascript.</p>
<h3>Sorting arrays</h3>
<p>Using a method called, well, sort(), javascript arrays can be reordered in a variety of ways.</p>
<pre class="brush: jscript; title: ; notranslate" title="">var a = [1, 1.2, 1.7, 1.5, .7, .3];
a.sort();</pre>
<p>Without any argument, this will sort the array in ascending order: [0.3, 0.7, 1, 1.2, 1.5, 1.7].</p>
<p>However, we can reorder the array differently with a comparison function, such as:</p>
<pre class="brush: jscript; title: ; notranslate" title="">a.sort(function(a,b) b-a)</pre>
<p>Note that this is protovis notation. In traditional javascript, you’d have written a.sort(function(a,b) {return b-a;});</p>
<p>This would sort a in descending order ([1.7, 1.5, 1.2, 1, 0.7, 0.3]). Here is how it works.</p>
<p>The comparison function takes 2 elements in the array. If the first element (corresponding to the first argument, a) should appear first, the function must return a negative number. If the result is positive, the second element is appearing first. With our example, b-a is negative when the first element is greater than the second. So, this function sorts an array in descending order.</p>
<p>Sort also works with arrays of associative arrays. For instance:</p>
<pre class="brush: jscript; title: ; notranslate" title="">var data = [
  {key:&quot;a&quot;, value:1},
  {key:&quot;b&quot;, value:1.2},
  {key:&quot;c&quot;, value:1.7}, 
  {key:&quot;d&quot;, value:1.5},
  {key:&quot;e&quot;, value:.7},
  {key:&quot;f&quot;, value:.3}
];

data.sort(function(a,b) b.value-a.value);
</pre>
<p>Here, we have to specify which criterion is used to sort the array. In this example, we sort it in descending order by value. But we could have sorted it in ascending order by key, for instance.</p>
<p>The method reverse() turns an array upside down.</p>
<pre class="brush: jscript; title: ; notranslate" title="">
var a = [1, 1.2, 1.7, 1.5, .7, .3];

a.reverse(); // gives [0.3, 0.7, 1.5, 1.7, 1.2, 1]
</pre>
<p>So, a.sort().reverse() will also sort that array in decreasing order.</p>
<h3>Extracting sub-arrays</h3>
<p>The method slice() will extract a sub-array out of an array, in other words, it will retrieve certain elements. It works with one or two arguments. If you only give one argument, it will give you the last elements from the index you specified.</p>
<p>For instance,</p>
<pre class="brush: jscript; title: ; notranslate" title="">[1, 1.2, 1.7, 1.5, .7, .3].slice(3) // it's [1.5, 0.7, 0.3]</pre>
<p>The index 3 corresponds to the 4<sup>th</sup> element of the array (0,1,2,3) so slice(3) will return the 4<sup>th</sup>, 5<sup>th</sup> and 6<sup>th</sup> elements.</p>
<p>With 2 arguments, you get a sub-array that starts at the first index but ends just before the 2<sup>nd</sup> one. For instance,</p>
<pre class="brush: jscript; title: ; notranslate" title="">[1, 1.2, 1.7, 1.5, .7, .3].slice(0,3) // gives [1, 1.2, 1.7]</pre>
<p>It is also possible to use negative arguments. Instead of counting from the beginning of the array, it means counting from the end.</p>
<pre class="brush: jscript; title: ; notranslate" title="">[1, 1.2, 1.7, 1.5, .7, .3].slice(-1) // result: [0.3]</pre>
<h3>Turning a string into an array</h3>
<p>This can be done via the split() method.</p>
<p>split() normally works with a separator, for instance &#8220;07/04/1975&#8221;.split(&#8220;/&#8221;) is [&#8220;07&#8221;, &#8220;04&#8221;, &#8220;1975&#8221;], but if an empty string is used, then each character becomes an element of the new array. For instance,</p>
<pre class="brush: jscript; title: ; notranslate" title="">&quot;ABCDEFGHIJ&quot;.split(&quot;&quot;) // result: [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;, &quot;G&quot;, &quot;H&quot;, &quot;I&quot;, &quot;J&quot;] </pre>
<p>This can be very useful to generate data on the go.</p>
<h2>And what methods does protovis has for working with arrays and data?</h2>
<p>Many.</p>
<p>Some simple, some very elaborate. In addition to visualization functions protovis has impressive data processing capabilities.</p>
<h3>The workhorse: pv.range()</h3>
<p>pv.range() is a method that creates an array of numbers.</p>
<p>pv.range(10), for instance, is [0, 1, 2, 3, 4, 5, 6, 7, 8, 9], or the 10 first integers starting from 0.<br />
(this is the method I referred to in the example of the previous part).</p>
<p>By using the other arguments, it is possible to generate arrays of numbers that go from one specific index to another, or to change the step. For instance:</p>
<pre class="brush: jscript; title: ; notranslate" title="">pv.range(5,10) // is [5, 6, 7, 8, 9]
pv.range(5,21,5) // is [5, 10, 15, 20]</pre>
<p>While this may not look incredible at first sight, pv.range() really shines when associated with other functions or methods such as map().</p>
<p>map()  is an array method that creates a new array by applying a function to each of the element of the array it’s run against. For instance,</p>
<pre class="brush: jscript; title: ; notranslate" title="">var data = pv.range(100).map(Math.random) // creates an array of 100 random numbers.

var data = pv.range(1000).map(function(a) Math.cos(a/1000)) // stores into data 1000 values 
// of cos(x) for all the numbers between 0 and 0.999 by increment of 0.001.</pre>
<p>In other words, pv.range() and map() can quickly create very interesting datasets for protovis to visualize.</p>
<h3>Simple statistical functions that make life easier</h3>
<h4>pv.min(), pv.max()</h4>
<p>Protovis has functions that extract the maximum or the minimum value of an array.</p>
<p>pv.min([1, 1.2, 1.7, 1.5, .7, .3]) will return the value of the smallest element of the array, in that case 0.3.</p>
<p>Likewise, pv.max returns the value of the greatest element of the array.</p>
<p>Both of these can be used with an accessor function to help retrieve what will be compared.</p>
<p>For instance:</p>
<pre class="brush: jscript; title: ; notranslate" title="">
var data = [
  {key:&quot;a&quot;, value:1},
  {key:&quot;b&quot;,value:1.2},
  {key:&quot;c&quot;, value:1.7}, 
  {key:&quot;d&quot;, value:1.5},
  {key:&quot;e&quot;, value:.7},
  {key:&quot;f&quot;, value:.3}
];

pv.max(data, function(a) a.value); // should return 1.7</pre>
<h4>pv.sum(), pv.mean(), pv.median()</h4>
<p>Likewise, protovis has aptly-named methods that return the sum, the mean and the median of the elements of an array. Note that it&#8217;s pv.mean() and not pv.average(), though.</p>
<pre class="brush: jscript; title: ; notranslate" title="">pv.sum([1, 1.2, 1.7, 1.5, .7, .3]) // gives  6.4.
pv.mean([1, 1.2, 1.7, 1.5, .7, .3]) // gives 1.0666666666666667
pv.median([1, 1.2, 1.7, 1.5, .7, .3]) // gives 1.1.</pre>
<p>Similarly to pv.min() you can use an optional accessor function.</p>
<pre class="brush: jscript; title: ; notranslate" title="">pv.median(data, function(a) a.value);</pre>
<h4>pv.normalize()</h4>
<p>pv.normalize() is a handy method that divides all elements in an array by a factor, so that the sum of all these elements is 1.</p>
<pre class="brush: jscript; title: ; notranslate" title="">pv.normalize([1, 1.2, 1.7, 1.5, .7, .3])
// [0.15625, 0.18749999999999997, 0.265625, 0.234375, 0.10937499999999999, 0.04687499999999999]

pv.sum(pv.normalize([1, 1.2, 1.7, 1.5, .7, .3])) // result: 1.</pre>
<h3>Combining arrays</h3>
<h4>pv.blend()</h4>
<p>pv.blend() simply turns an array of arrays into a simpler array where all elements follow each other.</p>
<pre class="brush: jscript; title: ; notranslate" title="">pv.blend([[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;], [1,2,3]]) // gives  [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, 1, 2, 3]</pre>
<p>One benefit is that it is possible to run methods on this new array that wouldn’t work on an array of arrays.</p>
<p>For instance:</p>
<pre class="brush: jscript; title: ; notranslate" title="">pv.max([[1,2],[3,4],[5,6]]) // result : NaN
// protovis cannot guess how to compare [1,2], [3,4] or [5,6] without any further instruction.
pv.max(pv.blend([[1,2],[3,4],[5,6]])) // result: 6.
pv.max([[1,2],[3,4],[5,6]], function(a) pv.max(a)) // also returns 6.</pre>
<h4>pv.cross()</h4>
<p>Given two arrays a and b, pv.cross(a,b) returns an array of all possible pairs of elements.</p>
<pre class="brush: jscript; title: ; notranslate" title="">pv.cross([&quot;a&quot;, &quot;b&quot;, &quot;c&quot;], [1,2,3]) // returns 
//[[“a”,1],[“a”,2],[“a”,3],[“b”,1],[“b”,2],[“b”,3],[“c”,1],[“c”,2],[“c”,3]]</pre>
<h4>pv.transpose()</h4>
<p>pv.transpose() flips an array of arrays.</p>
<p>In our previous example –</p>
<pre class="brush: jscript; title: ; notranslate" title="">pv.cross([&quot;a&quot;, &quot;b&quot;, &quot;c&quot;], [1,2,3])</pre>
<p>The result was a 9&#215;2 array. [[“a”,1],[“a”,2],[“a”,3],[“b”,1],[“b”,2],[“b”,3],[“c”,1],[“c”,2],[“c”,3]]</p>
<p>If we apply pv.transpose, we get a 2&#215;9 array:</p>
<pre class="brush: jscript; title: ; notranslate" title="">pv.transpose(pv.cross([&quot;a&quot;, &quot;b&quot;, &quot;c&quot;], [1,2,3])); // result:
//[[&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;c&quot;,&quot;c&quot;,&quot;c&quot;]
//[1,2,3,1,2,3,1,2,3]]</pre>
<h3>Putting it all together</h3>
<p>This short example will show how one can work from an unprepared dataset.<br />
For the purpose of this example, I&#8217;m retrieving GDP per capita data of OECD countries. I have a table of 34 countries on 10 years from 2000 to 2009. The countries are in alphabetical order.<br />
I would like to do a bar chart showing the top 12 countries ranked by their GDP per capita. How complex can this be? With the array methods, not so difficult.</p>
<pre class="brush: jscript; highlight: [40,50]; title: ; notranslate" title="">var data=[
[&quot;Country&quot;,2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009],
[&quot;Australia&quot;,28045.6566279103, 29241.289462815, 30444.7839453338, 32079.5610505727, 33494.6654789274, 35091.7414600449, 37098.3968669994, 39002.0335375021, 39148.4759391917, 39660.1953738791],
[&quot;Austria&quot;,28769.5911274323, 28799.1968990511, 30231.0955219759, 31080.6122212092, 32598.0698959222, 33409.3453751649, 36268.9604225683, 37801.7320979073, 39848.9481928628, 38822.6960085478],
[&quot;Belgium&quot;,27624.4454637489, 28488.7963954409, 30013.7570016445, 30241.724380444, 31151.6315179167, 32140.9239149283, 34159.4723388042, 35597.2980660662, 36878.9710906881, 36308.4784216699],
[&quot;Canada&quot;,28484.9776553362, 29331.8223245112, 29911.3226371905, 31268.5521058006, 32845.6267954986, 35105.9892865177, 36853.5554314586, 38353.0812084648, 38883.0700787846, 37807.5259929247],
[&quot;Chile&quot;,9293.72322249492, 9712.95685376592, 9973.25946014534, 10475.6486664294, 11299.9329380664, 12194.1443507847, 13036.1285137662, 13896.6946083854, 14577.5715215544, 14346.4648487517],
[&quot;Czech Republic&quot;,14992.3582327884, 16173.6387263985, 16872.3146139754, 17991.9331910401, 19303.9208098529, 20365.7571142986, 22349.7033747705, 24578.7151794413, 25845.0252652635, 25530.2001372786],
[&quot;Denmark&quot;,28822.3343389384, 29437.5232757263, 30756.3323835463, 30427.5149228283, 32301.3394496912, 33195.8834383121, 36025.8628586246, 37730.736916861, 39494.1216134705, 37688.2516868117],
[&quot;Estonia&quot;,9861.80346448344, 10693.0362387373, 11966.6746413277, 13370.127724177, 14758.4181995435, 16530.7311083966, 19134.4130457855, 21262.1415030861, 21802.2185996096, 19880.2786070771],
[&quot;Finland&quot;,25651.0005450286, 26518.293212524, 27509.1023963486, 27592.2031438268, 29855.387224753, 30689.9753400459, 33095.030855128, 36149.32963148, 37795.237097856, 35236.9462175119],
[&quot;France&quot;,25272.4127936247, 26644.8404266553, 27776.4225007831, 27399.5459524877, 28273.6330332193, 29692.129719144, 31551.3458452695, 33300.5367942194, 34233.0770304046, 33697.9698933558],
[&quot;Germany&quot;,25949.0588445755, 26855.1296905696, 27587.1573355486, 28566.8930562768, 29900.6507502683, 31365.576121107, 33713.1689185469, 35623.4147543745, 37170.693412872, 36339.9009091421],
[&quot;Greece&quot;,18410.2161113813, 19928.6672542964, 21597.5997816753, 22701.7754699285, 24088.2202877303, 24571.6085727425, 26917.7358531616, 28059.5724529461, 29919.6385697499, 29121.8306842272],
[&quot;Hungary&quot;,12134.0140204384, 13576.4413471795, 14765.2333755651, 15424.3926636975, 16316.8885518624, 16937.9383138957, 18329.1579647528, 19187.2829138188, 20699.9056965458, 20279.5060192879],
[&quot;Iceland&quot;,28840.4899286393, 30443.907492292, 31083.7723760522, 30768.0910155965, 33697.6723843766, 35025.1338769129, 35807.880160537, 37178.9762849327, 39029.2396691797, 36789.0728215933],
[&quot;Ireland&quot;,28695.0931156375, 30524.3712319885, 33052.4517849575, 34525.4148515126, 36511.518217243, 38622.5520655621, 42267.9784043449, 45293.6482834027, 42643.6362934458, 39571.204030073],
[&quot;Israel&quot;,23496.1573531847, 23455.1048827219, 23534.8524310529, 22270.5507137525, 23650.3373360675, 23390.3809761211, 24960.0508863672, 26583.387317862, 27679.3777353666, 27661.1271269539],
[&quot;Italy&quot;,25594.3456589799, 27127.4298830414, 26803.97019843, 27137.5365317475, 27416.0961790796, 28144.0379218171, 30224.2469223694, 31897.7434207435, 33270.7464832409, 32407.5033618371],
[&quot;Japan&quot;,25607.7204586644, 26156.1615068187, 26804.9303541079, 27487.123875677, 29020.8955443678, 30311.5281317716, 31865.2733339475, 33577.1846704038, 33902.3807335349, 32476.7736535378],
[&quot;Korea&quot;,17197.0800334388, 18150.876787578, 19655.5961579558, 20180.932195274, 21630.1629926488, 22783.2288432845, 24286.1803272315, 26190.6122298674, 26876.6422899926, 27099.9481192024],
[&quot;Luxembourg&quot;,53645.7229595775, 53932.4594967082, 57559.2104243171, 60723.9861616145, 65021.6940738929, 68372.258619455, 78523.2988291034, 84577.2190776183, 89732.070876649, 84802.9716853677],
[&quot;Mexico&quot;,10046.1268819126, 10135.7265293228, 10397.8915415223, 10883.8643666506, 11535.0108530091, 12460.5385178945, 13672.6034191998, 14581.5178679935, 15290.896575069, 14336.6153896301],
[&quot;Netherlands&quot;,29405.5490140191, 30788.2508953647, 31943.4974056501, 31702.5798119046, 33208.8592768987, 35110.6577619843, 38063.6877336725, 40744.3819227526, 42887.4361825772, 40813.047575264],
[&quot;New Zealand&quot;,21113.9167562199, 22128.8483527737, 23115.0676326844, 23826.8007737809, 24775.7827578032, 25460.2942993256, 27277.7654223562, 28701.3328788203, 29231.151567007, 29097.307061683],
[&quot;Norway&quot;,36125.7036078917, 37091.7150478501, 37051.9473705873, 38298.8631304819, 42257.5943785044, 47318.7844737929, 53287.9750020125, 55042.2093246253, 60634.9819502298, 55726.7456848212],
[&quot;Poland&quot;,10567.0016558591, 10950.4739587211, 11562.6245018264, 11985.0042955849, 13014.5996003514, 13785.7656450352, 15067.4402978586, 16762.2045951617, 18062.1834289945, 18928.8205162032],
[&quot;Portugal&quot;,17748.6930918065, 18464.7472033934, 19088.1764760703, 19392.2862101711, 19796.1891048601, 21294.1660710906, 22869.9272824917, 24122.9886840593, 24962.2959136026, 24980.061318413],
[&quot;Slovak Republic&quot;,10980.1169029929, 12070.70145551, 12965.6228450353, 13597.9556337584, 14659.0096334623, 16174.4605836956, 18397.5822518716, 20916.5438777989, 23241.0972994031, 22870.8998469728],
[&quot;Slovenia&quot;,17468.5101911515, 18342.8685005009, 19702.0589885459, 20448.2040741134, 22200.7770986247, 23493.9370882038, 25432.3240768864, 27228.3376725332, 29240.5471362484, 27535.6540786883],
[&quot;Spain&quot;,21320.0690041202, 22591.3855327033, 24066.5003000439, 24748.2819467008, 25958.1017090553, 27376.7644983649, 30347.9357063518, 32251.8469529105, 33173.3334547015, 32254.0895139806],
[&quot;Sweden&quot;,27948.4749835611, 28231.3958224236, 29277.7736264795, 30418.0441004337, 32505.646687298, 32701.4327422078, 35680.1787996674, 38339.6698693908, 39321.3014501815, 36996.1394001578],
[&quot;Switzerland&quot;,31618.0958082618, 32103.4812665805, 33390.9169108411, 33266.3042144918, 34536.8476164193, 35478.0395058126, 39116.3945212067, 42755.5569054368, 45516.5601956426, 44830.3719226918],
[&quot;Turkey&quot;,9169.71780977686, 8613.21159842998, 8666.90348260238, 8790.01048446305, 10166.0963401732, 11391.3768057053, 12886.6195973915, 13897.3820310325, 14962.4944915831, 14242.7276329837],
[&quot;United Kingdom&quot;,26071.3066882302, 27578.2857038985, 28887.5850874466, 29848.7319363944, 31790.9933025905, 32724.4057819337, 34970.5193042987, 35719.2060247462, 36817.493156774, 35158.8005888247],
[&quot;United States&quot;,35050.1738557741, 35866.2624634202, 36754.5543204007, 38127.524970345, 40246.0630591955, 42466.1326203714, 44594.9199470326, 46337.2237397566, 46901.0697730874, 45673.7445647402]
];

var year=10;
var rows = data.slice(1,data.length);

var x = pv.Scale.ordinal(pv.range(12)).splitBanded(0, 240, 4/5);
var y = pv.Scale.linear(0, 80000).range(0, 170);

var vis = new pv.Panel()
    .width(250)
    .height(200)
    ;
	vis.add(pv.Bar)
		.data(rows.sort(function(a,b) b[year]-a[year]).slice(0,12))
		.bottom(10)
		.width(x.range().band)
		.height(function(d) y(d[year]))
		.left(function() 5+x(this.index))
		.anchor(&quot;bottom&quot;).add(pv.Label).textAngle(Math.PI/2).text(function(d) d[0]).textBaseline(&quot;middle&quot;).textAlign(&quot;right&quot;)
		;
vis.render();</pre>
<p>here, in the data variable, I&#8217;ve put my 2-dimensional table as I got it. The first row contains headers which I won&#8217;t need. So, in line 40, I create rows which just removes that 1st line with a slice function. data.slice(1,data.length) effectively keeps all the lines but the first.<br />
In the next few lines I create two scales for placing my bars, a standard vis panel and a bar chart. Now, what kind of data will I pass to the bar chart?<br />
I want to sort the rows by the value of the latest year (which happens to be the 11th column, so 10). This is what the rows.sort(function(a,b) b[year]-a[year]) part of the statement does. I&#8217;ve simply assigned 10 to the variable year, so if I want to display other years (with an HTML form for instance) it wouldn&#8217;t be difficult to modify.<br />
And, since I only want the top 12 values, I just write .slice(0,12) after that. </p>
<p>In line 55, I just add a label. pv.Label inherits the data of its parent. The data item is the whole row of my 2-dimensional table, so if I write function(d) d[0], I am referring to the left-most item which will be the country name. </p>
<p>So, with the use of simple array functions, I can easily rework an unprepared dataset in protovis, rather than having to tailor my dataset with manual (and error-prone) manipulations in external programs. Here is the result:<br />
<a href="http://jckr.github.io/blog/wp-content/uploads/2011/02/sortedBar.png"><img src="https://jckr.github.io/blog/wp-content/uploads/2011/02/sortedBar.png" alt="" title="sortedBar" width="250" height="200" class="aligncenter size-full wp-image-589" /></a><br />
Next: <a href="http://jckr.github.io/blog/?p=502">reshaping complex arrays</a></p>
	    		<div class="clear">&nbsp;</div>
	</section>
</article><!-- #post-## -->
			
				
<article id="post-479" class="post-479 post type-post status-publish format-standard hentry category-charts category-data-visualization category-protovis category-tips category-uncategorized tag-hierarchy tag-inheritance tag-protovis tag-tutorial">
		    <header class="post-header">
        			<span class="post-meta">
				<span class="posted-on"><a href="/2011/02/08/working-with-data-in-protovis-part-2-of-5/" rel="bookmark"><time class="entry-date published" datetime="2011-02-08T19:51:01+00:00">February 8, 2011</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="/author/jerome/">jerome</a></span></span> on <a href="/category/charts/" rel="category tag">charts</a>, <a href="/category/data-visualization/" rel="category tag">data visualization</a>, <a href="/category/protovis/" rel="category tag">protovis</a>, <a href="/category/tips/" rel="category tag">tips</a>, <a href="/category/uncategorized/" rel="category tag">Uncategorized</a>			</span>
		        <h1 class="post-title"><a href="/2011/02/08/working-with-data-in-protovis-part-2-of-5/" rel="bookmark">Working with data in protovis – part 2 of 5</a></h1>
         
    </header>
	<section class="post-content">

		<p>Previous post: <a href="http://jckr.github.io/blog/?p=429">simple arrays</a></p>
<h2>Multi-dimensional arrays, associative arrays and protovis</h2>
<p>Even for a simple chart, chances are that you’ll have more than a single series of numbers to represent. For instance, you could have labels to describe what they mean, several series, and so on and so forth.<br />
So, let’s say we want to add these labels to our original examples, so we know what those bars represent.</p>
<table>
<tbody>
<tr>
<td>
<pre class="brush: jscript; title: ; notranslate" title="">var categories = [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;f&quot;];
var vis = new pv.Panel()
  .width(150)
  .height(150);

vis.add(pv.Bar)
  .data([1, 1.2, 1.7, 1.5, .7, .3])
  .width(20)
  .height(function(d) d * 80)
  .bottom(0)
  .left(function() this.index * 25)
  .anchor(&quot;bottom&quot;).add(pv.Label)
    .text(function() categories[this.index]);

vis.render();
</pre>
</td>
<td><a href="http://jckr.github.io/blog/wp-content/uploads/2011/02/categories.png"><img src="https://jckr.github.io/blog/wp-content/uploads/2011/02/categories.png" alt="" title="categories" width="144" height="135" class="aligncenter size-full wp-image-483" /></a></td>
</tr>
</tbody>
</table>
<p>While this did the trick, nothing guarantees that the data proper and the category name will stay coordinated. If one data point is deleted or removed and this is not replicated on the categories, they will no longer match. A more integrated way to proceed would be to group category and data information, like this:</p>
<pre class="brush: jscript; highlight: [16,20]; title: ; notranslate" title="">var data = [
  {key:&quot;a&quot;, value:1},
  {key:&quot;b&quot;, value:1.2},
  {key:&quot;c&quot;, value:1.7}, 
  {key:&quot;d&quot;, value:1.5},
  {key:&quot;e&quot;, value:.7},
  {key:&quot;f&quot;, value:.3}
];
var vis = new pv.Panel()
  .width(150)
  .height(150);

vis.add(pv.Bar)
  .data(data)
  .width(20)
  .height(function(d) d.value * 80)
  .bottom(0)
  .left(function() this.index * 25)
  .anchor(&quot;bottom&quot;).add(pv.Label)
    .text(function(d) d.key);

vis.render();</pre>
<p>This time, we group the values and the category names in a single variable, an array of associative arrays.<br />
When drawing the bar chart, protovis will go through this array and retrieve an associative array for each bar.<br />
We have to change the way the height function is written. The data element being accessed is no longer of the form 1 or 1.7, but {key:”a”, value:1} or {key:”c”, value:1.7}. So to get the number part of it, we must write <strong>d.value</strong>.</p>
<p>Likewise, instead of accessing an array of categories for the text part, we can use the current data element via an accessor function, and write <strong>d.key</strong>.</p>
<h2>Hierarchy and inheritance</h2>
<p>So we’ve seen that arrays, or associative arrays, can have several levels and can be nested one into another.<br />
Interestingly, protovis elements, like panels, charts, mark etc. also work in a <em>hierarchy</em>. For instance, when you start working with protovis you create a panel object. Then, you add other objects to that panel, like a bar chart (our example), or another panel. You can add other objects to your new objects, or attach them to your first panel.<br />
This diagram shows the hierarchy between elements in the previous example.</p>
<table>
<tr>
<td>
<pre class="brush: jscript; title: ; notranslate" title="">var categories = [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;f&quot;];
var vis = new pv.Panel()
  .width(150)
  .height(150)

var bar = vis.add(pv.Bar)
  .data([1, 1.2, 1.7, 1.5, .7, .3])
  .width(20)
  .height(function(d) d * 80)
  .bottom(0)
  .left(function() this.index * 25)
  .anchor(&quot;bottom&quot;).add(pv.Label)
  .text(function() categories[this.index]);

vis.render();</pre>
</td>
<td><a href="http://jckr.github.io/blog/wp-content/uploads/2011/02/hierarchy.png"><img src="https://jckr.github.io/blog/wp-content/uploads/2011/02/hierarchy.png" alt="" title="hierarchy" width="220" height="170" class="aligncenter size-full wp-image-485" /></a></td>
</tr>
</table>
<p>The bar object is considered to be the child of vis, who is its parent.</br><br />
You may know that in protovis, children objects inherit properties of their parents.</br><br />
For instance, if width wasn’t specified for the bar object, it would have the width of its parent, 150. Each mark would cover the whole screen.</p>
<p>For data, when a new object is added, data is either specified at that level, or obtained from the parent element of this object.</p>
<p>Let’s take our example and tweak it a bit.<br />
<table>
<tr>
<td>
<pre class="brush: jscript; highlight: [5]; title: ; notranslate" title="">var vis = new pv.Panel().width(150).height(150);
var bar = vis.add(pv.Bar)
  .data([1, 1.2, 1.7, 1.5, .7, .3]).width(20) .bottom(0)
  .height(function(d) d * 80).left(function() this.index * 25)
  .anchor(&quot;top&quot;).add(pv.Label)
vis.render();</pre>
<td>
<td><a href="http://jckr.github.io/blog/wp-content/uploads/2011/02/part3.png"><img src="https://jckr.github.io/blog/wp-content/uploads/2011/02/part3.png" alt="" title="part3" width="154" height="154" class="aligncenter size-full wp-image-487" /></a></td>
</tr>
</table>
<p>Here, I didn’t specify a data or a text value for the labels I added. They just took the value of its parent element – the marks of the pv.Bar object.<br />
Here’s another variation:</p>
<table>
<tr>
<td>
<pre class="brush: jscript; highlight: [4]; title: ; notranslate" title="">
var vis = new pv.Panel().width(150).height(150);
vis.add(pv.Panel)
  .data([1, 1.2, 1.7, 1.5, .7, .3]) .left(function() this.index * 25)
  .add(pv.Bar).width(20) .bottom(0)
  .height(function(d) d * 80)
  .anchor(&quot;top&quot;).add(pv.Label)
vis.render();</pre>
</td>
<td><a href="http://jckr.github.io/blog/wp-content/uploads/2011/02/part4.png"><img src="https://jckr.github.io/blog/wp-content/uploads/2011/02/part4.png" alt="" title="part4" width="154" height="154" class="aligncenter size-full wp-image-488" /></a></td>
</tr>
</table>
<p>Here, I’m adding panels, then a bar in each panel.<br />
From the root panel, I’m adding a group of panel with this data: [1, 1.2, 1.7, 1.5, .7, .3].<br />
Since there are 6 elements here, I’m adding 6 panels.<br />
Here, the left method applies to each of the panel. The first one is to the left, the next one is 25 pixels further, etc.<br />
I’m then adding a bar object to each panel. Is that one group of bar? Technically yes, but each has only one element! Each pv.Bar <em>implicitly</em> gets the data element of its parent, so the first bar gets [1], the next one gets [1.2], etc. The height of each bar is determined by multiplying the value of that element by 80.<br />
Note that since the fillStyle properties are not defined for the bars, they get the ones which are attributed by default, which explains the color changes.</p>
<p>Further refinement: accessing the data of its parent!</p>
<table>
<tr>
<td>
<pre class="brush: jscript; highlight: [5]; title: ; notranslate" title="">
var vis = new pv.Panel().width(150).height(150);
vis.add(pv.Panel)
  .data([1, 1.2, 1.7, 1.5, .7, .3]) .left(function() this.index * 25)
  .add(pv.Bar).width(20) .bottom(0)
  .height(function(a,b) b * 80)
  .anchor(&quot;top&quot;).add(pv.Label)
vis.render();
</pre>
</td>
<td><a href="http://jckr.github.io/blog/wp-content/uploads/2011/02/part4.png"><img src="https://jckr.github.io/blog/wp-content/uploads/2011/02/part4.png" alt="" title="part4" width="154" height="154" class="aligncenter size-full wp-image-488" /></a></td>
</tr>
</table>
<p>Well, the output is exactly the same, but how I obtained the data is different. Instead of getting the data using the standard accessor function, I passed two arguments: function(a, b).<br />
What this does is that the first argument corresponds to the current data element of this object, and the second, to that of its parent.</p>
<p>In this example, they happen to be the same, but this is how you can access the data of the parent objects.</p>
<h2>Putting it all together</h2>
<p>Let&#8217;s see how we can use protovis and the properties of hierarchy! This example is less trivial than the ones we&#8217;ve seen so far but with what we&#8217;ve seen it is quite accessible.<br />
The challenge: re-create <a href="http://eagereyes.org/communication/Engaging-readers-with-square-pie-waffle-charts.html">square pie charts</a>.<br />
How it&#8217;s done: </p>
<pre class="brush: jscript; title: ; notranslate" title="">var data=[36,78,63,24],  // arbitrary numbers
cellSize = 16,
cellPadding = 1,
squarePadding=5,
colors=pv.Colors.category20().range()
;

var vis=new pv.Panel()
    .width(4*(10*cellSize+squarePadding))
    .height(10*cellSize)
    ;

var square = vis.add(pv.Panel)
    .data(data)
    .width(10*cellSize)
    .height(10*cellSize)
    .left(function() this.index*(cellSize*10+squarePadding))
    ;

var row = square.add(pv.Panel)
	.data([0,1,2,3,4,5,6,7,8,9])
	.height(cellSize)
	.bottom(function(d) d*cellSize)
	;

var cell = row.add(pv.Panel)
    .data([0,1,2,3,4,5,6,7,8,9])
    .height(cellSize-2*cellPadding)
    .width(cellSize-2*cellPadding)
    .top(cellPadding)
    .left(function(d) d*cellSize+cellPadding)
    .fillStyle(function(a,b,c) (b*10+a)&lt;c?colors[this.parent.parent.index].color:&quot;lightGrey&quot;)
;

square.anchor(&quot;center&quot;)
  .add(pv.Label)
    .text(function(d) d)
    .textStyle(&quot;rgba(0,0,0,.1)&quot;)
    .font(&quot;100px sans-serif&quot;);

vis.render();</pre>
<p>First, we initiate the data (4 arbitrary numbers from 1 to 100), and various parameters which will help size the square pie &#8211; size of the cells, space between them, space between the square pie charts. We also initiate a color palette.<br />
Then, we are going to create 4 panels or groups of panels, each a child of the previous one.<br />
First comes the <strong>vis</strong> panel, which groups everything,<br />
Then the <strong>square </strong>panels, which correspond to each square pie. This is to this panel that our data is assigned.<br />
Then come the <strong>row </strong>panels, and, finally, the <strong>cell </strong>panels.<br />
The numbers which we want to represent are assigned to the square panel. So, what data are we passing to the row and the cell panels? The only thing we want is to have 10 rows and 10 cells per row. So, we can use an array with 10 items. We are going to use [0,1,2,3,4,5,6,7,8,9] so the data value of the row and that of the cell will correspond to the coordinate of the row and the cell, respectively. In other words, the 5th row will be assigned the data value of 4, and the 7th cell in that row will get the data value of 6. We could retrieve the same numbers using &#8220;this.index&#8221; but this can lead to obfuscated formulas.</p>
<p>Note that in the next part of the tutorial, we&#8217;ll see that in Protovis, there is a more elegant way to write [0,1,2,3,4,5,6,7,8,9] or similar series of numbers. But, we&#8217;ll leave this more explicit form for now.</p>
<p>Back to our row panel. We position it with bottom(function(d) d*cellSize). Here, again, d represents the rank of the row, so the 1st row will get 0, and its bottom value will be 0, the next row will get 1, and its bottom value will be 1*cellSize or 16, etc. </p>
<p>Likewise, in the cell panel, the cells are positioned with left(function(d) d*cellSize+cellPadding). This is the same principle. (here, cellPadding is just used to fine-tune the position of the cell).</p>
<p>This is in the final line that we are really going to use hierarchy.</p>
<pre class="brush: jscript; title: ; notranslate" title="">.fillStyle(function(a,b,c) (b*10+a)&lt;c?colors[this.parent.parent.index].color:&quot;lightGrey&quot;)</pre>
<p>here, a represents the data value of the cell &#8211; in other words, the column number.<br />
b, the data value of the cell&#8217;s parent, the row. This is the row number.<br />
and c is the data value of the parent of the parent of the row, the square &#8211; this is the number that we are trying to represent.</p>
<p>so, what we are going to determine is whether b*10+a&lt;c. If that&#8217;s the case, we color the cell, else, we leave it in pale grey. To get the color we need, we go back to the palette that we defined at the beginning, and take the color corresponding to the square number (0 to 3 from left to right).<br />
The square number can be obtained by this.parent.parent.index.</p>
<p>Finally, we add the numbers in large transparent gray digits on top of the squares.</p>
<p>Here is the result:<br />
<a href="http://jckr.github.io/blog/wp-content/uploads/2011/02/squarePies.png"><img src="https://jckr.github.io/blog/wp-content/uploads/2011/02/squarePies.png" alt="" title="squarePies" width="660" height="160" class="aligncenter size-full wp-image-559" /></a></p>
<p>Next: <a href="http://jckr.github.io/blog/?p=49">Javascript and protovis array functions</a></p>
	    		<div class="clear">&nbsp;</div>
	</section>
</article><!-- #post-## -->
			
				
<article id="post-449" class="post-449 post type-post status-publish format-standard hentry category-charts category-data-visualization tag-education tag-good tag-protovis tag-scatterplot">
		    <header class="post-header">
        			<span class="post-meta">
				<span class="posted-on"><a href="/2011/01/29/are-the-richest-americans-the-best-educated/" rel="bookmark"><time class="entry-date published" datetime="2011-01-29T01:38:34+00:00">January 29, 2011</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="/author/jerome/">jerome</a></span></span> on <a href="/category/charts/" rel="category tag">charts</a>, <a href="/category/data-visualization/" rel="category tag">data visualization</a>			</span>
		        <h1 class="post-title"><a href="/2011/01/29/are-the-richest-americans-the-best-educated/" rel="bookmark">Are the richest Americans the best educated?</a></h1>
         
    </header>
	<section class="post-content">

		This all started from <a href="http://awesome.good.is/transparency/web/1101/census-data/flat.html">this map</a> from GOOD magazine. It went viral on Twitter, which puzzled the data vis community. <a href="http://well-formed-data.net/">Moritz Stefaner</a> notably asked others for advice and input, and <a href="http://www.visualisingdata.com/index.php/2011/01/discussing-are-the-richest-americans-also-the-best-educated/">Andy Kirk</a>, then <a href="http://fellinlovewithdata.com/reflections/demystifying-cargo-cult-visualization-you-cannot-visualize-3-variables-by-mixing-3-colors">Enrico Bertini</a> answered in some detail. <a href="/2011/01/29/are-the-richest-americans-the-best-educated/#more-449" class="more-link">&hellip;&nbsp;<span class="meta-nav">&rarr;</span></a>	    		<div class="clear">&nbsp;</div>
	</section>
</article><!-- #post-## -->
			
				
<article id="post-410" class="post-410 post type-post status-publish format-standard hentry category-charts category-data-visualization tag-aid tag-chart tag-extreme-charts tag-illegible-charts tag-pie-charts">
		    <header class="post-header">
        			<span class="post-meta">
				<span class="posted-on"><a href="/2010/04/21/there-are-virtues-to-an-illegible-chart/" rel="bookmark"><time class="entry-date published" datetime="2010-04-21T18:54:12+00:00">April 21, 2010</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="/author/jerome/">jerome</a></span></span> on <a href="/category/charts/" rel="category tag">charts</a>, <a href="/category/data-visualization/" rel="category tag">data visualization</a>			</span>
		        <h1 class="post-title"><a href="/2010/04/21/there-are-virtues-to-an-illegible-chart/" rel="bookmark">There are virtues to an illegible chart</a></h1>
         
    </header>
	<section class="post-content">

		<h2>It all started with an extreme pie chart</h2>
<p>A few weeks back, there&#8217;s been a <a href="http://aidwatchers.com/2010/03/worst-in-aid-the-grand-prize/">chart on aid</a> who&#8217;s made the rounds of the internet:</p>
<p><div id="attachment_411" style="width: 460px" class="wp-caption aligncenter"><a href="http://jckr.github.io/blog/wp-content/uploads/2010/04/US_aid_graph4501.png"><img class="size-full wp-image-411" title="All US ODA by recipient, 2004-2008, OECD data" src="https://jckr.github.io/blog/wp-content/uploads/2010/04/US_aid_graph4501.png" alt="" width="450" height="309" /></a><p class="wp-caption-text">All US ODA by recipient, 2004-2008, OECD data, taken from USAidWatchers.com</p></div>
<p>What this chart shows is that US aid is concentrated in a few countries. The <a href="http://aidwatchers.com/2010/03/worst-in-aid-the-grand-prize/">article explains that this is a result of the 3D doctrine</a>, which ties development with diplomacy and defense. This is why US gives so much to strategic countries like Afghanistan, Iraq, or Sudan, but relatively little to India &#8211; highlighted in the chart, which has &#8220;a huge chunk of the world&#8217;s poor&#8221;.</p>
<p>When I saw that chart I was planning to create a chart or a data visualization <a href="https://community.oecd.org/community/factblog/blog/2010/04/16/aid-for-fragile-states">on the same subject for my work</a>. The original chart was being heavily criticized for its form, because half of it is not legible. Chart purists don&#8217;t like pie charts for that very reason &#8211; they are difficult to read, especially if you add more items. But I found the chart interesting. It states in a very striking way that more than a hundred countries in the world get next to nothing from the USA.</p>
<h2>An apology of  extreme charts</h2>
<p><strong>There are virtues to an illegible chart</strong>. In fact, I don&#8217;t believe that a chart should give equal prominence to each and every of its datapoints. <strong>In most cases</strong>, it&#8217;s here to support a story, so <strong>all it should do is bear a message</strong>. Tufte popularized the notion of <a href="http://www.infovis-wiki.net/index.php/Data-Ink_Ratio">data-ink ratio</a>, which states that a chart designer should use the largest share of ink to represent data, not everything else. I feel this is taken too literally by many.</p>
<p>There is a tradition of <em>extreme charts</em> which purposely break presentation rules because of the very nature of the subject they are plotting. A famous example is Al Gore on his lift &#8211; if CO2 emissions hadn&#8217;t increased so much, he wouldn&#8217;t need that lift to show his chart.</p>
<p> </p>
<p><div id="attachment_412" style="width: 310px" class="wp-caption aligncenter"><a href="http://jckr.github.io/blog/wp-content/uploads/2010/04/blog_inconvenient_truth.jpg"><img class="size-medium wp-image-412" title="blog_inconvenient_truth" src="https://jckr.github.io/blog/wp-content/uploads/2010/04/blog_inconvenient_truth-300x200.jpg" alt="" width="300" height="200" /></a><p class="wp-caption-text">Al Gore on his lift, the most memorable image of An Inconvenient Truth</p></div>
<p>Another one &#8211; from the NY Times, one of the charts that Matthew Ericson showed in his <a href="http://www.ericson.net/content/2007/10/infovis/">Infovis 2007 keynote speech:</a></p>
<p><div id="attachment_413" style="width: 393px" class="wp-caption aligncenter"><a href="http://jckr.github.io/blog/wp-content/uploads/2010/04/NYTcasualties.png"><img class="size-large wp-image-413" title="NYTcasualties" src="https://jckr.github.io/blog/wp-content/uploads/2010/04/NYTcasualties-639x1024.png" alt="In perspective: America's conflicts. NY Times" width="383" height="614" /></a><p class="wp-caption-text">Click to see the full image - it is big. I really like this chart.</p></div>
<p style="text-align: left;">Again, if the number of US soldiers killed per month had not been so high in WWII, the 2nd group of bars wouldn&#8217;t overwrite the text above and sky-rocket to the top of the page. The logical thing to do would have been to scale the chart so that the maximum values would fit in a well-delimited space, and maybe use a logarithmic scale so that the values for other wars would remain legible. That&#8217;s how we would have done it if we had to plot that kind of series in an OECD book. The fact that the NYT designers chose, on the contrary, to let the data rise all the way to the top of  the page expresses in a very powerful way the extreme nature of the WWII casualties.</p>
<p style="text-align: left;">&#8220;A conventional chart couldn&#8217;t hold all that horror&#8221;, the chart seems to say. Likewise, if CO2 emissions had grown more steadily over the past couple of centuries, Al Gore wouldn&#8217;t have needed a lift. By the same token, if aid values to about 100 countries were more than negligible, they could be seen on that chart. So granted, there could be more academic ways to show that, like a giant bar chart with values too small to see for all but a handful of states. But all in all I think <strong>the original pie chart does a good job</strong> in communicating that in a nutshell,  <em>ad absurdum</em> if you will.</p>
<h2>My take on the chart</h2>
<p style="text-align: left;">I wanted to work on a specific subset of aid data, that which goes to fragile states, which are, simply put, the 43 countries in the greatest need of aid. Now official aid from developed countries, like US aid, is very concentrated, meaning that only 10 of these countries got more than $1b in 2008. Only 10 countries got more than $100 per capita in that year.</p>
<p style="text-align: left;">Another interesting aspect of the data is that for many of these countries, aid only mostly from one or two donors, so they are vulnerable to a policy change in that country. That&#8217;s what I wanted to show in the representation.</p>
<p> </p>
<p> </p>
<p><script type="text/javascript" src="http://public.tableausoftware.com/javascripts/api/viz_v1.js"></script><object class="tableauViz" width="654" height="918" style="display:none;"><param name="name" value="fragilestates/dash" /><param name="toolbar" value="yes" /></object><noscript>dash <br /><a href="#"><img alt="dash " src="http://public.tableausoftware.com/static/images/fragilestates-dash_rss.png" height="100%" /></a></noscript>
<div style="width:654px;height:22px;padding:0px 10px 0px 0px; margin-top: -6px; color:black;font:normal 8pt verdana,helvetica,arial,sans-serif;">
<div style="padding-left: 538px;"><a href="http://www.tableausoftware.com/public?ref=http://public.tableausoftware.com/views/fragilestates/dash" target="_blank">Powered by Tableau</a></div>
</div>
	    		<div class="clear">&nbsp;</div>
	</section>
</article><!-- #post-## -->
			
				
<article id="post-342" class="post-342 post type-post status-publish format-standard hentry category-book-review category-charts category-data-publishing category-data-visualization category-tips tag-advice tag-chart tag-data-presentation tag-graphics tag-guidelines tag-how-to tag-meaningful-graphics">
		    <header class="post-header">
        			<span class="post-meta">
				<span class="posted-on"><a href="/2010/02/10/making-data-meaningful-style-guide-on-the-presentation-of-statistics/" rel="bookmark"><time class="entry-date published" datetime="2010-02-10T18:53:46+00:00">February 10, 2010</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="/author/jerome/">jerome</a></span></span> on <a href="/category/book-review/" rel="category tag">book review</a>, <a href="/category/charts/" rel="category tag">charts</a>, <a href="/category/data-publishing/" rel="category tag">data publishing</a>, <a href="/category/data-visualization/" rel="category tag">data visualization</a>, <a href="/category/tips/" rel="category tag">tips</a>			</span>
		        <h1 class="post-title"><a href="/2010/02/10/making-data-meaningful-style-guide-on-the-presentation-of-statistics/" rel="bookmark">Making data meaningful &#8211; Style guide on the presentation of statistics</a></h1>
         
    </header>
	<section class="post-content">

		<p><a href="http://bit.ly/mdm-2"><img class="aligncenter size-full wp-image-343" title="Making Data Meaningful part 2" src="https://jckr.github.io/blog/wp-content/uploads/2010/02/mdm2.png" alt="Making Data Meaningful part 2" width="400" height="564" /></a><br />
Introducing <a href="http://bit.ly/mdm-2">Making Data Meaningful Part 2 &#8211; Style guide on the presentation of statistics</a> &#8211; which, as its name cleverly suggests, is a compilation of  advice to present graphical information.</p>
<p>It&#8217;s a follow up to <a href="/category/charts/page/2/www.unece.org/stats/documents/writing/">Making Data Meaningul part 1</a> , which focused on <em>writing </em>about data, as opposed to visualize it.</p>
<p>The book is a cooperation between representatives of national statistical offices and intergovernmental organizations &#8211; all public statisticians, if you will. I hope it will help others to communicate their data better. Personally, I have written the part about charts and collaborated to some other chapters. But if I could sum up my advice in one sentence, it would be: go buy <a href="http://www.perceptualedge.com/">Stephen Few</a> books. Start with <a href="http://www.amazon.com/Show-Me-Numbers-Designing-Enlighten/dp/0970601999/ref=sr_1_1?ie=UTF8&amp;s=books&amp;qid=1265820159&amp;sr=8-1">Show me the numbers.</a></p>
<p>The list of people who collaborated to the book includes:</p>
<ul>
<li>from the <a href="/category/charts/page/2/www.abs.gov.au/">Australian Bureau of Statistics</a>, Kerrie Duff and Andrew Mair;</li>
<li>from the <a href="http://www.census.gov/">Census Bureau</a>, Ken Meyer;</li>
<li>from <a href="/category/charts/page/2/www.eia.doe.gov/">EIA</a>, Colleen Blessing;</li>
<li>from <a href="http://www.oecd.org/">OECD</a>, my colleagues Eileen Capponi and Terri Mitton.</li>
<li>from <a href="/category/charts/page/2/www.statcan.gc.ca/">Statistics Canada</a>, John Flanders, Martine Grenier, Martin Lachance and Eric St John (who edited the manuscript);</li>
<li>from the <a href="http://www.statistics.admin.ch/">Swiss Federal Statistical Office</a>, <a href="http://blogstats.wordpress.com/">Armin Grossenbacher</a> and Thomas Schultz;</li>
<li>from the <a href="/category/charts/page/2/www.statistics.gov.uk/">UK Office of National Statistics</a>, David Marder and Alan Smith;</li>
<li>and from <a href="http://www.unece.org/">UNECE</a>, Petteri Baer, Jessica Gardner (who coordinated the project), and Anne-Christine Wanders.</li>
</ul>
	    		<div class="clear">&nbsp;</div>
	</section>
</article><!-- #post-## -->
			
				
<article id="post-328" class="post-328 post type-post status-publish format-standard hentry category-charts category-data-visualization tag-beta tag-tableau tag-tableau-public tag-visualization">
		    <header class="post-header">
        			<span class="post-meta">
				<span class="posted-on"><a href="/2010/01/22/more-on-tableau-public/" rel="bookmark"><time class="entry-date published" datetime="2010-01-22T19:19:59+00:00">January 22, 2010</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="/author/jerome/">jerome</a></span></span> on <a href="/category/charts/" rel="category tag">charts</a>, <a href="/category/data-visualization/" rel="category tag">data visualization</a>			</span>
		        <h1 class="post-title"><a href="/2010/01/22/more-on-tableau-public/" rel="bookmark">More on Tableau Public</a></h1>
         
    </header>
	<section class="post-content">

		<p><a href="http://jckr.github.io/blog/?p=313">Yesterday&#8217;s post</a> on <a href="http://public.tableausoftware.com/">Tableau Public </a> generated a surge of traffic so I thought I should add more examples and practical information for people interested in the software.</p>
<p> </p>
<p>Here&#8217;s a quick one on health, based on <a href="http://www.oecdilibrary.org/content/book/health_glance-2009-en">OECD Health at a Glance</a>:</p>
<p><a href="http://publicbeta.tableausoftware.com/views/Health/Correlations"><img srcs="http://publicbeta.tableausoftware.com/static/images/Health-Correlations_rss.png" alt="click to interact" width="600" height="331" /></a></p>
<p>Just select two indicators, and you see how one influences the other. Or rather, is correlated because correlation doesn&#8217;t imply causation!</p>
<p>Here are links to more example done with Tableau Public.<br /> <a href="http://jckr.github.io/blog/wp-content/uploads/2010/01/unesco.jpg"><img class="alignnone size-full wp-image-335" title="unesco" src="https://jckr.github.io/blog/wp-content/uploads/2010/01/unesco.jpg" alt="" width="120" height="128" /></a><br /> Another Paris-based intergovernmental organisation is using Tableau &#8211; the <a href="http://www.unesco.org/en/efareport/dme/">UNESCO</a>.</p>
<p>These 2 have been done by <a href="http://www.paho.org/">PAHO</a> to describe the situation in Haiti (the 2nd is really powered by Tableau Server, but it&#8217;s close enough)<br /> <a href="http://new.paho.org/hq/index.php?option=com_content&amp;task=blogcategory&amp;id=511&amp;Itemid=1864"><img class="alignnone size-full wp-image-337" style="margin-left: 10px; margin-right: 10px;" title="HaitiPAHO1" src="https://jckr.github.io/blog/wp-content/uploads/2010/01/HaitiPAHO1.png" alt="" width="128" height="128" /></a><a href="http://ais.paho.org/phip/viz/haiti_healthfacilities.asp"><img class="alignnone size-full wp-image-336" title="HaitiPAHO2" src="https://jckr.github.io/blog/wp-content/uploads/2010/01/HaitiPAHO2.png" alt="" width="128" height="128" /></a></p>
<p> </p>
<p>There are further examples on the<a href="http://www.tableausoftware.com/blog/"> Tableau blog.</a></p>
<p>Now more about Tableau Public and the Beta.</p>
<p>Tableau Public doesn&#8217;t exactly allow you to do everything that Tableau does <em>from </em>the web. To prepare the views which are going to be published on the web, you need to use a software that runs on your computer.  It lets you do whatever you can do with the regular Tableau Desktop, with a couple of limitations: you have to stick to basic source file types (access, excel, and text file, no exotic database) and you are limited to 100,000 records of data. One other difference with the regular Tableau Desktop  is that you can&#8217;t save your work locally: you have to save it on the web, in your private space on Tableau servers. However, there are the same analytical and visual features in Tableau Public than in Tableau Desktop.</p>
<p>When your work is published, users don&#8217;t have access to all the tools you had when creating the view: they can&#8217;t move dimensions around, create exotic filters or calculations. They really see the chart as you intended it to be seen. There are a certain number of interactions built-in, however: users can select, highlight, sort and filter. If you are publishing a dashboard, the different tables and charts of the dashboard can be linked, meaning that an action (such as highlighting one dimension) in one place will be replicated elsewhere, or not. The underlying data can also be downloaded. So there is a great deal of interactivity, but not enough to twist your display beyond recognition. That being said, other Tableau Public users can download your workbook and manipulate it with the client software.</p>
<p>About the Beta: currently, Tableau Public is in closed beta. It will be in open Beta in February, as far as I know. To get a spot in the close beta, you need to write to the people of Tableau.</p>
<p> </p>
	    		<div class="clear">&nbsp;</div>
	</section>
</article><!-- #post-## -->
			
				
<article id="post-306" class="post-306 post type-post status-publish format-standard hentry category-charts">
		    <header class="post-header">
        			<span class="post-meta">
				<span class="posted-on"><a href="/2010/01/05/health-statistics/" rel="bookmark"><time class="entry-date published" datetime="2010-01-05T18:17:53+00:00">January 5, 2010</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="/author/jerome/">jerome</a></span></span> on <a href="/category/charts/" rel="category tag">charts</a>			</span>
		        <h1 class="post-title"><a href="/2010/01/05/health-statistics/" rel="bookmark">Health statistics</a></h1>
         
    </header>
	<section class="post-content">

		<p>In the last days of 2009, <a title="the cost of care - large version" href="http://blogs.ngm.com/.a/6a00e0098226918833012876a6070f970c-800wi">this chart</a> has been published by the <a href="http://blogs.ngm.com/blog_central/2009/12/the-cost-of-care.html">National Geographic blog</a>:<br />
<a title="Click for a large version" href="http://blogs.ngm.com/.a/6a00e0098226918833012876a6070f970c-800wi" target="_blank"><img srcs="http://blogs.ngm.com/.a/6a00e00982269188330120a76420ea970b-500wi" alt="the cost of care" /></a></p>
<p>The chart has since been debated and criticized, among others, by <a href="http://peltiertech.com/WordPress/graphing-the-cost-of-health-care/">Jon Peltier</a>, <a href="http://www.stat.columbia.edu/~cook/movabletype/archives/2009/12/not_the_best_ti.html">Andrew Gelman</a>, and <a href="http://www.seefirstblog.com/2009/12/25/warning-graphic-politics/">Evan Falchuk</a> &#8211; which all made valid points. For instance, to show correlation and outliers, a scatterplot does a much better job. That being said, it&#8217;s difficult to see the country names with a scatterplot. On the substance, the number of doctor visits is not the most relevant variable to bring into this picture, mostly because this number directly depends on the compensation mode of these doctors, not on their efficiency. The notion of &#8220;universal coverage&#8221; is also quite arbitrary. France, for instance, which had what could be called universal coverage since 1945, got an even more &#8220;universal&#8221; one in 2000. And still, some people can&#8217;t receive the healthcare they need.</p>
<p>The chart is based on OECD data, from a recently released book: <a title="OECD Health at a Glance" href="/category/charts/page/2/bit.ly/51WhJL">OECD Health at a Glance</a>.  For the release of the book, I had worked on 2 presentations, which we remained unpublished. Since they were not formerly published by OECD the standard disclaimer apply &#8211; they do not commit the organization and do not necessarily represent its point of view and that of its members.</p>
<p>Anyway, for anyone interested in health statistics in general and in USA healthcare specifically, here they are in their slideshare glory:</p>
<div id="__ss_2833433" style="width: 425px; text-align: left;"><a style="font:14px Helvetica,Arial,Sans-serif;display:block;margin:12px 0 3px 0;text-decoration:underline;" title="Health At A Glance Focus On Usa" href="http://www.slideshare.net/vozome/health-at-a-glance-focus-on-usa-2833433">Health At A Glance Focus On Usa</a><object style="margin:0px" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="425" height="355" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"><param name="allowFullScreen" value="true" /><param name="allowScriptAccess" value="always" /><param name="src" value="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=healthataglancefocusonusa-100105092901-phpapp01&amp;rel=0&amp;stripped_title=health-at-a-glance-focus-on-usa-2833433" /><param name="allowfullscreen" value="true" /><embed style="margin:0px" type="application/x-shockwave-flash" width="425" height="355" src="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=healthataglancefocusonusa-100105092901-phpapp01&amp;rel=0&amp;stripped_title=health-at-a-glance-focus-on-usa-2833433" allowscriptaccess="always" allowfullscreen="true"></embed></object></p>
<div style="font-size: 11px; font-family: tahoma,arial; height: 26px; padding-top: 2px;">View more <a style="text-decoration:underline;" href="http://www.slideshare.net/">presentations</a> from <a style="text-decoration:underline;" href="http://www.slideshare.net/vozome">Jérôme Cukier</a>.</div>
</div>
<div id="__ss_2833432" style="width: 425px; text-align: left;"><a style="font:14px Helvetica,Arial,Sans-serif;display:block;margin:12px 0 3px 0;text-decoration:underline;" title="Health At A Glance" href="http://www.slideshare.net/vozome/health-at-a-glance-2833432">Health At A Glance</a><object style="margin:0px" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="425" height="355" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"><param name="allowFullScreen" value="true" /><param name="allowScriptAccess" value="always" /><param name="src" value="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=healthataglance-100105092904-phpapp01&amp;rel=0&amp;stripped_title=health-at-a-glance-2833432" /><param name="allowfullscreen" value="true" /><embed style="margin:0px" type="application/x-shockwave-flash" width="425" height="355" src="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=healthataglance-100105092904-phpapp01&amp;rel=0&amp;stripped_title=health-at-a-glance-2833432" allowscriptaccess="always" allowfullscreen="true"></embed></object></p>
<div style="font-size: 11px; font-family: tahoma,arial; height: 26px; padding-top: 2px;">View more <a style="text-decoration:underline;" href="http://www.slideshare.net/">presentations</a> from <a style="text-decoration:underline;" href="http://www.slideshare.net/vozome">Jérôme Cukier</a>.</div>
</div>
	    		<div class="clear">&nbsp;</div>
	</section>
</article><!-- #post-## -->
			
				
<article id="post-228" class="post-228 post type-post status-publish format-standard hentry category-charts category-presentation tag-excel tag-excel-2010 tag-office tag-office-2010 tag-powerpoint tag-powerpoint-2010 tag-word tag-word-2010">
		    <header class="post-header">
        			<span class="post-meta">
				<span class="posted-on"><a href="/2009/10/06/testing-microsoft-office-2010/" rel="bookmark"><time class="entry-date published" datetime="2009-10-06T19:03:47+00:00">October 6, 2009</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="/author/jerome/">jerome</a></span></span> on <a href="/category/charts/" rel="category tag">charts</a>, <a href="/category/presentation/" rel="category tag">presentation</a>			</span>
		        <h1 class="post-title"><a href="/2009/10/06/testing-microsoft-office-2010/" rel="bookmark">Testing Microsoft Office 2010</a></h1>
         
    </header>
	<section class="post-content">

		<p>If you are using computers for work, chances are that you are spending a good portion of your day with Microsoft products such as the Office suite. Some hate it, some love it, but to hundreds of millions it&#8217;s part of our daily lives and its design choices affect how we think and work in a much more profound way than we are aware of. So, the release of a new version of Office is always a significant event.</p>
<p>I&#8217;ve just installed Office 2010 and here are my first impressions.</p>
<h2>The UI is rationalized.</h2>
<p><div id="attachment_235" style="width: 610px" class="wp-caption aligncenter"><a href="http://jckr.github.io/blog/wp-content/uploads/2009/10/excel-2010.png"><img class="size-full wp-image-235" title="excel 2010" src="https://jckr.github.io/blog/wp-content/uploads/2009/10/excel-2010.png" alt="excel 2010" width="600" height="552" /></a><p class="wp-caption-text">The UI is rationalized.</p></div></p>
<p style="text-align: center;">
<p>The interface will be familiar to Office 2007 users &#8211; they are <strong>still using the ribbon</strong>. Only a few buttons have been added to the applications I&#8217;ve tested, and the others have fortunately not moved since the previous version. However, the ribbon&#8217;s colours have been muted to a conservative white to grey gradient, which is <strong>much easier on the eyes</strong>. The added benefit is to make highlighted sections of the ribbon stand out much more efficiently.</p>
<p><div id="attachment_236" style="width: 808px" class="wp-caption aligncenter"><a href="http://jckr.github.io/blog/wp-content/uploads/2009/10/excel-highlight.png"><img class="size-full wp-image-236" title="excel highlight" src="https://jckr.github.io/blog/wp-content/uploads/2009/10/excel-highlight.png" alt="excel highlight" width="798" height="509" /></a><p class="wp-caption-text">Highlighting a section works much better against a sober gray than against a vivid blue.</p></div></p>
<p style="text-align: center;">
<p>The one button that changed was the<strong> top-left Office button</strong>. Frankly, what it was for was obvious to no-one in Office 2007. Due to its appearance, it wasn&#8217;t really clear that it was clickable, and the commands it gave access to were a mixed bunch &#8211; file control, program options, printing, document properties&#8230; which, before, were not in the same top-category.</p>
<p><div id="attachment_237" style="width: 646px" class="wp-caption aligncenter"><a href="http://jckr.github.io/blog/wp-content/uploads/2009/10/office-backstage.png"><img class="size-full wp-image-237" title="office backstage" src="https://jckr.github.io/blog/wp-content/uploads/2009/10/office-backstage.png" alt="This new area is called &quot;Office backstage&quot; and is a welcome change to the akward &quot;file&quot; menu or office button from previous versions." width="636" height="553" /></a><p class="wp-caption-text">This new area is called &quot;Office backstage&quot; and is a welcome change to the akward &quot;file&quot; menu or office button from previous versions.</p></div></p>
<p>In Office 2010, the Office button is still there, but this time, it looks like a button and is much more inviting. This time, it presents the user with the various commands on a separate screen. That way, commands are well-categorized, and there is ample space for UI designers to explain those commands which are not clear. This had not been possible when all those commands were forced to fit in one tiny menu.</p>
<p>Another thing that jumped at me when I started manipulating the programs were the <strong>improvement in the copy/paste interface</strong>. It&#8217;s fair to say that pasting has always been a very time-consuming task. It had never been easy, for instance, to paste values only or to keep source formatting, without having to open menus and choose options which require time and effort. Besides, some pasting options descriptions are cryptic and a bit daunting, so novice users aren&#8217;t encouraged to use them for fear of what might happen.</p>
<p><div id="attachment_238" style="width: 547px" class="wp-caption aligncenter"><a href="http://jckr.github.io/blog/wp-content/uploads/2009/10/paste1.png"><img class="size-full wp-image-238" title="paste1" src="https://jckr.github.io/blog/wp-content/uploads/2009/10/paste1.png" alt="I've been using Excel for about 15 years so I know my way around. But improvement in the paste interface directly translates into productivity gains." width="537" height="491" /></a><p class="wp-caption-text">I&#39;ve been using Excel for about 15 years so I know my way around. But improvement in the paste interface directly translates into productivity gains.</p></div></p>
<p>Now the various pasting options are promoted within the contextual menu &#8211; they are big icons, and it is possible to preview how pasted material would look before pasting. The best part is that these commands are now accessible via native keyboard shortcuts, so we no longer need a string of 4 mouse clicks, or having to key in <span style="text-decoration: line-through;">alt+E, V, S,  enter</span> alt + H, V, S, V, enter in sequence. After a normal paste (ctrl +V) you can hold control and choose a one key option, such as V for values, T for transposing, etc. Much better.</p>
<h2>Changes in the Excel chart engine</h2>
<p>There are 3 ways in Excel to represent numbers graphically: charts proper, pivot charts and sparklines.</p>
<p><strong>Charts </strong>and pivot Charts<strong> didn&#8217;t see much improvement</strong> since the previous version of Excel. The formatting options move along in the direction initiated by Excel 2007: in addition to the controversed 3-D format set of options, users now have an advanced &#8220;shadow&#8221; and &#8220;glow and soft edges&#8221; submenus to spice up their charts. The interface for designing gradient fills has been upgraded. The underlying functionality remains unchanged but it is now easier to control. However, the pattern fill option returns, which is great news for people who print their graphs in B&amp;W.</p>
<p><div id="attachment_239" style="width: 533px" class="wp-caption aligncenter"><a href="http://jckr.github.io/blog/wp-content/uploads/2009/10/shadow-and-soft-edges.png"><img class="size-full wp-image-239" title="shadow and soft edges" src="https://jckr.github.io/blog/wp-content/uploads/2009/10/shadow-and-soft-edges.png" alt="Even more complex formatting options mean a greater chance to use them poorly" width="523" height="384" /></a><p class="wp-caption-text">Even more complex formatting options mean a greater chance to use them poorly</p></div></p>
<p><strong>Sparklines are the real innovation of Excel 2010</strong>. Sparklines are a minimalist genre of chart that has been designed to fit in the regular flow of the text &#8211; they don&#8217;t require more space to be legible and efficient. While sparklines do not allow a user to look up the value of a specific data point, they are very efficient for communicating a trend. As such, they are increasingly used in dashboards and reports. There has been 3rd-party solutions to implement them in Excel but this native implementation is robust and well done. This will put sparklines on the radar for the great number of people who didn&#8217;t use them because they were not aware of their existence.</p>
<p><div id="attachment_240" style="width: 603px" class="wp-caption aligncenter"><a href="http://jckr.github.io/blog/wp-content/uploads/2009/10/sparklines.png"><img class="size-full wp-image-240" title="sparklines" src="https://jckr.github.io/blog/wp-content/uploads/2009/10/sparklines.png" alt="Sparklines give immediate insight on the trends in this data table. A dot marks when the maximum value was reached. That makes it easier to compare peaks at a glance." width="593" height="627" /></a><p class="wp-caption-text">Sparklines give immediate insight on the trends in this data table. A dot marks when the maximum value was reached. That makes it easier to compare peaks at a glance.</p></div></p>
<h2>Changes in other applications</h2>
<p><strong>Word </strong>has advanced options for opentype fonts, for instance, if your font has several character sets, you can now access them from Word. This is especially good for <a href="http://www.youtube.com/watch?v=WjhDWAXlAII">distressed fonts</a> or the excessively ornate ones. In addition to kerning, it is now possible to control ligatures (i.e. to allow users to specify how ff, fl or fi would appear on screen, as one unique glyph or as two separated letters). Another new feature of Word is an advanced spell checker who is able to warn you of possible word choice errors, when using homonyms for instance.</p>
<p>On my setup, these 3 options didn&#8217;t really work, but it&#8217;s a beta and I understand the intent.</p>
<p><div id="attachment_241" style="width: 553px" class="wp-caption aligncenter"><a href="http://jckr.github.io/blog/wp-content/uploads/2009/10/word-spelling-ko.png"><img class="size-full wp-image-241" title="word spelling ko" src="https://jckr.github.io/blog/wp-content/uploads/2009/10/word-spelling-ko.png" alt="The advanced spell checker didn't catch those words which were quite obviously used out of context." width="543" height="550" /></a><p class="wp-caption-text">The advanced spell checker didn&#39;t catch those words which were quite obviously used out of context.</p></div></p>
<p><div id="attachment_242" style="width: 553px" class="wp-caption aligncenter"><a href="http://jckr.github.io/blog/wp-content/uploads/2009/10/word-spelling-ok.png"><img class="size-full wp-image-242" title="word spelling ok" src="https://jckr.github.io/blog/wp-content/uploads/2009/10/word-spelling-ok.png" alt="In French, it picked sides in a famous spelling controversy. Many people believe that Perrault originally wrote that Cindirella wore fur slippers (soulier de vair). Microsoft sides with Disney on that ones and glass slippers (souliers de verre)." width="543" height="550" /></a><p class="wp-caption-text">In French, it picked sides in a famous spelling controversy. Many people believe that Perrault originally wrote that Cindirella wore fur slippers (soulier de vair). Microsoft sides with Disney on that one and glass slippers (souliers de verre).</p></div></p>
<p><strong>Powerpoint</strong> features 3 high-level changes: the possibility to structure a long presentation using sections, which somehow helps. However, as far as I could see, sections are only a grouping feature. There are few operations that can be performed on the section as a whole (as opposed to on all the presentation, or on each slide separately). For some tasks, you can think it is the case (as selecting the section implicitly selects its slides) but you&#8217;ll see that the operation only affected the current slide. Hmm. It can be useful to manage a presentation after it&#8217;s done, but IMO this will reduce the amount of time people spend designing their presentation <span style="text-decoration: underline;">away</span> from powerpoint which is ultimately a bad thing.</p>
<p><div id="attachment_243" style="width: 622px" class="wp-caption aligncenter"><a href="http://jckr.github.io/blog/wp-content/uploads/2009/10/ppnt-sections.png"><img class="size-full wp-image-243" title="ppnt sections" src="https://jckr.github.io/blog/wp-content/uploads/2009/10/ppnt-sections.png" alt="Powerpoint sections make it easier to manage very long documents." width="612" height="637" /></a><p class="wp-caption-text">Powerpoint sections make it easier to manage very long documents.</p></div></p>
<p>Powerpoint 2010 also features 3D transitions not unlike those of Keynote &#8217;08. It is also possible to include movie clips in presentation. Wasn&#8217;t this already the case? Previously, you&#8217;d have to embed video <em>files </em>in your presentations. Now it is possible to embed online videos as well. I&#8217;m not quite sure about these two options really, the first one for ideologic reasons, the 2nd because I wouldn&#8217;t recommend any speaker to rely overly on an internet connection and a video hosting service during a live presentation.</p>
<p><div id="attachment_244" style="width: 621px" class="wp-caption aligncenter"><a href="http://jckr.github.io/blog/wp-content/uploads/2009/10/ppnt-insert-screenshot.png"><img class="size-full wp-image-244" title="ppnt insert screenshot" src="https://jckr.github.io/blog/wp-content/uploads/2009/10/ppnt-insert-screenshot.png" alt="The insert screenshot shows a gallery from all my open windows to choose from. The screen clipping tool allows one to insert only a section of the window. Neat!" width="611" height="637" /></a><p class="wp-caption-text">The insert screenshot shows a gallery from all my open windows to choose from. The screen clipping tool allows one to insert only a section of the window. Neat!</p></div></p>
<p>There&#8217;s another thing available everywhere in Office but which is possibly most useful in powerpoint, that is, insert screenshot. By clicking on this button, you have a list of thumbnails of all your open windows to choose from, this really reduces the hassle of using a screen capture tool, or worse, to manually do a screen capture, paste it in an image editing program, crop the image, save it to an acceptable format and copy/paste it again where you need it. It is possible to only copy part of these screens, too. It&#8217; s quite well done.</p>
<h2>Overall impressions</h2>
<p>I&#8217;m impressed with the thinking that went into the interface. The ribbon was already a great demonstration of out-of-the-box thinking and looked great on paper. I wasn&#8217;t thrilled to use it as the commands I had been using for some 15 years were not always easily found, but it seems that first-time users of Office 2007 outweight those who&#8217;ve used previous versions. The execution of the ribbon in Office 2010 is improved, and the team allowed themselves to go beyond some arbitrary constraints they had imposed to themselves, such as the pasting options or the office button. Well done.</p>
<p>I&#8217;m happy that sparklines have been added to Excel. In the next few years, we&#8217;ll find even better usage for them. However, I&#8217;m disappointed that the charting options remain essentially unchanged. Take the pie chart for instance. Everyone is aware of its limitations. There are many alternatives which would be easy to implement in Excel. Also, I&#8217;m disappointed that the charting mechanism remains the same: present the user with a long list of chart types, without supporting their reasoning in the choice of one over the other. There should be a chart wizard that would ask the user what do they want to show with the data and suggests the best choice (and not many possible choices) of chart.</p>
<p>I am not sure about the improved spell checker. Improved means increased dependency on the tool, which is the reason why typos haven&#8217;t been eradicated despite the technology.</p>
<p>I am very skeptical about all the advances of the Office product into design. Office users are not designers. Or rather, to be a designer requires a specific form of critical reasoning, not a new tool. More sophisticated graphical options allow novice users to achieve complex results without going through that phase of reasoning, which ultimately won&#8217;t help them.</p>
	    		<div class="clear">&nbsp;</div>
	</section>
</article><!-- #post-## -->
			
				
<article id="post-194" class="post-194 post type-post status-publish format-standard hentry category-charts category-data-publishing category-data-visualization tag-best-practices tag-business-intelligence tag-charts tag-dashboards tag-data-visualization tag-datavis tag-information-visualization tag-infovis tag-sharing-data tag-tableau tag-tableau-desktop tag-tableau-public tag-tableau-server tag-tableau-software tag-visualization">
		    <header class="post-header">
        			<span class="post-meta">
				<span class="posted-on"><a href="/2009/09/01/review-of-tableau-50/" rel="bookmark"><time class="entry-date published" datetime="2009-09-01T18:02:35+00:00">September 1, 2009</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="/author/jerome/">jerome</a></span></span> on <a href="/category/charts/" rel="category tag">charts</a>, <a href="/category/data-publishing/" rel="category tag">data publishing</a>, <a href="/category/data-visualization/" rel="category tag">data visualization</a>			</span>
		        <h1 class="post-title"><a href="/2009/09/01/review-of-tableau-50/" rel="bookmark">Review of Tableau 5.0</a></h1>
         
    </header>
	<section class="post-content">

		<p>Those last 2 weeks, I finally found time to give Tableau 5.0. Tableau enjoys a stellar reputation among the data visualization community. About a year ago, I saw a live demo of Tableau by CEO and salesman extraordinaire Christian Chabot. Like most of the audience, I was very impressed, not so much by the capacities of the software but by the ease and speed with which insightful analysis seemed to appear out of bland data. But what does it feel on from the user perspective?</p>
<h2>Chartz: ur doing it wrong</h2>
<p><span style="font-weight: normal; font-size: 13px; ">Everyone who wrote about charts would pretty much agree that the very first step in making one is to decide what to show. The <strong>form</strong> of the display <strong>is a consequence</strong> of this choice.</span></p>
<p>Most software got this wrong. They will ask you how you want your display to look like, <span style="text-decoration: underline;">then </span>ask you for your data. Take this screenshot from Excel:</p>
<p><a href="http://jckr.github.io/blog/wp-content/uploads/2009/08/excel.png"><img class="aligncenter size-medium wp-image-195" title="excel" src="https://jckr.github.io/blog/wp-content/uploads/2009/08/excel-300x152.png" alt="excel" width="300" height="152" /></a></p>
<p>When you want to insert a chart, you must first choose what kind of chart (bar, line, column, pie, area, scatter, other charts) and one of its sub-types. You are not asked, what data does this apply to, and what that data really is. You are not asked, what you are trying to show through your chart &#8211; this is something you have to manage outside of the software. You just choose a chart.</p>
<p>I&#8217;m picking Excel because with 200m users, everyone will know what I&#8217;m talking about, but virtually all software packages ask the user to choose a rather rigid chart type as a prerequisite to seeing anything, despite overwhelming theoretic evidence that this approach is flawed. In Excel, like in many other packages, there is a world of difference between a bar chart and a column chart. They are not of the same nature.</p>
<h2>A reverted perspective</h2>
<p>Fortunately, Tableau does it the other way round. When you first connect with your data in Tableau, it distinguishes two types of variables you can play with: <strong>dimensions</strong> and <strong>measures</strong>. And measures can be continuous or discrete.</p>
<p><a href="http://jckr.github.io/blog/wp-content/uploads/2009/08/tableau-dimensions.png"><img class="aligncenter size-full wp-image-196" title="tableau-dimensions" src="https://jckr.github.io/blog/wp-content/uploads/2009/08/tableau-dimensions.png" alt="tableau-dimensions" width="649" height="576" /></a>(This is from an example file).</p>
<p>Then, all you have to do is to drag your dimensions and your measures to the center space to see stuff happening. Let&#8217;s drag &#8220;close&#8221; to the rows&#8230;</p>
<p><a href="http://jckr.github.io/blog/wp-content/uploads/2009/08/tableau-dragging-1.png"><img class="aligncenter size-full wp-image-197" title="tableau-dragging-1" src="https://jckr.github.io/blog/wp-content/uploads/2009/08/tableau-dragging-1.png" alt="tableau-dragging-1" width="649" height="576" /></a>We already see something, which is not terribly useful but still. Now if we drag Date into the columns&#8230;</p>
<p><a href="http://jckr.github.io/blog/wp-content/uploads/2009/08/tableau-dragging-2.png"><img class="aligncenter size-full wp-image-198" title="tableau-dragging-2" src="https://jckr.github.io/blog/wp-content/uploads/2009/08/tableau-dragging-2.png" alt="tableau-dragging-2" width="649" height="576" /></a></p>
<p>Instant line chart! the software found out that this is the type of representation that made the most sense in this context. You&#8217;re trying to plot continuous variables over time, so it&#8217;s pretty much a textbook answer. Let&#8217;s suppose we want another display: we can click on the aptly name &#8220;show me!&#8221; button, and:</p>
<p><a href="http://jckr.github.io/blog/wp-content/uploads/2009/08/tableau-show-me.png"><img class="aligncenter size-full wp-image-199" title="tableau-show-me" src="https://jckr.github.io/blog/wp-content/uploads/2009/08/tableau-show-me.png" alt="tableau-show-me" width="649" height="576" /></a></p>
<p>These are all the possible representations we have. Some are greyed out, because they don&#8217;t make sense in this context. For instance, you need to have dimensions with geographic attributes to plot things on a map (bottom left). But if you mouse over one of those greyed out icons, you&#8217;ll be told why you can&#8217;t use them. So we could choose anything: a table, a bar chart, etc.</p>
<p>A simple thing to do would be to switch rows and columns. What if we wanted to see date vertically and the close horizontally? Just drag and drop, and:</p>
<p><a href="http://jckr.github.io/blog/wp-content/uploads/2009/08/tableau-flip.png"><img class="aligncenter size-full wp-image-200" title="tableau-flip" src="https://jckr.github.io/blog/wp-content/uploads/2009/08/tableau-flip.png" alt="tableau-flip" width="649" height="576" /></a></p>
<h2>Crafting displays</h2>
<p>Gone are the frontiers between artificial &#8220;chart types&#8221;. We&#8217;re no longer forcing data into preset representations, rather, we assign variables (or their automatic aggregation, more on that shortly) to possible attributes of the graph. Rows and columns are two, which shouldn&#8217;t be taken too literally &#8211; in most displays, those would be better described as abcissa and ordinate &#8211; but all the areas in light grey (called &#8220;shelves&#8221;) can welcome variables : pages, filters,path, text, color, size, level of detail, etc.</p>
<p><a href="http://jckr.github.io/blog/wp-content/uploads/2009/08/more-dimensions.png"><img class="aligncenter size-full wp-image-203" title="more-dimensions" src="https://jckr.github.io/blog/wp-content/uploads/2009/08/more-dimensions.png" alt="more-dimensions" width="649" height="576" /></a></p>
<p>Here&#8217;s an example with a more complex dataset. Here, we&#8217;re looking at sales figures. We&#8217;re plotting profit against sales. The size of the marks correspond to the volume of the order, and the colour, to their category. Results are presented year by year. It is possible to loop through the years. So this display replicates the specs of the popular <a href="http://www.google.com/ig/directory?url=www.google.com/ig/modules/motionchart.xml">Trendalyzer / Motion chart</a> tool, only simpler to set up.</p>
<p>Note that as I drag variables to shelves, Tableau often uses an aggregation that it thinks makes more sense. For instance, as I dragged Order Date to the page shelf, Tableau picked the year part of the date. I could ask the program to use every value of the date, the display will be almost empty but there would be a screen for each day. Likewise, when I dragged Order Quantity to the Size shelf, Tableau chose to use the sum of Order Quantity instead. Not that it makes much of a difference here, as each bubble represents only one order. But the idea is that Tableau will automatically aggregate data in a way that makes sense to display, and that this can always be overridden.</p>
<p>But if I keep the data for all the years in the display, I can quickly see the transactions where profit was negative.</p>
<p><a href="http://jckr.github.io/blog/wp-content/uploads/2009/08/sets1.png"><img class="aligncenter size-full wp-image-205" title="sets1" src="https://jckr.github.io/blog/wp-content/uploads/2009/08/sets1.png" alt="sets1" width="649" height="576" /></a>And I can further investigate on this set of values.</p>
<p>So that&#8217;s the whole idea. Because you can assign any variable to any attribute of the visualization, in the <a href="http://www.tableausoftware.com/learning/examples">Tableau example gallery</a> you can see some very unusual examples of displays.</p>
<h2>Using my own data</h2>
<p>When I saw the demos, I was a little skeptical of the data being used. I mean, things were going so smoothly, evidence seemed to be jumping at the analyst, begging to be noticed. Tableau&#8217;s not bad at connecting with data of all forms and shapes, so I gave it a whirl with my own data.</p>
<p>Like a lot of other official data providers, OECD&#8217;s format of choice for exporting data is <a href="http://www.sdmx.org/">SDMX</a>, a flavor of XML. Unfortunately, Tableau can&#8217;t read that. So the next easiest thing for me was Excel.</p>
<p>I&#8217;m not going to get too much into details, but to come up with a worksheet that Tableau liked with more than a few tidbits of data required some tweaking and some guessing. The best way seems to be: a column for each variable, dimensions and dates included, and don&#8217;t include missing data (which we usually represent by &#8220;..&#8221; or by another similar symbol).</p>
<p>Some variables weren&#8217;t automatically reckognized for what they were: some were detected as dimensions when they were measures, date data wasn&#8217;t processed that well (I found that using 01/01/2009 instead of 2009 or 1/2009 worked much better). But again, that was nothing that a little bit of tweaking couldn&#8217;t overcome.</p>
<p>On a few occasions, I have been scratching my head quite hard as I was trying to understand why I could get Y-o-Y growth rates for some variables, but not for some others, or to make custom calculated fields. Note that there are plenty of online training videos on the website. I found myself climbing the learning curve very fast (and have heard similar statements of recent users who quickly felt empowered) but am aware that practice is needed to become a Tableau Jedi. What I found recomforting is that without prior knowledge of the product, but with exposure to data design best practices, almost everything in Tableau seems logical and simple.</p>
<p>But anyway &#8211; I was in. Here&#8217;s my first Tableau dashboard:</p>
<p><a href="http://jckr.github.io/blog/wp-content/uploads/2009/08/my-dashboard.png"><img class="aligncenter size-full wp-image-206" title="my-dashboard" src="https://jckr.github.io/blog/wp-content/uploads/2009/08/my-dashboard.png" alt="my-dashboard" width="647" height="836" /></a>A Dashboard is a combination of several displays (sheets) on one space. And believe me, it can become really sophisticated, but here let&#8217;s keep it simple. The top half is a map of the world with bubbles sized after the 2007 population of OECD countries. The bottom half is the same information as a bar chart, with a twist: the colour corresponds to the population change in the last 10 years. So USA (green) have been gaining population while Hungary has seen its numbers decrease.</p>
<p>I&#8217;ve created an action called &#8220;highlighting on country&#8221; to link both displays. The best feature of these actions is that they are completely optional, so if you don&#8217;t want to have linked displays, it is entirely up to you and each part of the dashboard can behave independantly. You can also bring controls to filter or animate data which I left out for the sake of simplicity. However, you can still select data points directly to highlihght them in both displays, like this:</p>
<p><a href="http://jckr.github.io/blog/wp-content/uploads/2009/08/my-dashboard-highlight-bottom.png"><img class="aligncenter size-full wp-image-207" title="my-dashboard-highlight-bottom" src="https://jckr.github.io/blog/wp-content/uploads/2009/08/my-dashboard-highlight-bottom.png" alt="my-dashboard-highlight-bottom" width="647" height="836" /></a>Here I&#8217;ve highlighted the top 5 countries. The other ones are muted in both displays. Here my colour choice is unfortunate because Japan and Germany, which are selected, don&#8217;t look too different from the other countries. Now I can select the values for the countries of Europe:</p>
<p><a href="http://jckr.github.io/blog/wp-content/uploads/2009/08/my-dashboard-highlight-europe.png"><img class="aligncenter size-full wp-image-208" title="my-dashboard-highlight-europe" src="https://jckr.github.io/blog/wp-content/uploads/2009/08/my-dashboard-highlight-europe.png" alt="my-dashboard-highlight-europe" width="647" height="836" /></a></p>
<p>And you&#8217;ll see them highlighted in the bottom pane.</p>
<h2>Display and style</h2>
<p>Representing data in Tableau feels like flipping the pages of a <a href="http://www.perceptualedge.com/">Stephen Few</a> book, which is more than coincidiential as he is an advisor to Tableau. From my discussion with the Tableau consultant that called me, I take that Tableau takes pride in their sober look and feel, which fervently follows the recommendation of Tufte, and Few. I remember <a href="http://www.perceptualedge.com/blog/?p=410">a</a> <a href="http://www.perceptualedge.com/blog/?p=281">few</a> <a href="http://www.perceptualedge.com/blog/?p=266">posts</a> from Stephen&#8217;s blog where he lashed as business intelligence vendors for their vacuous pursuit of glossiness over clarity and usefulness. Speaking of Few, I&#8217;ve upgraded my Tableau trial by re-reading his previous book, <a href="http://www.amazon.com/gp/product/0596100167?ie=UTF8&amp;tag=perceedge-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=0596100167">Information Dashboard Design</a>, and I could really see where his philosophy and that of Tableau clicked.</p>
<p>So there isn&#8217;t anything glossy about Tableau. Yet the interface is state-of-the-art (no more, no less). Anyone who&#8217;ve used a PC in the past 10 years can use it without much guessing. Colours of the various screen elements are carefully chosen and command placement makes sense. Most commands are accessible in contextual menus, so you really feel that you are directly manipulating data the whole time.</p>
<p>When attempting to create sophisticated dashboards, I found that it was difficult to make many elements fit on one page, as the white space surrounding all elements becomes incompressible. I tried to replicate displays that I had made or that I had seen around, I was often successful (see motion chart reproduction above) but sometimes I couldn&#8217;t achieve the level of customization that I had with visualizations which are coded from scratch in Tableau. Then again even Tableau&#8217;s simplest representations have many features and would be difficult to re-code.</p>
<h2>Sharing data</h2>
<p>According to <a href="http://www.tableausoftware.com/blog/sharing-your-data-online">Dan Jewett</a>, VP of product development at Tableau,</p>
<blockquote><p>“Today it is easier to put videos on the Web than to put data online.”</p></blockquote>
<p>But my job is precisely to communicate data, so I&#8217;m quite looking forward this state of affairs to change. Tableau&#8217;s answer is twofold.</p>
<p>The first half is <strong>Tableau Server</strong>. Tableau Server is a software that organizes Tableau workbooks for a community so they can access it online, from a browser. My feeling is that Tableau Server is designed to distribute dashboards within an organization, less so with the anyone on the internet.</p>
<p>That&#8217;s where the second part of the answer, <strong>Tableau Public, </strong>comes into play. Tableau Public is still in closed beta, but the principle is that users would have a free desktop applications which can do everything that Tableau Desktop does, except saving files locally. Instead, workbooks would have to be published on Tableau servers for the world to see.</p>
<p>There are already quite a few dashboards made by Tableau Public first users around. See for instance <a href="http://www.google.com/url?sa=X&amp;q=http://blogs.wsj.com/venturecapital/2009/08/25/how-long-does-it-take-to-build-a-technology-empire/&amp;ct=ga&amp;cd=-VD0bP-UL5I&amp;usg=AFQjCNFKCJfk02UZUVWU_JPPMM79DuAynA">How Long Does It Take To Build A Technology Empire?</a> on one of the WSJ blogs.</p>
<p>Today, there is no shortage of tools that let users embed data online without technical manipulations. But as of today, there is no product that could come close to this embedded dashboard. <a href="http://www.freakalytics.com/2009/07/06/tableau-online-available-from-my-iphone-with-interactivity-amazing/">Stephen McDaniel</a> from Freakalytics notes that due to Tableau&#8217;s technical choices (javascript instead of flash), dashboards from Tableau Public can be seen in a variety of devices, including the iPhone.</p>
<p>I&#8217;ve made a few dashboards that I&#8217;d be happy to share with the world through Tableau Public.</p>
<p>This wraps up my Tableau review. I can see why the product has such an enthusiastic fan base. People such as  <a href="http://charts.jorgecamoes.com/ads-chartjunk-and-the-fart-machine/">Jorge Camoes</a>,  <a href="http://www.perceptualedge.com/blog/?p=191">Stephen Few</a>, <a href="http://eagereyes.org/blog/2009/where-are-the-visualization-tools.html">Robert Kosara</a>, <a href="http://garr.posterous.com/had-a-fantastic-time-with-the-smart-guys-from">Garr Reynolds</a>, <a href="http://www.flowingdata.com/">Nathan Yau</a>,  and even the Federal CIO <a href="http://odeo.com/episodes/24259770-Vivek-Kundra-the-Nation’s-New-CIO-Is-Supporter-of-Seattle-Startup-Tableau-Software">Vivek Kundra</a> have all professed their loved for the product. The Tableau Customer Conference, which I&#8217;ve only been able to follow online so far, seems to be more interesting each year. Beyond testimonies, the gallery of examples (again at <a href="http://www.tableausoftware.com/learning/examples">http://www.tableausoftware.com/learning/examples</a>, but do explore from there to see videos and white papers), still in the making, shows the incredible potential of the software.</p>
	    		<div class="clear">&nbsp;</div>
	</section>
</article><!-- #post-## -->
			
				<nav class="pagination navigation paging-navigation" role="navigation">
		<div class="nav-links">
						<div class="older-posts"><a href="/category/charts/page/3/" >Older Posts <span class="meta-nav">&rarr;</span></a></div>
							<div class="page-number">Page 2 of 3</div>
						<div class="newer-posts"><a href="/category/charts/" ><span class="meta-nav">&larr;</span> Newer Posts</a></div>
			
		</div><!-- .nav-links -->
	</nav><!-- .navigation -->
	
		
		</main><!-- #main -->
	</section><!-- #primary -->

	<div id="secondary" class="widget-area" role="complementary">
		<aside id="search-2" class="widget widget_search"><form role="search" method="get" class="search-form" action="/">
				<label>
					<span class="screen-reader-text">Search for:</span>
					<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s" />
				</label>
				<input type="submit" class="search-submit" value="Search" />
			</form></aside>		<aside id="recent-posts-2" class="widget widget_recent_entries">		<h1 class="widget-title">Recent Posts</h1>		<ul>
					<li>
				<a href="/2016/08/17/the-big-leagues/">The big leagues</a>
						</li>
					<li>
				<a href="/2016/08/17/creating-a-react-visualization-web-app/">Creating a React visualization web app</a>
						</li>
					<li>
				<a href="/2016/08/13/beyond-rendering/">Beyond rendering</a>
						</li>
					<li>
				<a href="/2016/08/11/react-components/">React components</a>
						</li>
					<li>
				<a href="/2016/08/10/coding-with-react/">Coding with React</a>
						</li>
				</ul>
		</aside>		<aside id="recent-comments-2" class="widget widget_recent_comments"><h1 class="widget-title">Recent Comments</h1><ul id="recentcomments"><li class="recentcomments"><span class="comment-author-link"><a href='http://omeraz.wordpress.com/' rel='external nofollow' class='url'>עומר עזריאל</a></span> on <a href="/2016/08/17/the-big-leagues/#comment-567">The big leagues</a></li><li class="recentcomments"><span class="comment-author-link">Carlos Ayres</span> on <a href="/2012/05/28/manipulating-data-like-a-boss-with-d3/#comment-312">Manipulating data like a boss with d3</a></li><li class="recentcomments"><span class="comment-author-link"><a href='https://migrate.powertripanalytics.com/game-of-thrones-interactions-among-the-top-30-characters/' rel='external nofollow' class='url'>Game of ThronesInteractions Among the Top 30 Characters &#8211; PowerTrip Analytics</a></span> on <a href="/2013/05/13/making-the-game-of-thrones-visualization/#comment-466">Making the game of thrones visualization</a></li><li class="recentcomments"><span class="comment-author-link"><a href='https://abgoswam.wordpress.com/2016/10/08/d3-getting-started/' rel='external nofollow' class='url'>D3 &#8211; Getting Started | abgoswam&#039;s tech blog</a></span> on <a href="/2012/09/04/getting-to-hello-world-with-d3/#comment-419">Getting to &#8220;Hello world&#8221; with d3</a></li><li class="recentcomments"><span class="comment-author-link"><a href='https://plus.google.com/+BrotoBhattacharjee' rel='external nofollow' class='url'>Broto Bhattacharjee</a></span> on <a href="/2012/09/04/getting-to-hello-world-with-d3/#comment-418">Getting to &#8220;Hello world&#8221; with d3</a></li></ul></aside><aside id="archives-2" class="widget widget_archive"><h1 class="widget-title">Archives</h1>		<ul>
			<li><a href='/2016/08/'>August 2016</a></li>
	<li><a href='/2015/05/'>May 2015</a></li>
	<li><a href='/2015/02/'>February 2015</a></li>
	<li><a href='/2014/10/'>October 2014</a></li>
	<li><a href='/2013/11/'>November 2013</a></li>
	<li><a href='/2013/05/'>May 2013</a></li>
	<li><a href='/2013/03/'>March 2013</a></li>
	<li><a href='/2013/01/'>January 2013</a></li>
	<li><a href='/2012/12/'>December 2012</a></li>
	<li><a href='/2012/11/'>November 2012</a></li>
	<li><a href='/2012/10/'>October 2012</a></li>
	<li><a href='/2012/09/'>September 2012</a></li>
	<li><a href='/2012/07/'>July 2012</a></li>
	<li><a href='/2012/06/'>June 2012</a></li>
	<li><a href='/2012/05/'>May 2012</a></li>
	<li><a href='/2012/04/'>April 2012</a></li>
	<li><a href='/2012/01/'>January 2012</a></li>
	<li><a href='/2011/11/'>November 2011</a></li>
	<li><a href='/2011/10/'>October 2011</a></li>
	<li><a href='/2011/09/'>September 2011</a></li>
	<li><a href='/2011/08/'>August 2011</a></li>
	<li><a href='/2011/07/'>July 2011</a></li>
	<li><a href='/2011/06/'>June 2011</a></li>
	<li><a href='/2011/05/'>May 2011</a></li>
	<li><a href='/2011/04/'>April 2011</a></li>
	<li><a href='/2011/03/'>March 2011</a></li>
	<li><a href='/2011/02/'>February 2011</a></li>
	<li><a href='/2011/01/'>January 2011</a></li>
	<li><a href='/2010/11/'>November 2010</a></li>
	<li><a href='/2010/04/'>April 2010</a></li>
	<li><a href='/2010/03/'>March 2010</a></li>
	<li><a href='/2010/02/'>February 2010</a></li>
	<li><a href='/2010/01/'>January 2010</a></li>
	<li><a href='/2009/12/'>December 2009</a></li>
	<li><a href='/2009/10/'>October 2009</a></li>
	<li><a href='/2009/09/'>September 2009</a></li>
	<li><a href='/2009/08/'>August 2009</a></li>
	<li><a href='/2009/07/'>July 2009</a></li>
	<li><a href='/2009/06/'>June 2009</a></li>
	<li><a href='/2009/05/'>May 2009</a></li>
	<li><a href='/2008/12/'>December 2008</a></li>
	<li><a href='/2008/11/'>November 2008</a></li>
	<li><a href='/2008/10/'>October 2008</a></li>
		</ul>
		</aside><aside id="categories-2" class="widget widget_categories"><h1 class="widget-title">Categories</h1>		<ul>
	<li class="cat-item cat-item-2"><a href="/category/book-review/" >book review</a>
</li>
	<li class="cat-item cat-item-3 current-cat"><a href="/category/charts/" >charts</a>
</li>
	<li class="cat-item cat-item-4"><a href="/category/conferences/" >conferences</a>
</li>
	<li class="cat-item cat-item-5"><a href="/category/d3/" >d3</a>
</li>
	<li class="cat-item cat-item-6"><a href="/category/dashboards/" >dashboards</a>
</li>
	<li class="cat-item cat-item-7"><a href="/category/data-publishing/" >data publishing</a>
</li>
	<li class="cat-item cat-item-8"><a href="/category/data-visualization/" >data visualization</a>
</li>
	<li class="cat-item cat-item-9"><a href="/category/francais/" >français</a>
</li>
	<li class="cat-item cat-item-10"><a href="/category/javascript/" >javascript</a>
</li>
	<li class="cat-item cat-item-11"><a href="/category/presentation/" >presentation</a>
</li>
	<li class="cat-item cat-item-12"><a href="/category/protovis/" >protovis</a>
</li>
	<li class="cat-item cat-item-13"><a href="/category/react/" >react</a>
</li>
	<li class="cat-item cat-item-14"><a href="/category/tips/" >tips</a>
</li>
	<li class="cat-item cat-item-1"><a href="/category/uncategorized/" >Uncategorized</a>
</li>
	<li class="cat-item cat-item-15"><a href="/category/web-sites/" >web sites</a>
</li>
		</ul>
</aside><aside id="meta-2" class="widget widget_meta"><h1 class="widget-title">Meta</h1>			<ul>
						<li><a href="/wp-login.php">Log in</a></li>
			<li><a href="/feed/">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="/comments/feed/">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="https://wordpress.org/" title="Powered by WordPress, state-of-the-art semantic personal publishing platform.">WordPress.org</a></li>			</ul>
			</aside>		<div class="clear">&nbsp;</div>
	</div><!-- #secondary -->
	<footer id="colophon" class="site-footer" role="contentinfo">
	    <a class="subscribe icon-feed" href="/feed/"><span class="tooltip">Subscribe!</span></a>
		<div class="site-info inner">
		    <section class="copyright">
		    			    		<a href="https://github.com/lacymorrow/casper" rel="home">Casper WP</a> by Lacy Morrow		    			    </section>
		</div><!-- .site-info -->
	</footer><!-- #colophon -->
</main><!-- /#content -->

<script type='text/javascript' src='/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.9b'></script>
<script type='text/javascript' src='/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.9b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();
</script>
<script type='text/javascript' src='/wp-content/themes/casper/js/main.js?ver=1.0.0'></script>
<script type='text/javascript' src='/wp-includes/js/wp-embed.min.js?ver=4.6.10'></script>
<!--stats_footer_test--></body>
</html>
