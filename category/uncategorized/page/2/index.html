<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="HandheldFriendly" content="True" />
<meta name="MobileOptimized" content="320" />

<title>Uncategorized | jckr.github.io/blog | Page 2</title>

<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="/xmlrpc.php">
<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="jckr.github.io/blog &raquo; Feed" href="/feed/" />
<link rel="alternate" type="application/rss+xml" title="jckr.github.io/blog &raquo; Comments Feed" href="/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="jckr.github.io/blog &raquo; Uncategorized Category Feed" href="/category/uncategorized/feed/" />
<!-- This site uses the Google Analytics by MonsterInsights plugin v7.0.5 - Using Analytics tracking - https://www.monsterinsights.com/ -->
<!-- Note: MonsterInsights is not currently configured on this site. The site owner needs to authenticate with Google Analytics in the MonsterInsights settings panel. -->
<!-- No UA code set -->
<!-- / Google Analytics by MonsterInsights -->
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/localhost:8888\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.6.10"}};
			!function(a,b,c){function d(a){var c,d,e,f,g,h=b.createElement("canvas"),i=h.getContext&&h.getContext("2d"),j=String.fromCharCode;if(!i||!i.fillText)return!1;switch(i.textBaseline="top",i.font="600 32px Arial",a){case"flag":return i.fillText(j(55356,56806,55356,56826),0,0),!(h.toDataURL().length<3e3)&&(i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,65039,8205,55356,57096),0,0),c=h.toDataURL(),i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,55356,57096),0,0),d=h.toDataURL(),c!==d);case"diversity":return i.fillText(j(55356,57221),0,0),e=i.getImageData(16,16,1,1).data,f=e[0]+","+e[1]+","+e[2]+","+e[3],i.fillText(j(55356,57221,55356,57343),0,0),e=i.getImageData(16,16,1,1).data,g=e[0]+","+e[1]+","+e[2]+","+e[3],f!==g;case"simple":return i.fillText(j(55357,56835),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode8":return i.fillText(j(55356,57135),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode9":return i.fillText(j(55358,56631),0,0),0!==i.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity","unicode9"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='YoutubeShortcodeMargenn-css'  href='/wp-content/plugins/youtube-shortcode/youtube-shortcode.css?ver=4.6.10' type='text/css' media='all' />
<link rel='stylesheet' id='casper-google-fonts-css'  href='//fonts.googleapis.com/css?family=Noto+Serif%3A400%2C700%2C400italic%7COpen+Sans%3A700%2C400&#038;ver=4.6.10' type='text/css' media='all' />
<link rel='stylesheet' id='casper-style-css'  href='/wp-content/themes/casper/style.css?ver=4.6.10' type='text/css' media='all' />
<script type='text/javascript' src='/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<link rel='https://api.w.org/' href='/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.6.10" />

   	<style type="text/css">
					.blog-title a, .blog-description, .social-icons a { color: #222222; }
		
						                
		
							.main-navigation a { color: ; }
		                                            </style>
    		<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
			<style type="text/css">
			.site-title a,
		.site-description {
			color: #222222;
		}
		</style>
	<style type="text/css" id="syntaxhighlighteranchor"></style>
</head>

<body class="archive paged category category-uncategorized category-1 paged-2 category-paged-2 group-blog">

<header id="masthead" role="banner" class="site-head site-header" style="background-image: url(/wp-content/uploads/2018/04/Screenshot-2018-04-09-19.38.59.png);">
    <nav id="site-navigation" class="main-navigation" role="navigation">
        <div>
            <h1 class="menu-toggle">
                <a class="icon-bars" href="#">
                    <span class="hidden">Menu</span>
                </a>
            </h1>
            <a class="skip-link screen-reader-text" href="#content">Skip to content</a>
            <div class="menu"><ul><li ><a href="/">Home</a></li></ul></div>
        </div>
    </nav><!-- #site-navigation -->

    <div class="vertical-row">
        <div class="vertical">
            <div class="site-head-content inner">
                
                <div class="social-icons">
                                                                                                                                                                                                                                                                                                                                                                                                                                                    </div>
                <h1 class="blog-title"><a class="blog-logo" href='/' rel='home'>jckr.github.io/blog</a></h1>
                <h2 class="blog-description">Just another WordPress site</h2>
            </div>
        </div>
    </div>
</header><!-- #masthead -->

<main id="content" class="content" role="main">

	<section id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

		
			<header class="page-header">
				<h1 class="page-title">
					Uncategorized				</h1>
							</header><!-- .page-header -->

						
				
<article id="post-826" class="post-826 post type-post status-publish format-standard hentry category-data-visualization category-francais category-protovis category-uncategorized tag-cantonales tag-duels tag-fn tag-politique tag-transferts-de-voix">
		    <header class="post-header">
        			<span class="post-meta">
				<span class="posted-on"><a href="/2011/04/08/cantonales-suite-et-fin-duels-et-transferts-de-voix/" rel="bookmark"><time class="entry-date published" datetime="2011-04-08T15:09:44+00:00">April 8, 2011</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="/author/jerome/">jerome</a></span></span> on <a href="/category/data-visualization/" rel="category tag">data visualization</a>, <a href="/category/francais/" rel="category tag">français</a>, <a href="/category/protovis/" rel="category tag">protovis</a>, <a href="/category/uncategorized/" rel="category tag">Uncategorized</a>			</span>
		        <h1 class="post-title"><a href="/2011/04/08/cantonales-suite-et-fin-duels-et-transferts-de-voix/" rel="bookmark">Cantonales suite et fin: duels et transferts de voix</a></h1>
         
    </header>
	<section class="post-content">

		<p>[A note to my English readers &#8211; as you&#8217;d have probably guessed by the title in French, this post about French politics is in French again, but I&#8217;ll soon resume posting in English]<br />
Dimanche 27 a eu lieu le deuxième tour des élections cantonales, dont j&#8217;ai déjà un peu parlé <a href="http://jckr.github.io/blog/?p=764">ici</a> ou <a href="http://jckr.github.io/blog/?p=804">ici</a>. Et qui dit second tour dit duels :<br />
<script type="text/javascript" src="http://jckr.github.io/blog/wp-content/uploads/2011/04/deuxieme.js"></script><br />
<script type="text/javascript" src="http://jckr.github.io/blog/wp-content/uploads/2011/03/votes.js"></script><br />
<script type="text/javascript" src="http://jckr.github.io/blog/protovis_r3_2.js"></script></p>
<div style="width:500px;margin-left:auto;margin-right:auto;"><script type="text/javascript" src="http://jckr.github.io/blog/wp-content/uploads/2011/04/arc2.js"></script></div>
<p>Comme on peut le voir, le &#8220;classico&#8221; du second tour c&#8217;était le duel UMP-PS (336 cas). Mais ce qui intéressait tout le monde c&#8217;était plutôt les cas où le FN était présent: 403 scrutins. Alors que s&#8217;est-il passé? est-ce que les voix se sont <em>bien transférées</em>? </p>
<p>Ce que j&#8217;ai lu suite aux cantonales, c&#8217;est que si les électeurs de gauche avaient fait barrage au front national dans le cas des duels entre le FN et la droite, ce n&#8217;était pas trop le cas des électeurs de droite qui s&#8217;étaient souvent contentés de laisser gagner la gauche sans se mobiliser davantage. Alors voyons ce que disent les chiffres. </p>
<p>Sur les 403 cantons où le front national s&#8217;est maintenu, il y a eu 266 duels avec la gauche et 127 avec la droite. On va passer sur les 10 autres cas de figure (triangulaires, duel avec une autre formation etc.) parce que ce qui nous intéresse ici c&#8217;est de voir <strong>pour qui vote un électeur d&#8217;une grande faction qui ne se retrouve pas au second tour</strong>.</p>
<div style="width:490px;margin-left:auto;margin-right:auto;"><script type="text/javascript" src="http://jckr.github.io/blog/wp-content/uploads/2011/04/transfert11.js"></script></div>
</p>
<p>Dans le cas des duels droite-FN, il y a presque 240,000 électeurs qui avaient voté à gauche au premier tour et qui se sont fait confisquer leur vote. Bien plus que les voix supplémentaire récoltées par les candidats de droite (environ 150,000)! De même, il y a eu environ 280,000 électeurs de droite qui n&#8217;ont pas pu soutenir leur candidat au deuxième tour, alors que les candidats de gauche n&#8217;ont récupéré que 190,000 voix en plus. </p>
<p>Dans les deux cas, la participation a augmenté: environ 210,000 votants en plus. Pourtant, il y a eu une augmentation du nombre de votes nuls (plus de 150,000 supplémentaires) et surtout, un fort gain des voix du FN (presque 300,000).</p>
<h3>Qu&#8217;est ce qu&#8217;on peut en déduire?</h3>
<p>L&#8217;idée d&#8217;un <em>front républicain</em>, d&#8217;une mobilisation massive d&#8217;électeurs de tout bord qui empêcheraient systématiquement la victoire d&#8217;un candidat FN est bien mise à mal. Dans ces 403 cantons, la participation n&#8217;était que de 55.28%, pas très différente de la moyenne nationale. On a déjà vu plus mobilisé! </p>
<p>En plus, il n&#8217;y a pas de report systématique des voix vers l&#8217;adversaire du FN (et ce dans les deux cas, gauche/FN ou droite/FN). En fait, le FN est même capable de gagner des voix entre les deux tours et même beaucoup de voix! Bref, il n&#8217;y aura plus d&#8217;effet 5 mai 2002 et tout est désormais possible pour les candidats du FN.</p>
	    		<div class="clear">&nbsp;</div>
	</section>
</article><!-- #post-## -->
			
				
<article id="post-714" class="post-714 post type-post status-publish format-standard hentry category-uncategorized tag-marathon tag-plot tag-runners">
		    <header class="post-header">
        			<span class="post-meta">
				<span class="posted-on"><a href="/2011/03/07/the-semi-marathon-of-paris-2011/" rel="bookmark"><time class="entry-date published" datetime="2011-03-07T20:09:07+00:00">March 7, 2011</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="/author/jerome/">jerome</a></span></span> on <a href="/category/uncategorized/" rel="category tag">Uncategorized</a>			</span>
		        <h1 class="post-title"><a href="/2011/03/07/the-semi-marathon-of-paris-2011/" rel="bookmark">The semi-marathon of Paris 2011</a></h1>
         
    </header>
	<section class="post-content">

		This post is a tribute to my friends who ran this Sunday. If I had known in advance, I would surely had joined you guys, or found a better excuse not to.
Anyway, about 30,000 people tried to finish the semi-marathon, and 23764 did (plotted below).
 <a href="/2011/03/07/the-semi-marathon-of-paris-2011/#more-714" class="more-link">&hellip;&nbsp;<span class="meta-nav">&rarr;</span></a>	    		<div class="clear">&nbsp;</div>
	</section>
</article><!-- #post-## -->
			
				
<article id="post-479" class="post-479 post type-post status-publish format-standard hentry category-charts category-data-visualization category-protovis category-tips category-uncategorized tag-hierarchy tag-inheritance tag-protovis tag-tutorial">
		    <header class="post-header">
        			<span class="post-meta">
				<span class="posted-on"><a href="/2011/02/08/working-with-data-in-protovis-part-2-of-5/" rel="bookmark"><time class="entry-date published" datetime="2011-02-08T19:51:01+00:00">February 8, 2011</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="/author/jerome/">jerome</a></span></span> on <a href="/category/charts/" rel="category tag">charts</a>, <a href="/category/data-visualization/" rel="category tag">data visualization</a>, <a href="/category/protovis/" rel="category tag">protovis</a>, <a href="/category/tips/" rel="category tag">tips</a>, <a href="/category/uncategorized/" rel="category tag">Uncategorized</a>			</span>
		        <h1 class="post-title"><a href="/2011/02/08/working-with-data-in-protovis-part-2-of-5/" rel="bookmark">Working with data in protovis – part 2 of 5</a></h1>
         
    </header>
	<section class="post-content">

		<p>Previous post: <a href="http://jckr.github.io/blog/?p=429">simple arrays</a></p>
<h2>Multi-dimensional arrays, associative arrays and protovis</h2>
<p>Even for a simple chart, chances are that you’ll have more than a single series of numbers to represent. For instance, you could have labels to describe what they mean, several series, and so on and so forth.<br />
So, let’s say we want to add these labels to our original examples, so we know what those bars represent.</p>
<table>
<tbody>
<tr>
<td>
<pre class="brush: jscript; title: ; notranslate" title="">var categories = [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;f&quot;];
var vis = new pv.Panel()
  .width(150)
  .height(150);

vis.add(pv.Bar)
  .data([1, 1.2, 1.7, 1.5, .7, .3])
  .width(20)
  .height(function(d) d * 80)
  .bottom(0)
  .left(function() this.index * 25)
  .anchor(&quot;bottom&quot;).add(pv.Label)
    .text(function() categories[this.index]);

vis.render();
</pre>
</td>
<td><a href="http://jckr.github.io/blog/wp-content/uploads/2011/02/categories.png"><img src="http://jckr.github.io/blog/wp-content/uploads/2011/02/categories.png" alt="" title="categories" width="144" height="135" class="aligncenter size-full wp-image-483" /></a></td>
</tr>
</tbody>
</table>
<p>While this did the trick, nothing guarantees that the data proper and the category name will stay coordinated. If one data point is deleted or removed and this is not replicated on the categories, they will no longer match. A more integrated way to proceed would be to group category and data information, like this:</p>
<pre class="brush: jscript; highlight: [16,20]; title: ; notranslate" title="">var data = [
  {key:&quot;a&quot;, value:1},
  {key:&quot;b&quot;, value:1.2},
  {key:&quot;c&quot;, value:1.7}, 
  {key:&quot;d&quot;, value:1.5},
  {key:&quot;e&quot;, value:.7},
  {key:&quot;f&quot;, value:.3}
];
var vis = new pv.Panel()
  .width(150)
  .height(150);

vis.add(pv.Bar)
  .data(data)
  .width(20)
  .height(function(d) d.value * 80)
  .bottom(0)
  .left(function() this.index * 25)
  .anchor(&quot;bottom&quot;).add(pv.Label)
    .text(function(d) d.key);

vis.render();</pre>
<p>This time, we group the values and the category names in a single variable, an array of associative arrays.<br />
When drawing the bar chart, protovis will go through this array and retrieve an associative array for each bar.<br />
We have to change the way the height function is written. The data element being accessed is no longer of the form 1 or 1.7, but {key:”a”, value:1} or {key:”c”, value:1.7}. So to get the number part of it, we must write <strong>d.value</strong>.</p>
<p>Likewise, instead of accessing an array of categories for the text part, we can use the current data element via an accessor function, and write <strong>d.key</strong>.</p>
<h2>Hierarchy and inheritance</h2>
<p>So we’ve seen that arrays, or associative arrays, can have several levels and can be nested one into another.<br />
Interestingly, protovis elements, like panels, charts, mark etc. also work in a <em>hierarchy</em>. For instance, when you start working with protovis you create a panel object. Then, you add other objects to that panel, like a bar chart (our example), or another panel. You can add other objects to your new objects, or attach them to your first panel.<br />
This diagram shows the hierarchy between elements in the previous example.</p>
<table>
<tr>
<td>
<pre class="brush: jscript; title: ; notranslate" title="">var categories = [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;f&quot;];
var vis = new pv.Panel()
  .width(150)
  .height(150)

var bar = vis.add(pv.Bar)
  .data([1, 1.2, 1.7, 1.5, .7, .3])
  .width(20)
  .height(function(d) d * 80)
  .bottom(0)
  .left(function() this.index * 25)
  .anchor(&quot;bottom&quot;).add(pv.Label)
  .text(function() categories[this.index]);

vis.render();</pre>
</td>
<td><a href="http://jckr.github.io/blog/wp-content/uploads/2011/02/hierarchy.png"><img src="http://jckr.github.io/blog/wp-content/uploads/2011/02/hierarchy.png" alt="" title="hierarchy" width="220" height="170" class="aligncenter size-full wp-image-485" /></a></td>
</tr>
</table>
<p>The bar object is considered to be the child of vis, who is its parent.</br><br />
You may know that in protovis, children objects inherit properties of their parents.</br><br />
For instance, if width wasn’t specified for the bar object, it would have the width of its parent, 150. Each mark would cover the whole screen.</p>
<p>For data, when a new object is added, data is either specified at that level, or obtained from the parent element of this object.</p>
<p>Let’s take our example and tweak it a bit.<br />
<table>
<tr>
<td>
<pre class="brush: jscript; highlight: [5]; title: ; notranslate" title="">var vis = new pv.Panel().width(150).height(150);
var bar = vis.add(pv.Bar)
  .data([1, 1.2, 1.7, 1.5, .7, .3]).width(20) .bottom(0)
  .height(function(d) d * 80).left(function() this.index * 25)
  .anchor(&quot;top&quot;).add(pv.Label)
vis.render();</pre>
<td>
<td><a href="http://jckr.github.io/blog/wp-content/uploads/2011/02/part3.png"><img src="http://jckr.github.io/blog/wp-content/uploads/2011/02/part3.png" alt="" title="part3" width="154" height="154" class="aligncenter size-full wp-image-487" /></a></td>
</tr>
</table>
<p>Here, I didn’t specify a data or a text value for the labels I added. They just took the value of its parent element – the marks of the pv.Bar object.<br />
Here’s another variation:</p>
<table>
<tr>
<td>
<pre class="brush: jscript; highlight: [4]; title: ; notranslate" title="">
var vis = new pv.Panel().width(150).height(150);
vis.add(pv.Panel)
  .data([1, 1.2, 1.7, 1.5, .7, .3]) .left(function() this.index * 25)
  .add(pv.Bar).width(20) .bottom(0)
  .height(function(d) d * 80)
  .anchor(&quot;top&quot;).add(pv.Label)
vis.render();</pre>
</td>
<td><a href="http://jckr.github.io/blog/wp-content/uploads/2011/02/part4.png"><img src="http://jckr.github.io/blog/wp-content/uploads/2011/02/part4.png" alt="" title="part4" width="154" height="154" class="aligncenter size-full wp-image-488" /></a></td>
</tr>
</table>
<p>Here, I’m adding panels, then a bar in each panel.<br />
From the root panel, I’m adding a group of panel with this data: [1, 1.2, 1.7, 1.5, .7, .3].<br />
Since there are 6 elements here, I’m adding 6 panels.<br />
Here, the left method applies to each of the panel. The first one is to the left, the next one is 25 pixels further, etc.<br />
I’m then adding a bar object to each panel. Is that one group of bar? Technically yes, but each has only one element! Each pv.Bar <em>implicitly</em> gets the data element of its parent, so the first bar gets [1], the next one gets [1.2], etc. The height of each bar is determined by multiplying the value of that element by 80.<br />
Note that since the fillStyle properties are not defined for the bars, they get the ones which are attributed by default, which explains the color changes.</p>
<p>Further refinement: accessing the data of its parent!</p>
<table>
<tr>
<td>
<pre class="brush: jscript; highlight: [5]; title: ; notranslate" title="">
var vis = new pv.Panel().width(150).height(150);
vis.add(pv.Panel)
  .data([1, 1.2, 1.7, 1.5, .7, .3]) .left(function() this.index * 25)
  .add(pv.Bar).width(20) .bottom(0)
  .height(function(a,b) b * 80)
  .anchor(&quot;top&quot;).add(pv.Label)
vis.render();
</pre>
</td>
<td><a href="http://jckr.github.io/blog/wp-content/uploads/2011/02/part4.png"><img src="http://jckr.github.io/blog/wp-content/uploads/2011/02/part4.png" alt="" title="part4" width="154" height="154" class="aligncenter size-full wp-image-488" /></a></td>
</tr>
</table>
<p>Well, the output is exactly the same, but how I obtained the data is different. Instead of getting the data using the standard accessor function, I passed two arguments: function(a, b).<br />
What this does is that the first argument corresponds to the current data element of this object, and the second, to that of its parent.</p>
<p>In this example, they happen to be the same, but this is how you can access the data of the parent objects.</p>
<h2>Putting it all together</h2>
<p>Let&#8217;s see how we can use protovis and the properties of hierarchy! This example is less trivial than the ones we&#8217;ve seen so far but with what we&#8217;ve seen it is quite accessible.<br />
The challenge: re-create <a href="http://eagereyes.org/communication/Engaging-readers-with-square-pie-waffle-charts.html">square pie charts</a>.<br />
How it&#8217;s done: </p>
<pre class="brush: jscript; title: ; notranslate" title="">var data=[36,78,63,24],  // arbitrary numbers
cellSize = 16,
cellPadding = 1,
squarePadding=5,
colors=pv.Colors.category20().range()
;

var vis=new pv.Panel()
    .width(4*(10*cellSize+squarePadding))
    .height(10*cellSize)
    ;

var square = vis.add(pv.Panel)
    .data(data)
    .width(10*cellSize)
    .height(10*cellSize)
    .left(function() this.index*(cellSize*10+squarePadding))
    ;

var row = square.add(pv.Panel)
	.data([0,1,2,3,4,5,6,7,8,9])
	.height(cellSize)
	.bottom(function(d) d*cellSize)
	;

var cell = row.add(pv.Panel)
    .data([0,1,2,3,4,5,6,7,8,9])
    .height(cellSize-2*cellPadding)
    .width(cellSize-2*cellPadding)
    .top(cellPadding)
    .left(function(d) d*cellSize+cellPadding)
    .fillStyle(function(a,b,c) (b*10+a)&lt;c?colors[this.parent.parent.index].color:&quot;lightGrey&quot;)
;

square.anchor(&quot;center&quot;)
  .add(pv.Label)
    .text(function(d) d)
    .textStyle(&quot;rgba(0,0,0,.1)&quot;)
    .font(&quot;100px sans-serif&quot;);

vis.render();</pre>
<p>First, we initiate the data (4 arbitrary numbers from 1 to 100), and various parameters which will help size the square pie &#8211; size of the cells, space between them, space between the square pie charts. We also initiate a color palette.<br />
Then, we are going to create 4 panels or groups of panels, each a child of the previous one.<br />
First comes the <strong>vis</strong> panel, which groups everything,<br />
Then the <strong>square </strong>panels, which correspond to each square pie. This is to this panel that our data is assigned.<br />
Then come the <strong>row </strong>panels, and, finally, the <strong>cell </strong>panels.<br />
The numbers which we want to represent are assigned to the square panel. So, what data are we passing to the row and the cell panels? The only thing we want is to have 10 rows and 10 cells per row. So, we can use an array with 10 items. We are going to use [0,1,2,3,4,5,6,7,8,9] so the data value of the row and that of the cell will correspond to the coordinate of the row and the cell, respectively. In other words, the 5th row will be assigned the data value of 4, and the 7th cell in that row will get the data value of 6. We could retrieve the same numbers using &#8220;this.index&#8221; but this can lead to obfuscated formulas.</p>
<p>Note that in the next part of the tutorial, we&#8217;ll see that in Protovis, there is a more elegant way to write [0,1,2,3,4,5,6,7,8,9] or similar series of numbers. But, we&#8217;ll leave this more explicit form for now.</p>
<p>Back to our row panel. We position it with bottom(function(d) d*cellSize). Here, again, d represents the rank of the row, so the 1st row will get 0, and its bottom value will be 0, the next row will get 1, and its bottom value will be 1*cellSize or 16, etc. </p>
<p>Likewise, in the cell panel, the cells are positioned with left(function(d) d*cellSize+cellPadding). This is the same principle. (here, cellPadding is just used to fine-tune the position of the cell).</p>
<p>This is in the final line that we are really going to use hierarchy.</p>
<pre class="brush: jscript; title: ; notranslate" title="">.fillStyle(function(a,b,c) (b*10+a)&lt;c?colors[this.parent.parent.index].color:&quot;lightGrey&quot;)</pre>
<p>here, a represents the data value of the cell &#8211; in other words, the column number.<br />
b, the data value of the cell&#8217;s parent, the row. This is the row number.<br />
and c is the data value of the parent of the parent of the row, the square &#8211; this is the number that we are trying to represent.</p>
<p>so, what we are going to determine is whether b*10+a&lt;c. If that&#8217;s the case, we color the cell, else, we leave it in pale grey. To get the color we need, we go back to the palette that we defined at the beginning, and take the color corresponding to the square number (0 to 3 from left to right).<br />
The square number can be obtained by this.parent.parent.index.</p>
<p>Finally, we add the numbers in large transparent gray digits on top of the squares.</p>
<p>Here is the result:<br />
<a href="http://jckr.github.io/blog/wp-content/uploads/2011/02/squarePies.png"><img src="http://jckr.github.io/blog/wp-content/uploads/2011/02/squarePies.png" alt="" title="squarePies" width="660" height="160" class="aligncenter size-full wp-image-559" /></a></p>
<p>Next: <a href="http://jckr.github.io/blog/?p=49">Javascript and protovis array functions</a></p>
	    		<div class="clear">&nbsp;</div>
	</section>
</article><!-- #post-## -->
			
				
<article id="post-426" class="post-426 post type-post status-publish format-standard hentry category-uncategorized">
		    <header class="post-header">
        			<span class="post-meta">
				<span class="posted-on"><a href="/2011/02/07/working-with-data-in-protovis/" rel="bookmark"><time class="entry-date published" datetime="2011-02-07T19:31:44+00:00">February 7, 2011</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="/author/jerome/">jerome</a></span></span> on <a href="/category/uncategorized/" rel="category tag">Uncategorized</a>			</span>
		        <h1 class="post-title"><a href="/2011/02/07/working-with-data-in-protovis/" rel="bookmark">Working with data in protovis</a></h1>
         
    </header>
	<section class="post-content">

		<p>For the past year or so I have been dabbling with <a href="http://www.protovis.org/">protovis</a>. I don&#8217;t have a heavy CS background but protovis is supposedly easy to pick up for people like me, who are vaguely aware that computers can make calculations but who need to check the manual for the most mundane programming instructions.</p>
<p>I found was while it&#8217;s reasonnably easy to modify the most basic examples to make stuff happen, it is much harder to understand or adapt the more complex ones, let alone to create a fairly complex visualization.</p>
<p>The stumbling block for me was the use of the method <strong>data</strong>. Data is used to feed all the other protovis methods with, well, data. In the simplest examples, the data which is passed is very plain and simple and so easy to understand. But, for slightly more advanced uses, the shape of data is increasingly complex and the very powerful methods that protovis uses to process and reshape data are just out of reach for a noob.</p>
<p>So I started documenting my struggle with data, first for my own use, and eventually realized I could share what I learned. This is it.</p>
<p>I split this tutorial in 5 parts.</p>
<ol>
<li>First, we&#8217;ll look at the humble <a href="http://jckr.github.io/blog/?p=429">arrays</a> and how protovis works with them.</li>
<li>Then, we&#8217;ll talk about <a href="http://jckr.github.io/blog/?p=479">multi-dimensional arrays, associative arrays, hierarchy and inheritance</a>.</li>
<li>Third, we&#8217;ll take a break from protovis and look at the <a href="http://jckr.github.io/blog/?p=494">javascript methods to work with arrays</a>, such as sorting.</li>
<li>[update] Since I first published the array part I wrote a <a href="http://jckr.github.io/blog/?p=699">supplement</a></li>
<li>We&#8217;ll then check out the powerful <a href="http://jckr.github.io/blog/?p=502">protovis data processing methods</a>, such as those who reshape complex arrays.</li>
<li>Finally, we&#8217;ll see how data must be prepared to work with the <a href="http://jckr.github.io/blog/?p=623">built-in layouts</a>, such as treemaps, force-directed layouts etc.</li>
</ol>
<p>And as a bonus, I have also deconstructed several interesting (but not immediately accessible) examples from the gallery:</p>
<ul>
<li><a href="http://jckr.github.io/blog/?p=534">Becker&#8217;s Barley</a></li>
<li><a href="http://jckr.github.io/blog/?p=573">Map projections</a></li>
</ul>
<p>To make the best use of this material, it would be helpful to know a bit about <a href="http://www.protovis.org/">protovis</a>. The best ways to get started are:</p>
<ul>
<li>The protovis documentation. First, the <a href="http://vis.stanford.edu/protovis/docs/start.html">tutorial</a>, then the thematic <a href="http://vis.stanford.edu/protovis/docs/">overviews</a>.</li>
<li><a href="http://www.eagereyes.org/">Eagereyes&#8217;s</a> protovis primer: <a href="http://eagereyes.org/tutorials/protovis-primer-part-1">part 1</a>, <a href="http://eagereyes.org/tutorials/protovis-primer-part-2">part 2</a>, <a href="http://eagereyes.org/tutorials/protovis-primer-part-3">part 3</a>.</li>
<li>Len de Groot&#8217;s protovis <a href="http://www.google.com/url?sa=D&amp;q=http://multimedia.journalism.berkeley.edu/media/upload/tutorials/protovis/protovis-cheat-sheet.pdf">cheat sheet</a>, which may not get you started but which will keep you going.</li>
</ul>
<p>Now that&#8217;s said, en route for the 1st part!</p>
	    		<div class="clear">&nbsp;</div>
	</section>
</article><!-- #post-## -->
			
				
<article id="post-420" class="post-420 post type-post status-publish format-standard hentry category-uncategorized tag-conference tag-ieee tag-infovis tag-salt-lake-city tag-vast tag-vis tag-visweek">
		    <header class="post-header">
        			<span class="post-meta">
				<span class="posted-on"><a href="/2010/11/04/visweek-2010-the-one-minute-edition/" rel="bookmark"><time class="entry-date published" datetime="2010-11-04T17:19:46+00:00">November 4, 2010</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="/author/jerome/">jerome</a></span></span> on <a href="/category/uncategorized/" rel="category tag">Uncategorized</a>			</span>
		        <h1 class="post-title"><a href="/2010/11/04/visweek-2010-the-one-minute-edition/" rel="bookmark">VisWeek 2010: the one-minute edition.</a></h1>
         
    </header>
	<section class="post-content">

		<div id="__ss_5667704" style="width: 425px;"><strong><a title="Vis week 2010" href="http://www.slideshare.net/vozome/vis-week-2010-5667704">Vis week 2010</a></strong><object id="__sse5667704" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="425" height="355" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"><param name="allowFullScreen" value="true" /><param name="allowScriptAccess" value="always" /><param name="src" value="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=visweek2010-101104100223-phpapp01&amp;stripped_title=vis-week-2010-5667704&amp;userName=vozome" /><param name="name" value="__sse5667704" /><param name="allowfullscreen" value="true" /><embed id="__sse5667704" type="application/x-shockwave-flash" width="425" height="355" src="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=visweek2010-101104100223-phpapp01&amp;stripped_title=vis-week-2010-5667704&amp;userName=vozome" name="__sse5667704" allowscriptaccess="always" allowfullscreen="true"></embed></object></p>
<div style="padding:5px 0 12px">View more <a href="http://www.slideshare.net/">presentations</a> from <a href="http://www.slideshare.net/vozome">Jérôme Cukier</a>.</div>
</div>
<p><a href="http://vis.computer.org/VisWeek2010/">Visweek 2010</a> is just over.</p>
<p>With lectures and presentations going on in up to 4  rooms simultaneously for 6 straight and very full days, it&#8217;s impossible to see everything let alone to describe it. And even that would be ignoring all exchanges and social interactions which are precisely the point of visweek.</p>
<p>So instead, I&#8217;m showing what I liked best,  one image per day.</p>
	    		<div class="clear">&nbsp;</div>
	</section>
</article><!-- #post-## -->
			
				
<article id="post-397" class="post-397 post type-post status-publish format-standard hentry category-uncategorized">
		    <header class="post-header">
        			<span class="post-meta">
				<span class="posted-on"><a href="/2010/04/04/playing-with-tableau-contest-datasets/" rel="bookmark"><time class="entry-date published" datetime="2010-04-04T21:05:45+00:00">April 4, 2010</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="/author/jerome/">jerome</a></span></span> on <a href="/category/uncategorized/" rel="category tag">Uncategorized</a>			</span>
		        <h1 class="post-title"><a href="/2010/04/04/playing-with-tableau-contest-datasets/" rel="bookmark">Playing with Tableau contest datasets</a></h1>
         
    </header>
	<section class="post-content">

		<p>I&#8217;ve played a bit with the other 3 datasets of the Tableau Public contest. When I get to see what others have done, it will be easier to take something from that after having manipulated them. The one I&#8217;ve spent most time with is the US budget spending one. Here&#8217;s the sheet I came up with:</p>
<p><script type="text/javascript" src="http://public.tableausoftware.com/javascripts/api/viz_v1.js"></script><object class="tableauViz" width="804" height="920" style="display:none;"><param name="name" value="contest2/Sheet2" /><param name="toolbar" value="yes" /></object><noscript>Sheet 2 <br /><a href="#"><img alt="Sheet 2 " src="http://public.tableausoftware.com/static/images/contest2-Sheet2_rss.png" height="100%" /></a></noscript>
<div style="width:804px;height:22px;padding:0px 10px 0px 0px; margin-top: -6px; color:black;font:normal 8pt verdana,helvetica,arial,sans-serif;">
<div style="padding-left: 688px;"><a href="http://www.tableausoftware.com/public?ref=http://public.tableausoftware.com/views/contest2/Sheet2" target="_blank">Powered by Tableau</a></div>
</div>
<p>(if the viz doesn&#8217;t show in the blog, here&#8217;s the <a href="http://public.tableausoftware.com/views/contest2/Sheet2">direct link</a>)</p>
<p>a few explanations:</p>
<h3>Unit: % of GDP</h3>
<p>The dataset covers almost 40 years, and includes a notion of inflation. But even with that it&#8217;s too difficult to compare spending over time. Instead of trying to convert everything to 2009 constant dollars, it&#8217;s easier (and it makes more sense) to compare everything as percentage of GDP.</p>
<h3>Filter: by function</h3>
<p>The original dataset lists over 30 departments. I don&#8217;t think they are immediately comparable as is, some being much bigger than others. Besides, it&#8217;s just too complicated to ask people to choose between 30 items to make comparisons. So, instead, I grouped several departments by function, as defined by the COFOG (classifications of functions of government, a UN classification). To be honest I wasn&#8217;t extra careful when I assigned some departments to a function, for instance Veteran Affairs could have been assigned to Defense or to Social Protection (I chose the latter).  But the assignments are fair. The added bonus is that using functions enables us to make international comparisons:</p>
<h3>Comparing with OECD values</h3>
<p>Not too long ago I made a <a href="https://community.oecd.org/community/factblog/blog/2009/12/03/where-your-money-goes">chart </a>comparing OECD countries&#8217; budget expenditures. So what I didn&#8217;t like about this dataset is that it didn&#8217;t give a way to determine whether US spendings in such or such area were high or low. From the dataset proper, one can tell that, for instance, that social protection expenses were never as high as in 2009. But are they really &#8220;high&#8221;? Or &#8211; defense expenditure were at an all-time low in 1999. But were they really low?</p>
<p>Comparing with other values help answer those questions. To continue on these 2 examples, social protection expenditure, in 2009, was 7.2% &#8211; a much higher share than in 1965 (3.9%) but still very low compared to OECD countries &#8211; the average being 15.2%. Conversely, defense, in 1999, only represented 3.1% of GDP &#8211; it was as high as 9% during Viet-Nam, and it&#8217;s almost 5% today. Meanwhile, the OECD average is 1.4%.</p>
<p>Again, that comparison is not very scientific, because the <a href="http://dx.doi.org/10.1787/723501646741">numbers used for those OECD averages</a> include other levels of government (states, cities&#8230;) which are not included here. But still, they help putting the dataset in the context.</p>
	    		<div class="clear">&nbsp;</div>
	</section>
</article><!-- #post-## -->
			
				
<article id="post-389" class="post-389 post type-post status-publish format-standard hentry category-uncategorized">
		    <header class="post-header">
        			<span class="post-meta">
				<span class="posted-on"><a href="/2010/03/29/tableau-contest-additional-views/" rel="bookmark"><time class="entry-date published" datetime="2010-03-29T17:07:28+00:00">March 29, 2010</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="/author/jerome/">jerome</a></span></span> on <a href="/category/uncategorized/" rel="category tag">Uncategorized</a>			</span>
		        <h1 class="post-title"><a href="/2010/03/29/tableau-contest-additional-views/" rel="bookmark">Tableau contest, additional views</a></h1>
         
    </header>
	<section class="post-content">

		<p>For the tableau contest, I had prepared many other views which I didn&#8217;t include in the final dashboard. Here&#8217;s a couple: </p>
<p><script type="text/javascript" src="http://public.tableausoftware.com/javascripts/api/viz_v1.js"></script><object class="tableauViz" width="804" height="669" style="display:none;"><param name="name" value="contest/Residualobesitymap" /><param name="toolbar" value="yes" /></object><noscript>Residual obesity map <br /><a href="#"><img alt="Residual obesity map " src="http://public.tableausoftware.com/static/images/contest-Residualobesitymap_rss.png" height="100%" /></a></noscript>
<div style="width:804px;height:22px;padding:0px 10px 0px 0px; margin-top: -6px; color:black;font:normal 8pt verdana,helvetica,arial,sans-serif;">
<div style="padding-left: 688px;"><a href="http://www.tableausoftware.com/public?ref=http://public.tableausoftware.com/views/contest/Residualobesitymap" target="_blank">Powered by Tableau</a></div>
</div>
<p>This here is the number of points in the adult obesity rates which are not explained by the median income of the county. In other words, marks that appear very green are counties where people are less obese than counties with similar incomes, and conversely, red marks show counties where obesity is more widespread than expected by income alone.<br />
This suggests that there could be some cultural/regional explanations to the health situation. People in the mountains area, especially Colorado, show as very green, while people in the old South are very red. Mid West and North West are average, New England and Florida tend to be better than average. Yesterday, there was a show on French TV calling Houston the fat capital of the USA, explaining that by cultural reasons. But the fact is, obesity rates in Harris county are lower than average, and on this map the corresponding mark is green,  showing that factors other than income play a positive, not negative role. I love it when facts and numbers get in the way of a nice story.</p>
<p><script type="text/javascript" src="http://public.tableausoftware.com/javascripts/api/viz_v1.js"></script><object class="tableauViz" width="804" height="669" style="display:none;"><param name="name" value="contest/Sheet9" /><param name="toolbar" value="yes" /></object><noscript>Sheet 9 <br /><a href="#"><img alt="Sheet 9 " src="http://public.tableausoftware.com/static/images/contest-Sheet9_rss.png" height="100%" /></a></noscript>
<div style="width:804px;height:22px;padding:0px 10px 0px 0px; margin-top: -6px; color:black;font:normal 8pt verdana,helvetica,arial,sans-serif;">
<div style="padding-left: 688px;"><a href="http://www.tableausoftware.com/public?ref=http://public.tableausoftware.com/views/contest/Sheet9" target="_blank">Powered by Tableau</a></div>
</div>
<p>and this is put together, say, just for aesthetic purposes. it categorizes counties by their median income (in increments of 1000$, X-axis) and their obesity rates (by chunks of 0.5%, Y-axis) and plots the total population of the counties that fill both criteria. Then again, it doesn&#8217;t show the actual number of people who are in a specific income and obesity bracket, it just adds the population of whole counties. </p>
	    		<div class="clear">&nbsp;</div>
	</section>
</article><!-- #post-## -->
			
				
<article id="post-355" class="post-355 post type-post status-publish format-standard hentry category-data-visualization category-uncategorized tag-contest tag-data-visualization tag-tableau">
		    <header class="post-header">
        			<span class="post-meta">
				<span class="posted-on"><a href="/2010/03/26/my-tableau-contest-entry/" rel="bookmark"><time class="entry-date published" datetime="2010-03-26T20:35:59+00:00">March 26, 2010</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="/author/jerome/">jerome</a></span></span> on <a href="/category/data-visualization/" rel="category tag">data visualization</a>, <a href="/category/uncategorized/" rel="category tag">Uncategorized</a>			</span>
		        <h1 class="post-title"><a href="/2010/03/26/my-tableau-contest-entry/" rel="bookmark">My tableau contest entry</a></h1>
         
    </header>
	<section class="post-content">

		<p><script type="text/javascript" src="http://public.tableausoftware.com/javascripts/api/viz_v1.js"></script><object class="tableauViz" width="704" height="839" style="display:none;"><param name="name" value="contest/myDashboard" /><param name="toolbar" value="yes" /></object><noscript>myDashboard <br /><a href="#"><img alt="myDashboard " src="http://public.tableausoftware.com/static/images/contest-myDashboard_rss.png" height="100%" /></a></noscript>
<div style="width:704px;height:22px;padding:0px 10px 0px 0px; margin-top: -6px; color:black;font:normal 8pt verdana,helvetica,arial,sans-serif;">
<div style="padding-left: 588px;"><a href="http://www.tableausoftware.com/public?ref=http://public.tableausoftware.com/views/contest/myDashboard" target="_blank">Powered by Tableau</a></div>
</div>
<p>so here it is. I chose to compete on the <a href="http://www.tableausoftware.com/public/sites/default/files/Activity_Rates_and_Healthy_Living.xls">Activity Rates and Healthy Living</a> data set, because after downloading it I really enjoyed exploring it.</p>
<p>If the viz doesn&#8217;t show well in the blog, here&#8217;s a <a href="http://public.tableausoftware.com/views/contest/myDashboard">link to its page</a></p>
<p>My main reason for entering the <a href="http://www.tableausoftware.com/public/viz-contest">contest</a> is to be able to see what others have done. There are obviously many, many ways to tackle this and I am very much looking forward to see everyone&#8217;s work! my interactions with the Tableau community, especially through the forum, have always been very rewarding and what better way to learn than from example!</p>
<p>So for the fellow contestants that will see my work, here is my train of thoughts for the dashboard.</p>
<h3>The dataset</h3>
<p>I&#8217;m aware of USDA&#8217;s <a href="http://maps.ers.usda.gov/FoodAtlas/">food environment atlas</a>. It&#8217;s an application where people can see various food-related indicators on a map. The dataset we were handled is actually the background data of this. So, there is already a place where people can <em>consult </em>food indicators.</p>
<p>Now this beeing Tableau and all, I wanted to create an <em>analytical</em> dashboard where people could understand if and how the <em>input </em>variables affected the <em>output </em>variables.</p>
<p>The dataset consists mostly of <em>input </em>variables: various indicators that influence how healthy a local population is. That status (<em>output</em>) is expressed through a few variables, such as adult and child obesity rates and adult diabetes rates. Those variables are highly correlated with each other, so in my work I chose to focus on adult obesity rates which is the simplest one.</p>
<p>Now, inputs. The rest of the variables fall in several categories:</p>
<ul>
<li>income (median household income, poverty rates);</li>
<li>diet (consumption of various food items per capita);</li>
<li>shopping habits (for various types of stores or restaurants, the dataset would give their number and the money spent in each county, both in absolute numbers and per capita);</li>
<li>lifestyle information (data on households without cars and far from stores, on the physical activity level of the population, and the facilities offered by the state);</li>
<li>pricing variables (price ratios between some &#8220;healthy&#8221; food items and some less healthy, equivalent food items, for instance fruits vs. snacks; tax information on unhealthy food);</li>
<li>policy variables (measuring participation to various programmes such as SNAP or WIC); </li>
<li>socio-demographic variables (ethnic groups in population, &#8220;metro&#8221; status of county, whether the county was growing and shrinking, and voting preferences).</li>
</ul>
<p>Yes, that&#8217;s a lot of variables (about 90, plus the county and state dimensions).</p>
<p>Oddly enough, there wasn&#8217;t a population measure in the dataset, and many indicators were available in absolute value only, so I constructed a proxy by dividing two variables on the same subject (something like &#8220;number of convenience stores&#8221; and &#8220;number of convenience stores / capita&#8221;).</p>
<p>That enabled me to build indicators per capita for all subjects, so I could see if they were correlated with my obesity rates.</p>
<h3>Findings &#8211; using Tableau desktop to make sense of the dataset</h3>
<p>The indicators which were most correlated with obesity were the income ones, which came as no surprise. All income indicators were also very correlated to each other. In the USA, <a href="http://www.census.gov/hhes/www/poverty/povdef.html#2">poverty</a> means having an income below a certain threshold which is defined at the <em>federal level</em>. But in other contexts, poverty is most often defined in relation to the median income (typically, a household is in poverty if its income is below half of the median income), so it can be used to measure inequality of a community, and <em>dispersion </em>of incomes.</p>
<p>As a result, many indicators appear to be correlated with obesity because they are not independent of income. This is the case for instance for most of the policy indicators: if a programme has many recipients in a county, it is because poverty is widespread, so residents are more likely to be affected by obesity. This makes it difficult to measure the impact of the programmes with this dataset. This is also the case, unfortunately, for racial indicators, as most of the counties with a very high black population have a low income.</p>
<p>Diet indicators also appear to be uncorrelated with obesity. This is counter-intuitive &#8211; isn&#8217;t eating vegetables or fresh farm produce the most certain way to prevent obesity? But one has to remember that this dataset is aggregated at the county level. Just because a county has a high level of, say, fruits consumption per capita doesn&#8217;t mean that every household is eating that much. Realistically, consumption will be very dispersed: the households where people cook, which are <a href="http://www.ted.com/talks/jamie_oliver.html">less likely to be affected by obesity</a>, will buy all the fruits, and those where people don&#8217;t cook will simply buy none. Also, just because one buys more vegetable than average doesn&#8217;t mean they don&#8217;t also buy other, less recommended foodstuff.</p>
<p>The only diet indicator that appear to be somewhat correlated to obesity is the consumption of soft drinks.</p>
<p>When it comes to lifestyle habits, surprisingly, the proportion of households without car and living far from a store &#8211; people likely to walk more, so to be healthier &#8211; is positively correlated with obesity. This is because counties where this indicator is high are also poorer than average &#8211; again, income explains most of this. However, physical activity in general plays a positive role. States where people are most active, such as Colorado, enjoy the lowest obesity figures. In fact, all the counties with less than 15% of obesity are in Colorado.</p>
<p>Finally, pricing didn&#8217;t seem to have much impact on neither obesity, nor consumption. Why is that? Economists would call this &#8220;low price elasticity&#8221;, meaning that price changes do not encourage people to switch products and habits. But there is another explanation. Again, people who can&#8217;t cook are not going to buy green vegetables because they are cheaper. Also, consider the tax amount that are applied: no more than 7% in the most aggressive states. Compare that figure to the 400%+ levy that is applied to cigarettes in many countries of the world! Clearly, 4-7% is not strong enough to change habits. However, this money can be used to sponsor programmes that can help people adopt safer behaviors.</p>
<h3>What to show? making the visualization</h3>
<p>First, I wanted to show all of those findings. If 2 variables that you expect to be correlated (say, consumption of vegetables and obesity) are in fact not correlated, a point is made! But visually, nothing is less interesting than a scatterplot that doesn&#8217;t exhibit correlation. It&#8217;s just a stupid cloud of dots.</p>
<p>So instead I chose to focus on the correlations I could establish, namely: obesity and income, and obesity and activity. Those are the 2 lower scatterplot of my dashboard. I chose the poverty rate measure, because I&#8217;d rather have a trend line going up, than going down.</p>
<p>I duplicated that finding with a bar chart made with median income bins. For each bin (which represent all the counties where the median income fall in that range), I would plot the average obesity rate, and, miracle! this comes up as a markedly decreasing bar chart. Now, this figure doesn&#8217;t <em>establish </em>correlation, let alone causality, but it certainly <em>suggests </em>it more efficiently than a scatterplot. Also, it can be doubled as a navigation aide: clicking on a bar would highlight or select the relevant counties.</p>
<p>Finally, I decided to do a map. Well, actually, it was the first thing I had done, but  had second thoughts about it, and eventually I put it in. Why? first, to allow people to look up their county. Technically, my county is Travis county (Austin, TX) and I can find it easily on a map. Less so if I have to look for county names listed in order of any of their indicators. I added a quick filter on county name, for those who&#8217;d rather type than look up.</p>
<p>I also wanted to see whether there was a link between geography and obesity. So try the following.</p>
<ul>
<li>Where are the counties with obesity rates less than 15% ? Colorado only. </li>
<li>If we raise the threshold a little, we get San Francisco and New York. But until 20%, these counties remain very localized.</li>
<li>Likewise, virtually all counties above 35% are in the South &#8211; Alabama, Louisianne, Mississipi.</li>
</ul>
<p>Population also has an importance. The counties with a population above 1m people tend to have lower rates &#8211; their citizens also usually have higher incomes.</p>
<p>I decided to zoom the map on the lower 48 by default. It is possible to zoom out to see Alaska and Hawaii, but I don&#8217;t think that the advantage of seeing them all the time is greater than the inconvenient of having a smaller view point even if they are not necessary.</p>
<p>Regarding the marks. Originally, I didn&#8217;t assign any variable to their size, but then thought that the larger counties (i.e. LA, Harris (Houston), Cook (Chicago) &#8230;) were underrepresented. So I assigned my population proxy to size. But then, the density of the marks competed with the intensity of the color, which was attributed to the obesity rate. So I removed that and chose a size so that marks wouldn&#8217;t overlap each other too much. Regarding color, I wasn&#8217;t happy with the default scale. If I let it as is, it would consider that 12.5%, the minimum value of the dataset, is an extremely low number. But in absolute terms, it&#8217;s not. Most developed countries have obesity rates lower than that value at the national level. Japan or Korea are <a href="http://dx.doi.org/10.1787/538537864717">below 4%</a>. So I made the scale start at 0. But I didn&#8217;t like the output: the counties with the highest values didn&#8217;t stand out. Eventually, I chose a diverging scale, which helped counties with high and low values to be more visible.</p>
<p>I edited an tooltip card for the view. In another version of the dashboard, I had a sheet with numbers written out that would change depending on which country was last brushed. I like the idea that this information can stay on. But I got confused in the configuration of the actions, and couldn&#8217;t completely prevent the filter that applied to this sheet to be disabled, sometimes, which caused number for all counties to overlap, and an annoying downtime as that happens. So I made an tooltipinstead. Anyway, it&#8217;s easier to format text like this. But the problem is that it can hide a good portion of the dashboard. So I exercised constraint and only chose what I found the 15 or so most relevant variables.</p>
<p>Voilà! that&#8217; s it. I hope you like my dashboard, and I look forward to see the work of others! If you are a contestant, please leave a link to your entry in the comments. Good luck to all!!</p>
	    		<div class="clear">&nbsp;</div>
	</section>
</article><!-- #post-## -->
			
				
<article id="post-295" class="post-295 post type-post status-publish format-standard hentry category-data-visualization category-uncategorized">
		    <header class="post-header">
        			<span class="post-meta">
				<span class="posted-on"><a href="/2010/01/04/mortality-data-with-tableau-public/" rel="bookmark"><time class="entry-date published" datetime="2010-01-04T17:49:23+00:00">January 4, 2010</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="/author/jerome/">jerome</a></span></span> on <a href="/category/data-visualization/" rel="category tag">data visualization</a>, <a href="/category/uncategorized/" rel="category tag">Uncategorized</a>			</span>
		        <h1 class="post-title"><a href="/2010/01/04/mortality-data-with-tableau-public/" rel="bookmark">Mortality data with Tableau Public</a></h1>
         
    </header>
	<section class="post-content">

		<p>Last month I saw <a href="http://www.ge.com/visualization/causes/">this infographic chart</a> put together by GE and GOOD magazine: <img src="http://files.gecompany.com//healthymagination/visualization/causes/causes_of_death_sm.jpg" alt="" /></p>
<p>While the look and feel is pleasing I was bothered by a few choices of design.</p>
<p>First, homicides and accidental deaths are not taken into account. I suspect that for some demographic categories, they represent a significant proportion of the deaths.</p>
<p>Second, the table doesn&#8217;t give an indication of the differences in mortality between the different age groups. For instance, there are over 15,000 deaths per 100,000 people over 85 years old, but only about 130 / 100,000 for young people aged  15-24. So the last item in the right-most column corresponds to much more deaths than the top item in the left-most column, although they have the same visual weight.</p>
<p>Coincidentally, I got to try <a href="http://www.tableausoftware.com/watermark">Tableau Public Beta</a> and thought it would be a good exercise to give it a spin.<br />
The data source is the same. I got my data through the <a href="http://wonder.cdc.gov/">wonder service</a> of the <a href="http://www.cdc.gov/">CDC</a>.<br />
Here goes:</p>
<p><script type="text/javascript" src="http://public.tableausoftware.com/javascripts/api/viz_v1.js"></script><object class="tableauViz" width="604" height="643" style="display:none;"><param name="name" value="mortalitydata/Mortalitystatistics" /><param name="toolbar" value="yes" /></object><noscript>Mortality statistics <br /><a href="#"><img alt="Mortality statistics " src="http://public.tableausoftware.com/static/images/mortalitydata-Mortalitystatistics_rss.png" height="100%" /></a></noscript>
<div style="width:604px;height:22px;padding:3px 10px 0px 0px; color:black;font:normal 8pt verdana,helvetica,arial,sans-serif;">
<div style="padding-left: 488px;"><a href="http://www.tableausoftware.com/public?ref=http://public.tableausoftware.com/views/mortalitydata/Mortalitystatistics" target="_blank">Powered by Tableau</a></div>
</div>
<p>By playing with the filters you can see the ranking of the causes of death. For instance, we can see that accidents and homicide are precisely the leading causes of death of young people aged 20 to 24. Now what if you want to see the demographic categories that one given cause of death affects most? Here&#8217;s a second visualization: </p>
<p><script type="text/javascript" src="http://public.tableausoftware.com/javascripts/api/viz_v1.js"></script><object class="tableauViz" width="604" height="643" style="display:none;"><param name="name" value="mortalitydata/Deathdistribution" /><param name="toolbar" value="yes" /></object><noscript>Death distribution <br /><a href="#"><img alt="Death distribution " src="http://public.tableausoftware.com/static/images/mortalitydata-Deathdistribution_rss.png" height="100%" /></a></noscript>
<div style="width:604px;height:22px;padding:3px 10px 0px 0px; color:black;font:normal 8pt verdana,helvetica,arial,sans-serif;">
<div style="padding-left: 488px;"><a href="http://www.tableausoftware.com/public?ref=http://public.tableausoftware.com/views/mortalitydata/Deathdistribution" target="_blank">Powered by Tableau</a></div>
</div>
<p>You can see that certain causes of death, for instance, only affect one gender or the other (such are certain forms of cancer).<br />
I&#8217;ve made that last one to illustrate the evolution of mortality with age. No one would be surprised to learn that older people have a higher probablity of dying but by what proportions?</p>
<p><script type="text/javascript" src="http://public.tableausoftware.com/javascripts/api/viz_v1.js"></script><object class="tableauViz" width="604" height="643" style="display:none;"><param name="name" value="mortalitydata/Evolutionofmortality" /><param name="toolbar" value="yes" /></object><noscript>Evolution of mortality <br /><a href="#"><img alt="Evolution of mortality " src="http://public.tableausoftware.com/static/images/mortalitydata-Evolutionofmortality_rss.png" height="100%" /></a></noscript>
<div style="width:604px;height:22px;padding:3px 10px 0px 0px; color:black;font:normal 8pt verdana,helvetica,arial,sans-serif;">
<div style="padding-left: 488px;"><a href="http://www.tableausoftware.com/public?ref=http://public.tableausoftware.com/views/mortalitydata/Evolutionofmortality" target="_blank">Powered by Tableau</a></div>
</div>
	    		<div class="clear">&nbsp;</div>
	</section>
</article><!-- #post-## -->
			
				
<article id="post-225" class="post-225 post type-post status-publish format-standard hentry category-uncategorized tag-commission tag-fitoussi tag-gdp tag-indicators tag-official-statistics tag-performance tag-progress tag-sarkozy tag-sen tag-stiglitz tag-well-being">
		    <header class="post-header">
        			<span class="post-meta">
				<span class="posted-on"><a href="/2009/09/15/the-stiglitz-sen-fitoussi-commission/" rel="bookmark"><time class="entry-date published" datetime="2009-09-15T01:05:38+00:00">September 15, 2009</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="/author/jerome/">jerome</a></span></span> on <a href="/category/uncategorized/" rel="category tag">Uncategorized</a>			</span>
		        <h1 class="post-title"><a href="/2009/09/15/the-stiglitz-sen-fitoussi-commission/" rel="bookmark">The Stiglitz-Sen-Fitoussi commission</a></h1>
         
    </header>
	<section class="post-content">

		<p><img class="alignnone" src="http://www.lepoint.fr/content/system/media/6/20090914/photo_1252944052117-1-0.jpg" alt="" width="512" height="376" /></p>
<p>Photo credit: <a href="/category/uncategorized/page/2/www.lepoint.fr/.../photo_1252944052117-1-0.jpg">Le point</a>. That&#8217;s Stiglitz on the right with files, Sen is the one with the mischevious smile and blue shirt, and Fitoussi is the smoker.</p>
<p>Yesterday, I attended the presentation of the report of the <a href="/category/uncategorized/page/2/www.lepoint.fr/.../photo_1252944052117-1-0.jpg">Stiglitz-Sen-Fitoussi commission</a> on the measurement of economic performance and social progress.</p>
<p>In a nutshell, since there is a consensus around the <strong>limitations of GDP</strong> as the main indicator of performance, the commission aims to find other ways to measure the efficiency of an economic policy.</p>
<p>The idea is to build indicators that would be closer to the experience of the citizen, rather than an abstract, expert top-view of a system. The report argues for a system of indicators of well-being, measures of leisure and culture, better environmental indicators and also better ways to understand inequalities, rather than a constant focus on averages and aggregates.</p>
<p>OECD, my employer, was quite involved in the report, as several members of the commission were OECD (or recent ex-OECD) and because there are <a href="http://www.oecd.org/progress">several programmes at OECD</a> with similar goals.</p>
<p>So the ideas in the report are not very new. But the real breakthrough is the degree of political support the commission is getting.</p>
<p>You&#8217;d probably think that governments would take heed of the musings of 5 Nobel prizes and 17 top-notch academics on their own merits. But the reason why GDP is such a popular indicator is not because it&#8217;s perfect, but because it&#8217;s relatively easy to compute. With a stress of &#8220;relatively&#8221;: it&#8217;s an incredibly complex endeavor on which hundreds of people work full time in every country. But at least, it obeys to <a href="http://unstats.un.org/unsd/sna1993/toctop.asp">very explicit rules</a> and as such it is comparable across nations. Any new indicators would be difficult (read expensive) to set up, and to be effective, they&#8217;d require a similar framework, which means a good number of countries following the same methodology to compile data.</p>
<p>That has been the stumbling block. But Sarkozy, who sponsored the report, stated very clearly that he&#8217;d put it on the agenda of every international meeting he&#8217;ll attend, and that he&#8217;ll demand that all international organizations put it into practice. Because of the crisis, and the global inability of statistical offices to prevent it, the timing may well be right to make that claim.</p>
	    		<div class="clear">&nbsp;</div>
	</section>
</article><!-- #post-## -->
			
				<nav class="pagination navigation paging-navigation" role="navigation">
		<div class="nav-links">
						<div class="older-posts"><a href="/category/uncategorized/page/3/" >Older Posts <span class="meta-nav">&rarr;</span></a></div>
							<div class="page-number">Page 2 of 3</div>
						<div class="newer-posts"><a href="/category/uncategorized/" ><span class="meta-nav">&larr;</span> Newer Posts</a></div>
			
		</div><!-- .nav-links -->
	</nav><!-- .navigation -->
	
		
		</main><!-- #main -->
	</section><!-- #primary -->

	<div id="secondary" class="widget-area" role="complementary">
		<aside id="search-2" class="widget widget_search"><form role="search" method="get" class="search-form" action="/">
				<label>
					<span class="screen-reader-text">Search for:</span>
					<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s" />
				</label>
				<input type="submit" class="search-submit" value="Search" />
			</form></aside>		<aside id="recent-posts-2" class="widget widget_recent_entries">		<h1 class="widget-title">Recent Posts</h1>		<ul>
					<li>
				<a href="/2016/08/17/the-big-leagues/">The big leagues</a>
						</li>
					<li>
				<a href="/2016/08/17/creating-a-react-visualization-web-app/">Creating a React visualization web app</a>
						</li>
					<li>
				<a href="/2016/08/13/beyond-rendering/">Beyond rendering</a>
						</li>
					<li>
				<a href="/2016/08/11/react-components/">React components</a>
						</li>
					<li>
				<a href="/2016/08/10/coding-with-react/">Coding with React</a>
						</li>
				</ul>
		</aside>		<aside id="recent-comments-2" class="widget widget_recent_comments"><h1 class="widget-title">Recent Comments</h1><ul id="recentcomments"><li class="recentcomments"><span class="comment-author-link"><a href='http://omeraz.wordpress.com/' rel='external nofollow' class='url'>עומר עזריאל</a></span> on <a href="/2016/08/17/the-big-leagues/#comment-567">The big leagues</a></li><li class="recentcomments"><span class="comment-author-link">Carlos Ayres</span> on <a href="/2012/05/28/manipulating-data-like-a-boss-with-d3/#comment-312">Manipulating data like a boss with d3</a></li><li class="recentcomments"><span class="comment-author-link"><a href='https://migrate.powertripanalytics.com/game-of-thrones-interactions-among-the-top-30-characters/' rel='external nofollow' class='url'>Game of ThronesInteractions Among the Top 30 Characters &#8211; PowerTrip Analytics</a></span> on <a href="/2013/05/13/making-the-game-of-thrones-visualization/#comment-466">Making the game of thrones visualization</a></li><li class="recentcomments"><span class="comment-author-link"><a href='https://abgoswam.wordpress.com/2016/10/08/d3-getting-started/' rel='external nofollow' class='url'>D3 &#8211; Getting Started | abgoswam&#039;s tech blog</a></span> on <a href="/2012/09/04/getting-to-hello-world-with-d3/#comment-419">Getting to &#8220;Hello world&#8221; with d3</a></li><li class="recentcomments"><span class="comment-author-link"><a href='https://plus.google.com/+BrotoBhattacharjee' rel='external nofollow' class='url'>Broto Bhattacharjee</a></span> on <a href="/2012/09/04/getting-to-hello-world-with-d3/#comment-418">Getting to &#8220;Hello world&#8221; with d3</a></li></ul></aside><aside id="archives-2" class="widget widget_archive"><h1 class="widget-title">Archives</h1>		<ul>
			<li><a href='/2016/08/'>August 2016</a></li>
	<li><a href='/2015/05/'>May 2015</a></li>
	<li><a href='/2015/02/'>February 2015</a></li>
	<li><a href='/2014/10/'>October 2014</a></li>
	<li><a href='/2013/11/'>November 2013</a></li>
	<li><a href='/2013/05/'>May 2013</a></li>
	<li><a href='/2013/03/'>March 2013</a></li>
	<li><a href='/2013/01/'>January 2013</a></li>
	<li><a href='/2012/12/'>December 2012</a></li>
	<li><a href='/2012/11/'>November 2012</a></li>
	<li><a href='/2012/10/'>October 2012</a></li>
	<li><a href='/2012/09/'>September 2012</a></li>
	<li><a href='/2012/07/'>July 2012</a></li>
	<li><a href='/2012/06/'>June 2012</a></li>
	<li><a href='/2012/05/'>May 2012</a></li>
	<li><a href='/2012/04/'>April 2012</a></li>
	<li><a href='/2012/01/'>January 2012</a></li>
	<li><a href='/2011/11/'>November 2011</a></li>
	<li><a href='/2011/10/'>October 2011</a></li>
	<li><a href='/2011/09/'>September 2011</a></li>
	<li><a href='/2011/08/'>August 2011</a></li>
	<li><a href='/2011/07/'>July 2011</a></li>
	<li><a href='/2011/06/'>June 2011</a></li>
	<li><a href='/2011/05/'>May 2011</a></li>
	<li><a href='/2011/04/'>April 2011</a></li>
	<li><a href='/2011/03/'>March 2011</a></li>
	<li><a href='/2011/02/'>February 2011</a></li>
	<li><a href='/2011/01/'>January 2011</a></li>
	<li><a href='/2010/11/'>November 2010</a></li>
	<li><a href='/2010/04/'>April 2010</a></li>
	<li><a href='/2010/03/'>March 2010</a></li>
	<li><a href='/2010/02/'>February 2010</a></li>
	<li><a href='/2010/01/'>January 2010</a></li>
	<li><a href='/2009/12/'>December 2009</a></li>
	<li><a href='/2009/10/'>October 2009</a></li>
	<li><a href='/2009/09/'>September 2009</a></li>
	<li><a href='/2009/08/'>August 2009</a></li>
	<li><a href='/2009/07/'>July 2009</a></li>
	<li><a href='/2009/06/'>June 2009</a></li>
	<li><a href='/2009/05/'>May 2009</a></li>
	<li><a href='/2008/12/'>December 2008</a></li>
	<li><a href='/2008/11/'>November 2008</a></li>
	<li><a href='/2008/10/'>October 2008</a></li>
		</ul>
		</aside><aside id="categories-2" class="widget widget_categories"><h1 class="widget-title">Categories</h1>		<ul>
	<li class="cat-item cat-item-2"><a href="/category/book-review/" >book review</a>
</li>
	<li class="cat-item cat-item-3"><a href="/category/charts/" >charts</a>
</li>
	<li class="cat-item cat-item-4"><a href="/category/conferences/" >conferences</a>
</li>
	<li class="cat-item cat-item-5"><a href="/category/d3/" >d3</a>
</li>
	<li class="cat-item cat-item-6"><a href="/category/dashboards/" >dashboards</a>
</li>
	<li class="cat-item cat-item-7"><a href="/category/data-publishing/" >data publishing</a>
</li>
	<li class="cat-item cat-item-8"><a href="/category/data-visualization/" >data visualization</a>
</li>
	<li class="cat-item cat-item-9"><a href="/category/francais/" >français</a>
</li>
	<li class="cat-item cat-item-10"><a href="/category/javascript/" >javascript</a>
</li>
	<li class="cat-item cat-item-11"><a href="/category/presentation/" >presentation</a>
</li>
	<li class="cat-item cat-item-12"><a href="/category/protovis/" >protovis</a>
</li>
	<li class="cat-item cat-item-13"><a href="/category/react/" >react</a>
</li>
	<li class="cat-item cat-item-14"><a href="/category/tips/" >tips</a>
</li>
	<li class="cat-item cat-item-1 current-cat"><a href="/category/uncategorized/" >Uncategorized</a>
</li>
	<li class="cat-item cat-item-15"><a href="/category/web-sites/" >web sites</a>
</li>
		</ul>
</aside><aside id="meta-2" class="widget widget_meta"><h1 class="widget-title">Meta</h1>			<ul>
						<li><a href="/wp-login.php">Log in</a></li>
			<li><a href="/feed/">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="/comments/feed/">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="https://wordpress.org/" title="Powered by WordPress, state-of-the-art semantic personal publishing platform.">WordPress.org</a></li>			</ul>
			</aside>		<div class="clear">&nbsp;</div>
	</div><!-- #secondary -->
	<footer id="colophon" class="site-footer" role="contentinfo">
	    <a class="subscribe icon-feed" href="/feed/"><span class="tooltip">Subscribe!</span></a>
		<div class="site-info inner">
		    <section class="copyright">
		    			    		<a href="https://github.com/lacymorrow/casper" rel="home">Casper WP</a> by Lacy Morrow		    			    </section>
		</div><!-- .site-info -->
	</footer><!-- #colophon -->
</main><!-- /#content -->

<script type='text/javascript' src='/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.9b'></script>
<script type='text/javascript' src='/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.9b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();
</script>
<script type='text/javascript' src='/wp-content/themes/casper/js/main.js?ver=1.0.0'></script>
<script type='text/javascript' src='/wp-includes/js/wp-embed.min.js?ver=4.6.10'></script>
<!--stats_footer_test--></body>
</html>
