<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="HandheldFriendly" content="True" />
<meta name="MobileOptimized" content="320" />

<title>Working with data in protovis &#8211; part 1 of 5 | jeromecukier.net</title>

<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="/xmlrpc.php">
<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="jeromecukier.net &raquo; Feed" href="/feed/" />
<link rel="alternate" type="application/rss+xml" title="jeromecukier.net &raquo; Comments Feed" href="/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="jeromecukier.net &raquo; Working with data in protovis &#8211; part 1 of 5 Comments Feed" href="/2011/02/07/working-with-data-in-protovis-part-1-of-5/feed/" />
<!-- This site uses the Google Analytics by MonsterInsights plugin v7.0.5 - Using Analytics tracking - https://www.monsterinsights.com/ -->
<!-- Note: MonsterInsights is not currently configured on this site. The site owner needs to authenticate with Google Analytics in the MonsterInsights settings panel. -->
<!-- No UA code set -->
<!-- / Google Analytics by MonsterInsights -->
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/localhost:8888\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.6.10"}};
			!function(a,b,c){function d(a){var c,d,e,f,g,h=b.createElement("canvas"),i=h.getContext&&h.getContext("2d"),j=String.fromCharCode;if(!i||!i.fillText)return!1;switch(i.textBaseline="top",i.font="600 32px Arial",a){case"flag":return i.fillText(j(55356,56806,55356,56826),0,0),!(h.toDataURL().length<3e3)&&(i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,65039,8205,55356,57096),0,0),c=h.toDataURL(),i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,55356,57096),0,0),d=h.toDataURL(),c!==d);case"diversity":return i.fillText(j(55356,57221),0,0),e=i.getImageData(16,16,1,1).data,f=e[0]+","+e[1]+","+e[2]+","+e[3],i.fillText(j(55356,57221,55356,57343),0,0),e=i.getImageData(16,16,1,1).data,g=e[0]+","+e[1]+","+e[2]+","+e[3],f!==g;case"simple":return i.fillText(j(55357,56835),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode8":return i.fillText(j(55356,57135),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode9":return i.fillText(j(55358,56631),0,0),0!==i.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity","unicode9"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='YoutubeShortcodeMargenn-css'  href='/wp-content/plugins/youtube-shortcode/youtube-shortcode.css?ver=4.6.10' type='text/css' media='all' />
<link rel='stylesheet' id='casper-google-fonts-css'  href='//fonts.googleapis.com/css?family=Noto+Serif%3A400%2C700%2C400italic%7COpen+Sans%3A700%2C400&#038;ver=4.6.10' type='text/css' media='all' />
<link rel='stylesheet' id='casper-style-css'  href='/wp-content/themes/casper/style.css?ver=4.6.10' type='text/css' media='all' />
<script type='text/javascript' src='/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<link rel='https://api.w.org/' href='/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Working with data in protovis' href='/2011/02/07/working-with-data-in-protovis/' />
<link rel='next' title='Working with data in protovis – part 2 of 5' href='/2011/02/08/working-with-data-in-protovis-part-2-of-5/' />
<meta name="generator" content="WordPress 4.6.10" />
<link rel="canonical" href="/2011/02/07/working-with-data-in-protovis-part-1-of-5/" />
<link rel='shortlink' href='http://wp.me/p-6V' />
<link rel="alternate" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2Flocalhost%3A8888%2F2011%2F02%2F07%2Fworking-with-data-in-protovis-part-1-of-5%2F" />
<link rel="alternate" type="text/xml+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2Flocalhost%3A8888%2F2011%2F02%2F07%2Fworking-with-data-in-protovis-part-1-of-5%2F&#038;format=xml" />

   	<style type="text/css">
					.blog-title a, .blog-description, .social-icons a { color: #222222; }
		
						                
		
							.main-navigation a { color: ; }
		                                            </style>
    		<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
			<style type="text/css">
			.site-title a,
		.site-description {
			color: #222222;
		}
		</style>
	<style type="text/css" id="syntaxhighlighteranchor"></style>
</head>

<body class="single single-post postid-429 single-format-standard group-blog">

<header id="masthead" role="banner" class="site-head site-header" style="background-image: url(http://localhost:8888/wp-content/uploads/2018/04/Screenshot-2018-04-09-19.38.59.png);">
    <nav id="site-navigation" class="main-navigation" role="navigation">
        <div>
            <h1 class="menu-toggle">
                <a class="icon-bars" href="#">
                    <span class="hidden">Menu</span>
                </a>
            </h1>
            <a class="skip-link screen-reader-text" href="#content">Skip to content</a>
            <div class="menu"><ul><li ><a href="/">Home</a></li></ul></div>
        </div>
    </nav><!-- #site-navigation -->

    <div class="vertical-row">
        <div class="vertical">
            <div class="site-head-content inner">
                
                <div class="social-icons">
                                                                                                                                                                                                                                                                                                                                                                                                                                                    </div>
                <h1 class="blog-title"><a class="blog-logo" href='/' rel='home'>jeromecukier.net</a></h1>
                <h2 class="blog-description">Just another WordPress site</h2>
            </div>
        </div>
    </div>
</header><!-- #masthead -->

<main id="content" class="content" role="main">


		
			<article id="post-429" class="post-429 post type-post status-publish format-standard hentry category-data-visualization category-protovis category-tips tag-arrays tag-data tag-protovis tag-tutorial">
    <header class="post-header">
                	<span class="post-meta">
        	    <span class="posted-on"><a href="/2011/02/07/working-with-data-in-protovis-part-1-of-5/" rel="bookmark"><time class="entry-date published" datetime="2011-02-07T19:41:46+00:00">February 7, 2011</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="/author/jerome/">jerome</a></span></span> | <a href="/category/data-visualization/" rel="category tag">data visualization</a>, <a href="/category/protovis/" rel="category tag">protovis</a>, <a href="/category/tips/" rel="category tag">tips</a> in <a href="/tag/arrays/" rel="tag">arrays</a>, <a href="/tag/data/" rel="tag">data</a>, <a href="/tag/protovis/" rel="tag">protovis</a>, <a href="/tag/tutorial/" rel="tag">tutorial</a>        	</span>
		        <h1 class="post-title"><a href="/2011/02/07/working-with-data-in-protovis-part-1-of-5/" rel="bookmark">Working with data in protovis &#8211; part 1 of 5</a></h1>
        
    </header>
    		<section class="post-content">
		    <p>When I started using <a href="http://www.protovis.org/">protovis </a>I had only a very basic knowledge of javascript, which in theory isn’t a problem as protovis is meant to be learned by example, and as it has its own logic and structure which is different from typical javascript code. So I started by looking and modifying examples which was enough to do basic stuff.<br />
But I soon felt limited by what hid behind a single property: <strong>data</strong>. I knew that protovis had lots of features to manipulate and process data but they were not obvious from the examples.</p>
<p>I mean,</p>
<table border="0" cellpadding="0" width="640">
<tbody>
<tr>
<td>
<pre class="brush: jscript; title: ; notranslate" title="">var vis = new pv.Panel()
.width(150)
.height(150);

vis.add(pv.Bar)
.data([1, 1.2, 1.7, 1.5, .7, .3])
.width(20)
.height(function(d) d * 80)

vis.render();</pre>
</td>
<td><a href="http://www.jeromecukier.net/wp-content/uploads/2011/01/basic-example1.png"><img class="aligncenter size-full wp-image-433" title="basic example" src="http://www.jeromecukier.net/wp-content/uploads/2011/01/basic-example1.png" alt="" width="150" height="150" /></a></td>
</tr>
</tbody>
</table>
<p>Here, it’s pretty obvious that the bars represent the values 1, 1.2, 1.7, 1.5, 0.7 and 0.3 respectively. One can infer that the sizes of bars are 25 pixels wide and 80 times their value long.</p>
<p>But protovis doesn’t usually look like this “hello world” kind of example, but rather like this:</p>
<pre class="brush: jscript; title: ; notranslate" title="">
/* Compute yield medians by site and by variety. */
function median(data) pv.median(data, function(d) d.yield);
var site = pv.nest(barley).key(function(d) d.site).rollup(median);
var variety = pv.nest(barley).key(function(d) d.variety).rollup(median);
/* Nest yields data by site then year. */
barley = pv.nest(barley)
    .key(function(d) d.site)
    .sortKeys(function(a, b) site[b] - site[a])
    .key(function(d) d.year)
    .sortValues(function(a, b) variety[b.variety] - variety[a.variety])
    .entries();
[. . .]
/* A panel per site-year. */
var cell = vis.add(pv.Panel)
    .data(barley)
    .height(h)
    .top(function() this.index * h)
    .strokeStyle(&quot;#999&quot;);</pre>
<p>What just happened? <a href="http://vis.stanford.edu/protovis/jsdoc/symbols/pv.Nest.html">pv.nest</a>, key, rollup, sortKeys, entries – what could that do?</p>
<p>To go beyond merely touching up examples, and do your own visualizations from scratch, it is important to get a good grip on how to feed protovis with data. In order to do so, you need a few javascript notions.</p>
<h2>Arrays, arrays, how do they work?</h2>
<p>In javascript, an array is an ordered list of stuff.</p>
<p>In our initial example, we had one such list:</p>
<pre class="brush: jscript; light: true; title: ; notranslate" title="">[1, 1.2, 1.7, 1.5, .7, .3]</pre>
<p>Anything can be put in an array: numbers, strings, Booleans (true/false values), objects … including other arrays. All elements of an array don’t have to be of the same type. Arrays can be assigned to a variable.</p>
<pre class="brush: jscript; light: true; title: ; notranslate" title="">var a = [1, 1.2, 1.7, 1.5, .7, .3];</pre>
<p>Elements of the array can be accessed using the [] notation. In javascript, indices start at 0, so the first element of an array can be obtained so:</p>
<pre class="brush: jscript; light: true; title: ; notranslate" title="">a[0];</pre>
<p>This returns 1. Javascript has many functions to create and manipulate arrays, which we will talk about later. For the time being, let’s look at arrays of arrays. If we wrote instead:</p>
<pre class="brush: jscript; light: true; title: ; notranslate" title="">var a = [[1, 1.2], [1.7, 1.5], [.7, .3]];</pre>
<p>a is now an array of arrays, or “multi-dimensional array”.</p>
<p>a[0] is now worth [1, 1.2]. To access the first number of the array, one has to write a[0][0], which will return the first element (1) of the first element ([1, 1.2]) of a.</p>
<p>Javascript also has another type of array called associative arrays, where values are assigned to keys instead of an index. For instance,</p>
<pre class="brush: jscript; light: true; title: ; notranslate" title="">var a = {yield: 27.00000, variety: &quot;Manchuria&quot;, year: 1931, site: &quot;University Farm&quot;};</pre>
<p>is an associative array. To access a value, one can use a . operator:</p>
<pre class="brush: jscript; light: true; title: ; notranslate" title="">a.yield</pre>
<p>will retun 27.</p>
<pre class="brush: jscript; light: true; title: ; notranslate" title="">a[&quot;yield&quot;]</pre>
<p>also works.</p>
<p>Like other variable types, it is possible to have an array of associative arrays. In fact, this is used quite often in protovis.</p>
<h2>Protovis and arrays – deconstructing the first example</h2>
<p>The reason why I introduced javascript arrays is that the data property <span style="text-decoration: underline;">requires an array</span>. Protovis then loops through that array, performing operations on each of its elements. To that end, it uses things such as accessor functions and properties of an object called this.</p>
<p>To explain all of this let’s go back to the first example and analyse it line by line.</p>
<pre class="brush: jscript; title: ; notranslate" title="">var vis = new pv.Panel()
  .width(150)
  .height(150);
vis.add(pv.Bar)
  .data([1, 1.2, 1.7, 1.5, .7, .3])
  .width(20)
  .bottom(0)
  .height(function(d) d * 80)
  .left(function() this.index * 25);
vis.render();</pre>
<p>The first 3 lines create a panel, which is like the sheet of paper on which protovis will draw the chart. Its width and height properties must be filled, as they are 0 by default which would make the whole visualization invisible.</p>
<p>The next line adds a bar chart to this panel we’ve just created.</p>
<p>The line after specifies the data on which to work: here comes our array. Here, we have written the array literally in the data property, but nothing prevents us to assign it to a variable first and to pass the variable instead.</p>
<p>The next line, and the line with the bottom property, assign constant numbers to these properties. It means that all the bars will have a width of 20 pixels, and they will all be aligned with the bottom of the panel – that’s what</p>
<pre class="brush: jscript; first-line: 7; title: ; notranslate" title="">bottom(0)</pre>
<p>does.</p>
<p>Now let’s look at the two remaining lines:</p>
<pre class="brush: jscript; first-line: 8; title: ; notranslate" title="">.height(function(d) d * 80)
.left(function() this.index * 25);</pre>
<p>The first line uses an accessor function. What this does is that it looks at the current element, and perform an operation on it, the result of which will be the height of that element.</p>
<p>In proper javascript, we would have written:</p>
<pre class="brush: jscript; light: true; title: ; notranslate" title="">function(d) {return d*80;}</pre>
<p>but protovis uses a shorthand notation that allows us to omit curly braces and the return statement. By the way, d in the function is completely arbitrary, and could be any variable name –</p>
<pre class="brush: jscript; light: true; title: ; notranslate" title="">function(a) a*80</pre>
<p>also works. It’s just that the name of the variable between parentheses will represent the value of the current element.</p>
<p>The second line uses the this object. this represents what protovis is working on at the moment, and it has properties that can be used. The most commonly used is index: this.index returns the position of the current element in its array, so it is going to be: 0 for the first bar, 1 for the next one, etc.</p>
<p>So this line specifies that each new bar should start every 25 pixels from the left border of the panel.</p>
<p>You may wonder, why not write</p>
<pre class="brush: jscript; light: true; title: ; notranslate" title="">.left(this.index * 25);</pre>
<p>and omit the function()? Well, function() means that the content of the property gets re-evaluated. If we had omitted it, this.index * 25 would have been computed once (for a result of 0) and that value would have been used for all the bars.</p>
<p>By the way, instead of writing the height property as it is, we could have written:</p>
<pre class="brush: jscript; light: true; title: ; notranslate" title="">.height(function()[1, 1.2, 1.7, 1.5, .7, .3][this.index] * 80)</pre>
<p>Using an accessor function is shorter and clearer.</p>
<p>Next: <a href="http://www.jeromecukier.net/?p=479">Multi-dimensional arrays, inheritance and hierarchy</a></p>
		    			<div class="clear">&nbsp;</div>
		</section>
	
	<footer class="post-footer">

	    <section class="author">
	    	<img alt='' src='http://0.gravatar.com/avatar/9bb03f0a91eab52fe022450c323810f2?s=100&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/9bb03f0a91eab52fe022450c323810f2?s=200&amp;d=mm&amp;r=g 2x' class='avatar avatar-100 photo' height='100' width='100' />	        <h4>jerome</h4>
	        <p></p>
			<div class="clear">&nbsp;</div>
	    </section>
	</footer>
</article><!-- #post-## -->

				<nav class="pagination navigation post-navigation" role="navigation">
		<div class="nav-links">
			<div class="older-posts"><a href="/2011/02/07/working-with-data-in-protovis/" rel="prev">Working with data in protovis <span class="meta-nav">&rarr;</span></a></div>				<div class="page-number">&bull;</div>
				<div class="newer-posts"><a href="/2011/02/08/working-with-data-in-protovis-part-2-of-5/" rel="next"><span class="meta-nav">&larr;</span> Working with data in protovis – part 2 of 5</a></div>		</div><!-- .nav-links -->
	</nav><!-- .navigation -->
	
			
<div id="comments" class="comments-area">

	
			<h2 class="comments-title">
			11 thoughts on &ldquo;<span>Working with data in protovis &#8211; part 1 of 5</span>&rdquo;		</h2>

		
		<ol class="comment-list">
					<li id="comment-75" class="pingback even thread-even depth-1">
			<div class="comment-body">
				Pingback: <a href='http://topsy.com/trackback?url=http%3A%2F%2Fwww.jeromecukier.net%2F%3Fp%3D429&#038;utm_source=pingback&#038;utm_campaign=L2' rel='external nofollow' class='url'>Tweets that mention Jerome Cukier » Working with data in protovis – part 1 of 5 -- Topsy.com</a> 			</div>
</li><!-- #comment-## -->
		<li id="comment-76" class="comment odd alt thread-odd thread-alt depth-1 parent">
			<article id="div-comment-76" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='http://2.gravatar.com/avatar/8200dd3a4feceece7516f90db0f251ec?s=32&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/8200dd3a4feceece7516f90db0f251ec?s=64&amp;d=mm&amp;r=g 2x' class='avatar avatar-32 photo' height='32' width='32' />						<b class="fn"><a href='http://www.janwillemtulp.com/' rel='external nofollow' class='url'>Jan Willem Tulp</a></b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="/2011/02/07/working-with-data-in-protovis-part-1-of-5/#comment-76">
							<time datetime="2011-02-08T01:06:59+00:00">
								February 8, 2011 at 1:06 am							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Hi Jerome,</p>
<p>just one short remark: you mention that protovis uses a shorthand notation that allows us to omit curly braces and the return statement. </p>
<p>In fact, this is not a protovis shorthand, but a feature of Javascript 1.8, called expression closures. See this link for more info: <a href="https://developer.mozilla.org/en/new_in_javascript_1.8" rel="nofollow">https://developer.mozilla.org/en/new_in_javascript_1.8</a> (or just Google: javascript expression closures).</p>
<p>Perhaps, but I am not sure of that, protovis has some hack available so that this also works with Javascript 1.7, but I am not sure about that&#8230;</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/2011/02/07/working-with-data-in-protovis-part-1-of-5/?replytocom=76#respond' onclick='return addComment.moveForm( "div-comment-76", "76", "respond", "429" )' aria-label='Reply to Jan Willem Tulp'>Reply</a></div>			</article><!-- .comment-body -->
<ol class="children">
		<li id="comment-77" class="comment byuser comment-author-jerome bypostauthor even depth-2">
			<article id="div-comment-77" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='http://0.gravatar.com/avatar/9bb03f0a91eab52fe022450c323810f2?s=32&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/9bb03f0a91eab52fe022450c323810f2?s=64&amp;d=mm&amp;r=g 2x' class='avatar avatar-32 photo' height='32' width='32' />						<b class="fn"><a href='http://www.jeromecukier.net/' rel='external nofollow' class='url'>jerome</a></b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="/2011/02/07/working-with-data-in-protovis-part-1-of-5/#comment-77">
							<time datetime="2011-02-08T01:10:51+00:00">
								February 8, 2011 at 1:10 am							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>thanks for the precision, that must explain why I never found an allusion to &#8220;protovis shorthand&#8221; 🙂<br />
I&#8217;m mostly using protovis with chrome which has javascript 1.5, so protovis must implement this as you say</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/2011/02/07/working-with-data-in-protovis-part-1-of-5/?replytocom=77#respond' onclick='return addComment.moveForm( "div-comment-77", "77", "respond", "429" )' aria-label='Reply to jerome'>Reply</a></div>			</article><!-- .comment-body -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li id="comment-78" class="pingback odd alt thread-even depth-1">
			<div class="comment-body">
				Pingback: <a href='http://www.jeromecukier.net/?p=479' rel='external nofollow' class='url'>Jerome Cukier &raquo; Working with data in protovis – part 2 of 5</a> 			</div>
</li><!-- #comment-## -->
		<li id="comment-79" class="pingback even thread-odd thread-alt depth-1">
			<div class="comment-body">
				Pingback: <a href='http://www.jeromecukier.net/?p=426' rel='external nofollow' class='url'>Jerome Cukier &raquo; Working with data in protovis</a> 			</div>
</li><!-- #comment-## -->
		<li id="comment-80" class="pingback odd alt thread-even depth-1">
			<div class="comment-body">
				Pingback: <a href='http://datavisualization.ch/tools/working-with-data-in-protovis' rel='external nofollow' class='url'>Working with Data in Protovis on Datavisualization.ch</a> 			</div>
</li><!-- #comment-## -->
		<li id="comment-81" class="comment even thread-odd thread-alt depth-1 parent">
			<article id="div-comment-81" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='http://2.gravatar.com/avatar/8402a10edfa56c2d9af954f8f37e92e4?s=32&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/8402a10edfa56c2d9af954f8f37e92e4?s=64&amp;d=mm&amp;r=g 2x' class='avatar avatar-32 photo' height='32' width='32' />						<b class="fn">Sean</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="/2011/02/07/working-with-data-in-protovis-part-1-of-5/#comment-81">
							<time datetime="2011-03-08T23:01:29+00:00">
								March 8, 2011 at 11:01 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Amazing tutorial!!!!</p>
<p>I would highly recommend to not use the &#8220;syntactic sugar&#8221; supplied by protovis and advise people to rewrite everything that looks like (function(d) d * 80) as plain JavaScript code (function(d) {return d*80;}).  This way, the  tag type can equal &#8220;text/javascript&#8221; instead of &#8220;text/javascript+protovis&#8221; and various debuggers will highlight the error in the user&#8217;s source file and NOT the protovis library &#8230; this makes debugging much less frustrating.</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/2011/02/07/working-with-data-in-protovis-part-1-of-5/?replytocom=81#respond' onclick='return addComment.moveForm( "div-comment-81", "81", "respond", "429" )' aria-label='Reply to Sean'>Reply</a></div>			</article><!-- .comment-body -->
<ol class="children">
		<li id="comment-82" class="comment byuser comment-author-jerome bypostauthor odd alt depth-2">
			<article id="div-comment-82" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='http://0.gravatar.com/avatar/9bb03f0a91eab52fe022450c323810f2?s=32&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/9bb03f0a91eab52fe022450c323810f2?s=64&amp;d=mm&amp;r=g 2x' class='avatar avatar-32 photo' height='32' width='32' />						<b class="fn"><a href='http://www.jeromecukier.net/' rel='external nofollow' class='url'>jerome</a></b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="/2011/02/07/working-with-data-in-protovis-part-1-of-5/#comment-82">
							<time datetime="2011-03-08T23:59:59+00:00">
								March 8, 2011 at 11:59 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>thanks &#8211; Yes, for these same reasons I try to use it as little as possible, but it&#8217;s good to know it&#8217;s there, especially when reading someone else&#8217;s code 🙂</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/2011/02/07/working-with-data-in-protovis-part-1-of-5/?replytocom=82#respond' onclick='return addComment.moveForm( "div-comment-82", "82", "respond", "429" )' aria-label='Reply to jerome'>Reply</a></div>			</article><!-- .comment-body -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li id="comment-83" class="comment even thread-even depth-1">
			<article id="div-comment-83" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='http://2.gravatar.com/avatar/554f8cd8ac66c1d1d93453c71a4910a1?s=32&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/554f8cd8ac66c1d1d93453c71a4910a1?s=64&amp;d=mm&amp;r=g 2x' class='avatar avatar-32 photo' height='32' width='32' />						<b class="fn">phuerter</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="/2011/02/07/working-with-data-in-protovis-part-1-of-5/#comment-83">
							<time datetime="2011-06-01T17:55:12+00:00">
								June 1, 2011 at 5:55 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Is this the only difference between &#8220;text/javascript&#8221; and &#8220;text/javascript+protovis&#8221;.  So does that mean that it is possible to use the Protovis library with code that is pure java script?<br />
Thanks for the great tutorials.<br />
Pete.</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/2011/02/07/working-with-data-in-protovis-part-1-of-5/?replytocom=83#respond' onclick='return addComment.moveForm( "div-comment-83", "83", "respond", "429" )' aria-label='Reply to phuerter'>Reply</a></div>			</article><!-- .comment-body -->
</li><!-- #comment-## -->
		<li id="comment-84" class="comment byuser comment-author-jerome bypostauthor odd alt thread-odd thread-alt depth-1">
			<article id="div-comment-84" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='http://0.gravatar.com/avatar/9bb03f0a91eab52fe022450c323810f2?s=32&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/9bb03f0a91eab52fe022450c323810f2?s=64&amp;d=mm&amp;r=g 2x' class='avatar avatar-32 photo' height='32' width='32' />						<b class="fn"><a href='http://www.jeromecukier.net/' rel='external nofollow' class='url'>jerome</a></b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="/2011/02/07/working-with-data-in-protovis-part-1-of-5/#comment-84">
							<time datetime="2011-06-01T18:01:27+00:00">
								June 1, 2011 at 6:01 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>afaik, using text/javascript+protovis instead of text/javascript allows you to omit semi-colons or curly braces + return statements in functions. </p>
<p>but standard code written with semi-colons, return statements etc. will work fine within the text/javascript+protovis type.</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/2011/02/07/working-with-data-in-protovis-part-1-of-5/?replytocom=84#respond' onclick='return addComment.moveForm( "div-comment-84", "84", "respond", "429" )' aria-label='Reply to jerome'>Reply</a></div>			</article><!-- .comment-body -->
</li><!-- #comment-## -->
		<li id="comment-85" class="pingback even thread-even depth-1">
			<div class="comment-body">
				Pingback: <a href='http://evabidm.fi/liferay/web/developer/blog/-/blogs/google-maps-ja-protovis-kartta-cde:ssa' rel='external nofollow' class='url'>Google Maps ja Protovis kartta CDE:ssä - Blogi - evabidm.fi</a> 			</div>
</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		
	
	
					<div id="respond" class="comment-respond">
			<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/2011/02/07/working-with-data-in-protovis-part-1-of-5/#respond" style="display:none;">Cancel reply</a></small></h3>				<form action="/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate>
					<p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span></p><p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" aria-required="true" required="required"></textarea></p><p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" aria-required='true' required='required' /></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" aria-describedby="email-notes" aria-required='true' required='required' /></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200" /></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment" /> <input type='hidden' name='comment_post_ID' value='429' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="e6b113fd54" /></p><p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="144"/></p>				</form>
					</div><!-- #respond -->
		
</div><!-- #comments -->

		

	<div id="secondary" class="widget-area" role="complementary">
		<aside id="search-2" class="widget widget_search"><form role="search" method="get" class="search-form" action="/">
				<label>
					<span class="screen-reader-text">Search for:</span>
					<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s" />
				</label>
				<input type="submit" class="search-submit" value="Search" />
			</form></aside>		<aside id="recent-posts-2" class="widget widget_recent_entries">		<h1 class="widget-title">Recent Posts</h1>		<ul>
					<li>
				<a href="/2016/08/17/the-big-leagues/">The big leagues</a>
						</li>
					<li>
				<a href="/2016/08/17/creating-a-react-visualization-web-app/">Creating a React visualization web app</a>
						</li>
					<li>
				<a href="/2016/08/13/beyond-rendering/">Beyond rendering</a>
						</li>
					<li>
				<a href="/2016/08/11/react-components/">React components</a>
						</li>
					<li>
				<a href="/2016/08/10/coding-with-react/">Coding with React</a>
						</li>
				</ul>
		</aside>		<aside id="recent-comments-2" class="widget widget_recent_comments"><h1 class="widget-title">Recent Comments</h1><ul id="recentcomments"><li class="recentcomments"><span class="comment-author-link"><a href='http://omeraz.wordpress.com/' rel='external nofollow' class='url'>עומר עזריאל</a></span> on <a href="/2016/08/17/the-big-leagues/#comment-567">The big leagues</a></li><li class="recentcomments"><span class="comment-author-link">Carlos Ayres</span> on <a href="/2012/05/28/manipulating-data-like-a-boss-with-d3/#comment-312">Manipulating data like a boss with d3</a></li><li class="recentcomments"><span class="comment-author-link"><a href='https://migrate.powertripanalytics.com/game-of-thrones-interactions-among-the-top-30-characters/' rel='external nofollow' class='url'>Game of ThronesInteractions Among the Top 30 Characters &#8211; PowerTrip Analytics</a></span> on <a href="/2013/05/13/making-the-game-of-thrones-visualization/#comment-466">Making the game of thrones visualization</a></li><li class="recentcomments"><span class="comment-author-link"><a href='https://abgoswam.wordpress.com/2016/10/08/d3-getting-started/' rel='external nofollow' class='url'>D3 &#8211; Getting Started | abgoswam&#039;s tech blog</a></span> on <a href="/2012/09/04/getting-to-hello-world-with-d3/#comment-419">Getting to &#8220;Hello world&#8221; with d3</a></li><li class="recentcomments"><span class="comment-author-link"><a href='https://plus.google.com/+BrotoBhattacharjee' rel='external nofollow' class='url'>Broto Bhattacharjee</a></span> on <a href="/2012/09/04/getting-to-hello-world-with-d3/#comment-418">Getting to &#8220;Hello world&#8221; with d3</a></li></ul></aside><aside id="archives-2" class="widget widget_archive"><h1 class="widget-title">Archives</h1>		<ul>
			<li><a href='/2016/08/'>August 2016</a></li>
	<li><a href='/2015/05/'>May 2015</a></li>
	<li><a href='/2015/02/'>February 2015</a></li>
	<li><a href='/2014/10/'>October 2014</a></li>
	<li><a href='/2013/11/'>November 2013</a></li>
	<li><a href='/2013/05/'>May 2013</a></li>
	<li><a href='/2013/03/'>March 2013</a></li>
	<li><a href='/2013/01/'>January 2013</a></li>
	<li><a href='/2012/12/'>December 2012</a></li>
	<li><a href='/2012/11/'>November 2012</a></li>
	<li><a href='/2012/10/'>October 2012</a></li>
	<li><a href='/2012/09/'>September 2012</a></li>
	<li><a href='/2012/07/'>July 2012</a></li>
	<li><a href='/2012/06/'>June 2012</a></li>
	<li><a href='/2012/05/'>May 2012</a></li>
	<li><a href='/2012/04/'>April 2012</a></li>
	<li><a href='/2012/01/'>January 2012</a></li>
	<li><a href='/2011/11/'>November 2011</a></li>
	<li><a href='/2011/10/'>October 2011</a></li>
	<li><a href='/2011/09/'>September 2011</a></li>
	<li><a href='/2011/08/'>August 2011</a></li>
	<li><a href='/2011/07/'>July 2011</a></li>
	<li><a href='/2011/06/'>June 2011</a></li>
	<li><a href='/2011/05/'>May 2011</a></li>
	<li><a href='/2011/04/'>April 2011</a></li>
	<li><a href='/2011/03/'>March 2011</a></li>
	<li><a href='/2011/02/'>February 2011</a></li>
	<li><a href='/2011/01/'>January 2011</a></li>
	<li><a href='/2010/11/'>November 2010</a></li>
	<li><a href='/2010/04/'>April 2010</a></li>
	<li><a href='/2010/03/'>March 2010</a></li>
	<li><a href='/2010/02/'>February 2010</a></li>
	<li><a href='/2010/01/'>January 2010</a></li>
	<li><a href='/2009/12/'>December 2009</a></li>
	<li><a href='/2009/10/'>October 2009</a></li>
	<li><a href='/2009/09/'>September 2009</a></li>
	<li><a href='/2009/08/'>August 2009</a></li>
	<li><a href='/2009/07/'>July 2009</a></li>
	<li><a href='/2009/06/'>June 2009</a></li>
	<li><a href='/2009/05/'>May 2009</a></li>
	<li><a href='/2008/12/'>December 2008</a></li>
	<li><a href='/2008/11/'>November 2008</a></li>
	<li><a href='/2008/10/'>October 2008</a></li>
		</ul>
		</aside><aside id="categories-2" class="widget widget_categories"><h1 class="widget-title">Categories</h1>		<ul>
	<li class="cat-item cat-item-2"><a href="/category/book-review/" >book review</a>
</li>
	<li class="cat-item cat-item-3"><a href="/category/charts/" >charts</a>
</li>
	<li class="cat-item cat-item-4"><a href="/category/conferences/" >conferences</a>
</li>
	<li class="cat-item cat-item-5"><a href="/category/d3/" >d3</a>
</li>
	<li class="cat-item cat-item-6"><a href="/category/dashboards/" >dashboards</a>
</li>
	<li class="cat-item cat-item-7"><a href="/category/data-publishing/" >data publishing</a>
</li>
	<li class="cat-item cat-item-8"><a href="/category/data-visualization/" >data visualization</a>
</li>
	<li class="cat-item cat-item-9"><a href="/category/francais/" >français</a>
</li>
	<li class="cat-item cat-item-10"><a href="/category/javascript/" >javascript</a>
</li>
	<li class="cat-item cat-item-11"><a href="/category/presentation/" >presentation</a>
</li>
	<li class="cat-item cat-item-12"><a href="/category/protovis/" >protovis</a>
</li>
	<li class="cat-item cat-item-13"><a href="/category/react/" >react</a>
</li>
	<li class="cat-item cat-item-14"><a href="/category/tips/" >tips</a>
</li>
	<li class="cat-item cat-item-1"><a href="/category/uncategorized/" >Uncategorized</a>
</li>
	<li class="cat-item cat-item-15"><a href="/category/web-sites/" >web sites</a>
</li>
		</ul>
</aside><aside id="meta-2" class="widget widget_meta"><h1 class="widget-title">Meta</h1>			<ul>
						<li><a href="/wp-login.php">Log in</a></li>
			<li><a href="/feed/">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="/comments/feed/">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="https://wordpress.org/" title="Powered by WordPress, state-of-the-art semantic personal publishing platform.">WordPress.org</a></li>			</ul>
			</aside>		<div class="clear">&nbsp;</div>
	</div><!-- #secondary -->
	<footer id="colophon" class="site-footer" role="contentinfo">
	    <a class="subscribe icon-feed" href="/feed/"><span class="tooltip">Subscribe!</span></a>
		<div class="site-info inner">
		    <section class="copyright">
		    			    		<a href="https://github.com/lacymorrow/casper" rel="home">Casper WP</a> by Lacy Morrow		    			    </section>
		</div><!-- .site-info -->
	</footer><!-- #colophon -->
</main><!-- /#content -->

<script type='text/javascript' src='/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.9b'></script>
<script type='text/javascript' src='/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.9b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://localhost:8888/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://localhost:8888/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();
</script>
<script type='text/javascript' src='/wp-content/themes/casper/js/main.js?ver=1.0.0'></script>
<script type='text/javascript' src='/wp-includes/js/comment-reply.min.js?ver=4.6.10'></script>
<script type='text/javascript' src='/wp-includes/js/wp-embed.min.js?ver=4.6.10'></script>
<script async="async" type='text/javascript' src='/wp-content/plugins/akismet/_inc/form.js?ver=4.0.3'></script>
<!--stats_footer_test--></body>
</html>
