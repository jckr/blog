<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="HandheldFriendly" content="True" />
<meta name="MobileOptimized" content="320" />

<title>jeromecukier.net | Just another WordPress site | Page 2</title>

<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="/xmlrpc.php">
<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="jeromecukier.net &raquo; Feed" href="/feed/" />
<link rel="alternate" type="application/rss+xml" title="jeromecukier.net &raquo; Comments Feed" href="/comments/feed/" />
<!-- This site uses the Google Analytics by MonsterInsights plugin v7.0.5 - Using Analytics tracking - https://www.monsterinsights.com/ -->
<!-- Note: MonsterInsights is not currently configured on this site. The site owner needs to authenticate with Google Analytics in the MonsterInsights settings panel. -->
<!-- No UA code set -->
<!-- / Google Analytics by MonsterInsights -->
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/localhost:8888\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.6.10"}};
			!function(a,b,c){function d(a){var c,d,e,f,g,h=b.createElement("canvas"),i=h.getContext&&h.getContext("2d"),j=String.fromCharCode;if(!i||!i.fillText)return!1;switch(i.textBaseline="top",i.font="600 32px Arial",a){case"flag":return i.fillText(j(55356,56806,55356,56826),0,0),!(h.toDataURL().length<3e3)&&(i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,65039,8205,55356,57096),0,0),c=h.toDataURL(),i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,55356,57096),0,0),d=h.toDataURL(),c!==d);case"diversity":return i.fillText(j(55356,57221),0,0),e=i.getImageData(16,16,1,1).data,f=e[0]+","+e[1]+","+e[2]+","+e[3],i.fillText(j(55356,57221,55356,57343),0,0),e=i.getImageData(16,16,1,1).data,g=e[0]+","+e[1]+","+e[2]+","+e[3],f!==g;case"simple":return i.fillText(j(55357,56835),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode8":return i.fillText(j(55356,57135),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode9":return i.fillText(j(55358,56631),0,0),0!==i.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity","unicode9"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='YoutubeShortcodeMargenn-css'  href='/wp-content/plugins/youtube-shortcode/youtube-shortcode.css?ver=4.6.10' type='text/css' media='all' />
<link rel='stylesheet' id='casper-google-fonts-css'  href='//fonts.googleapis.com/css?family=Noto+Serif%3A400%2C700%2C400italic%7COpen+Sans%3A700%2C400&#038;ver=4.6.10' type='text/css' media='all' />
<link rel='stylesheet' id='casper-style-css'  href='/wp-content/themes/casper/style.css?ver=4.6.10' type='text/css' media='all' />
<script type='text/javascript' src='/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<link rel='https://api.w.org/' href='/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.6.10" />
<link rel='shortlink' href='http://wp.me/' />

   	<style type="text/css">
					.blog-title a, .blog-description, .social-icons a { color: #ffffff; }
		
						                
		
							.main-navigation a { color: ; }
		                                            </style>
    		<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
		<style type="text/css" id="syntaxhighlighteranchor"></style>
</head>

<body class="home blog paged paged-2 group-blog">

<header id="masthead" role="banner" class="site-head site-header" >
    <nav id="site-navigation" class="main-navigation" role="navigation">
        <div>
            <h1 class="menu-toggle">
                <a class="icon-bars" href="#">
                    <span class="hidden">Menu</span>
                </a>
            </h1>
            <a class="skip-link screen-reader-text" href="#content">Skip to content</a>
            <div class="menu"><ul><li ><a href="/">Home</a></li><li class="page_item page-item-6"><a href="/about/">About</a></li><li class="page_item page-item-1073"><a href="/data-stories/">Data with stories workshop &#8211; examples</a></li><li class="page_item page-item-437"><a href="/proofs-of-concept/">Private section</a></li><li class="page_item page-item-2"><a href="/sample-page/">Sample Page</a></li></ul></div>
        </div>
    </nav><!-- #site-navigation -->

    <div class="vertical-row">
        <div class="vertical">
            <div class="site-head-content inner">
                
                <div class="social-icons">
                                                                                                                                                                                                                                                                                                                                                                                                                                                    </div>
                <h1 class="blog-title"><a class="blog-logo" href='/' rel='home'>jeromecukier.net</a></h1>
                <h2 class="blog-description">Just another WordPress site</h2>
            </div>
        </div>
    </div>
</header><!-- #masthead -->

<main id="content" class="content" role="main">


		
						
				
<article id="post-1661" class="post-1661 post type-post status-publish format-standard hentry category-d3 category-tips">
		    <header class="post-header">
        			<span class="post-meta">
				<span class="posted-on"><a href="/2015/05/05/blending-mode-and-svg/" rel="bookmark"><time class="entry-date published" datetime="2015-05-05T23:56:46+00:00">May 5, 2015</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="/author/jerome/">jerome</a></span></span> on <a href="/category/d3/" rel="category tag">d3</a>, <a href="/category/tips/" rel="category tag">tips</a>			</span>
		        <h1 class="post-title"><a href="/2015/05/05/blending-mode-and-svg/" rel="bookmark">Blending mode and SVG</a></h1>
         
    </header>
	<section class="post-content">

		<p>One great thing about canvas is that it&#8217;s super easy to change the compositing mode. And sure, you can do all sorts of fancy things with that, but my basic usage of that is to control how opacity is handled. By default, in svg, if you add one element which is not fully opaque on top of another, the top element makes the bottom element darker.Â By contrast, in canvas you can have access toÂ globalCompositeOperation that let you change how new elements drawn on top of an existing image are handled, or in processing, you have blendMode, etc.</p>
<p>In SVG, there are a variety of operations accessible through filters: seeÂ <a href="http://apike.ca/prog_svg_filters.html">http://apike.ca/prog_svg_filters.html</a> for an excellent overview. I must admit that I find filters a bit intimidating to set up and need to always go back to a reference to achieve anything.</p>
<p>I was reading this article this morning on CSS graphical effectsÂ <a href="http://blogs.adobe.com/dreamweaver/2015/04/an-introduction-to-graphical-effects-in-css.html">http://blogs.adobe.com/dreamweaver/2015/04/an-introduction-to-graphical-effects-in-css.html</a>Â thinking, wouldn&#8217;t that be nice if we could do control compositingÂ in SVG.</p>
<p>It turns out that we can! By manipulating the &#8220;mix-blend-mode&#8221; style attribute of any graphical element, we can achieve one of 16 blending modes (which is actually more than canvas or processing!)<br />
Here&#8217;s a demo that shows what can be done. This is an adaptation of <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/background-blend-mode">this</a>Â example.</p>
<p>So, through the use of the right blending mode, opacity can be used to make the resulting image lighter (among many other things).</p>
<p><iframe src="http://www.jeromecukier.net/stuff/blendmode/blendmode.html" width="600" height="750" frameborder="0" marginwidth="0" marginheight="0" scrolling="no"></iframe></p>
	    		<div class="clear">&nbsp;</div>
	</section>
</article><!-- #post-## -->
			
				
<article id="post-1646" class="post-1646 post type-post status-publish format-standard hentry category-uncategorized">
		    <header class="post-header">
        			<span class="post-meta">
				<span class="posted-on"><a href="/2015/02/18/making-my-2015-new-year-cards/" rel="bookmark"><time class="entry-date published" datetime="2015-02-18T04:11:57+00:00">February 18, 2015</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="/author/jerome/">jerome</a></span></span> on <a href="/category/uncategorized/" rel="category tag">Uncategorized</a>			</span>
		        <h1 class="post-title"><a href="/2015/02/18/making-my-2015-new-year-cards/" rel="bookmark">Making my 2015 new year cards</a></h1>
         
    </header>
	<section class="post-content">

		<h2>Getting the data</h2>
<p>For this year&#8217;s greeting cards I had decided to take a radical turn from my previous 2 greeting cards projects which were entirely based on data from interaction with whomever was getting the card and just focus on creating something closer to generative art. I decided to use people&#8217;s names as the basis of the shape I would use. The other departure I took from my previous project is that I wanted to send physical cards. I also like the idea of the cards being a surprise, so I didn&#8217;t want to tell people &#8220;hey, I&#8217;m going to generate a card from your name. Can you give me your address?&#8221; Instead, I set up a google form and asked people several questions.</p>
<p>What is their name (obviously)? What is their address? How long have they lived here? What is their home town? Where were they born? What is their birthday? and finally, I gave them the chance to write whatever they want.</p>
<p>While I always thought I would only use name + address to create the cards, I also wanted to make a visualization on the ensemble of people who would fill my form, and among other things I thought of a map of where my friends are versus where they are from.</p>
<p>I sent about 300 messages asking people to fill the form, and got about 100 replies. The form was also a way to commit to do that project&#8230; Because I proposed to so many people to get a card, there was no way I could back off afterwards ðŸ™‚ whereas if I had just created something online and sent it via mail, I could have definitely stopped mid-way.</p>
<h2>LayerÂ as tiles</h2>
<p>I was pretty much set on creating cards as a layer of tiles from the get go. Each word in a person&#8217;s name could be a layer, and each letter could be an attribute. Attributes could change things like patterns, colors, size, orientation, all kind of things! Eventually I decided to use the 5 first letters of people&#8217;s names, and only use 2 layers, even if the person&#8217;s first name (or last name) is composed of two or more words.</p>
<p>When designing patterns, I wanted something that could tile on a card. Squares, while not the only possibility, were the easiest. So I started to come up with many patterns that could be placed on squares and that would tile (ie the right of one pattern would connect with its left end, and the top to its bottom). I decided (arbitrarily) that both the height and width would scale together, as opposed to vary independently (turning the squares into rectangles). Also, I wanted two colors per layer, but one would be more prominently used than the other. Finally, I allowed the layers to be rotated as opposed to be necessarily strictly parallel to the borders of the card.</p>
<p>Since words are made of letters, I went for simplicity. There would be 5 attributes (pattern, main color, secondary color, scale and orientation), and for each one, each of the 26 possible lettersÂ corresponded to one value. And while there were &#8220;only&#8221; 26 possible patterns, I experimented much much more &#8211; possibly 100 or so.</p>
<h2>Letters as patterns</h2>
<p>My patterns fell in several categories. There were very simple geometric shapes (A, G, I, O, R). Some were hand-drawn (L and S). Some were more sophisticated geometric shapes (B, D, E, F, H, J, K, M, P, V, W, Y). Finally, some were inspired by islamic art (C, N, Z).</p>
<p><img class="aligncenter" src="http://www.jeromecukier.net/projects/cards2015/patterns.png" alt="" width="950" height="325" /></p>
<p>Finally, there are some letters I didn&#8217;t assign patterns to, because there was just no name starting with those letters in my dataset ðŸ™‚ (Q, U and X).</p>
<p>In my explorations / experimentations one thing I kept in mind was the weightÂ of the pattern. The M, or the O, for instance, are really light. But the K or the F are heavier. I tend to attribute the lighter patterns to letters that started first names, while giving the heavier patterns to letters that mostly started last names (and were in the back).</p>
<p>Pinterest was a great source of inspiration for <a href="https://www.pinterest.com/jcukier/datavis-patterns/">patterns</a>. At some point in the process I really wanted to use islamic patterns. I have a couple of books on the subject and I always really liked their look and feel, their &#8220;tileliness&#8221; and also that they are built with ruler and compass. Many of these patterns, even if very intricate, can easily be reproduced with computers (ie, drawing an hexagon requires using a compass 7 times, but with a computer all you need to do is compute the cosine and sine of 6 points and link them). And I thought there was beauty in the process of building them. So I created an &#8216;islamic pattern builder&#8221; as a side project &#8211; which will get its own blog post.</p>
<p>Here is a <a href="http://jeromecukier.net/projects/cards2015/make-cards.html">slightly modified card maker</a>Â compared to the one I used (it only exports a card in 600&#215;1080 as opposed to 1875 x 3375)</p>
<h2>Wrapping it up</h2>
<p>Eventually I put together the cards. Minor setback &#8211; I don&#8217;t have a color printer at home, so I would have to have the cards printed. Since I had to use a vendor anyway, I thought I might as well look for someone who could also send them, and that&#8217;s how I ended up choosing <a href="http://lob.com/">lob.com</a>. Lob.com allowed me to send 6&#215;11&#8243; cards which seemed cool (although, to be honest, I didn&#8217;t have a good sense of how big that was) and took as input 300 dpi png bitmaps. So I had to create 3375 x 1875 images, that&#8217;s up toÂ 10 Mb per card! I initially hesitated between creating my cards with d3 and processing and chose d3 because it was easier for me to manipulate shapes using svg. I soon regretted that decision because exporting large bitmaps is not easy from the browser. Chrome won&#8217;t let you do that &#8211; exporting a png over a certain size (I think 2.56mb) will crash it. So my way around it was to export it as webp, chrome&#8217;s preferred compression format (which was with one exceptionÂ always below its threshold) and then, convert them to png. Then, weÂ ran into some unexpected issues and delays ðŸ™‚ but eventually all the cards were sent and people are telling me that they are getting them ðŸ™‚</p>
<h2>Making the ensemble visualization</h2>
<p>I always intended to show things about all the cards. But I also wanted to keep all the information that had been shared with me private. I made the front side of the cards public in aÂ <a href="https://www.pinterest.com/jcukier/new-years-cards-2015/">pinterest board</a>Â but itÂ would be reallyÂ difficult to reverse engineer them to come up with a name. I made a map, by geocoding all the information I was given, but I also clustered all of the addresses and rounded all geocoding, so it&#8217;s not possible to go from one of the pixels of the map (or the data file) to an actual address.</p>
<p>I also contributed the visualization I had made to show the distribution of names and initials.</p>
<p>I was conflicted about whether using what people shared with me in the free text section of my form. On one hand, I wanted to find a way to show it, but on the other, showing even fractions of a phrase would challenge the confidentiality of what was written. But still, I wanted to restitute what I was given. Some of the text that was sent to me was really awesome. So I opted for a word cloud kind of setting. This is the first time since word clouds have gained mainstream acceptance that I used one ðŸ™‚ I thought it was appropriate &#8211; I&#8217;d show only words, not phrases. Also the aesthetics was interesting &#8211; with only 2 angles (0 or 30 degrees) and a cool set of colors. I&#8217;m using Jason Davies wordcloud generator for d3.</p>
<p>And there you have it &#8211; here&#8217;s theÂ <a href="http://jeromecukier.net/projects/cards2015/index.html">final visualization</a>.</p>
	    		<div class="clear">&nbsp;</div>
	</section>
</article><!-- #post-## -->
			
				
<article id="post-1628" class="post-1628 post type-post status-publish format-standard hentry category-charts category-dashboards category-data-visualization category-tips">
		    <header class="post-header">
        			<span class="post-meta">
				<span class="posted-on"><a href="/2015/02/07/charts-assemble/" rel="bookmark"><time class="entry-date published" datetime="2015-02-07T03:00:57+00:00">February 7, 2015</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="/author/jerome/">jerome</a></span></span> on <a href="/category/charts/" rel="category tag">charts</a>, <a href="/category/dashboards/" rel="category tag">dashboards</a>, <a href="/category/data-visualization/" rel="category tag">data visualization</a>, <a href="/category/tips/" rel="category tag">tips</a>			</span>
		        <h1 class="post-title"><a href="/2015/02/07/charts-assemble/" rel="bookmark">Charts, assemble!</a></h1>
         
    </header>
	<section class="post-content">

		<p><a href="http://wp.me/po630-qe">From the past posts</a>, you would have gathered that dashboards are tools to solve specific problems. They are also formed from individual charts and data elements.</p>
<h2>SelectingÂ information</h2>
<p>That dashboards are so specific is great, because the problem that they are designed to solve will help choosingÂ the information that we need and also prioritizing it &#8211; two essential tasks in dashboard creation. Again, we don&#8217;t want to shove every data point we have.</p>
<p>Another great tool to help us do those two tasks is user research. As a designer, we may think we chose the right metrics, but they have to make sense to real users and resonate with them. The bias that we may have is that we would favor data which is easy to obtain or that makes sense to us, compared to data which can be more elaborate, more sophisticated or more expensive to collect or compute, even if that makes more sense to the user.</p>
<p>Here&#8217;s an illustration of that.</p>
<p>When I was working at Facebook on this product, Audience Insights, we designed <a href="https://www.facebook.com/ads/audience_insights/activity?age=18-&amp;country=US&amp;interests=6003349754405">this page</a> to help marketers understand how a group of users they could be interested in used Facebook. (The link / screenshot showcases fans of the Golden State Warriors). One of the main ways we classified users at Facebook, for internal purposes, is by counting how many days of the last four weeks they have been on Facebook. It&#8217;s a metricÂ called L28 and one of the high-level things Facebook knows about everyone.Â So, we integrated it in the first version of this page. But, even though it&#8217;s not a concept unique to Facebook, it wasn&#8217;t that useful to our users, and it was taking space from a more relevant indicator.</p>
<p><img class="alignnone" src="http://jeromecukier.net/projects/dashboards/AI activity.png" alt="" width="800" height="625" /></p>
<p>Instead, we have included indicators which are more relevant to the task at hand (ie getting a sense of who those users are through the prism of their activity). For instance we can see that very few Warriors fans only use Facebook on their computer, compared to the general population of US Facebook users. They tend to skew more towards Android and mobile web (going to www.facebook.com from their phone, versus using an app.) They tend to be more active in terms of likes, comments and shares.</p>
<h2>Information hierarchy</h2>
<p>Once information is chosen and you get a sense of what is more important than the rest, it&#8217;s time to represent that visually.</p>
<p>Here are some of the choices you can make.</p>
<p><em>Show some metrics <strong>on topÂ </strong>or <strong>bigger than others</strong>.Â </em></p>
<p>That&#8217;s probably the first thing that comes to mind when thinking hierarchy and prioritization. And it needs to be done! Typically, you should get one to three variables that really represent the most important thing you want your users to read or remember. If you come up with more than 3, you should refine your question/task and possibly split it in two.</p>
<p>The rest of the variables will support these very high level metrics. Again, in a typical situation, you could come up with up to three levels of data (with more than three being a good indication to rethink your scope). Some metrics can support the high-level metrics (i.e. show them with a different angle, or explain them) and some metrics could in turn support them.</p>
<p><em>Present some metrics <strong>together</strong>.Â </em></p>
<p>Stephen Few argues that dashboards should fit on one page or one screen because their virtue is to present information together. With the flexibility offered by the modern web, and the size constraints of mobile, this is a requirement that shouldn&#8217;t be absolute. But it&#8217;s relevant to remember that some variables add value when seen along other variables. With that in mind, you can have part of your dashboard as a fixed element (always visible on screen) while the rest can scroll away, for instance.</p>
<p><em>Push some metrics to <strong>secondary cardsÂ </strong>(such mouseovers, pop-ups or drill-down views)</em></p>
<p>Hierarchizing information is not just about promoting important information. It&#8217;s also about demoting information which, while is useful in its own right, doesn&#8217;t deserve to steal the show from the higher level metric. The great thing about interactive dashboards is that there are many mechanisms for that. Some information can be kept as &#8220;details on demand&#8221; and only shown when needed.</p>
<p><em>Figure out what <strong>form</strong> to give to the data</em></p>
<p>So you have data. It probably changes over time, too (and you have that history as well!).Â And a sense of how important it is.</p>
<p>You can represent it as a static number (and, further, to adjust the precision of that number) or as a time series (i.e. line graph, area graph, bar graph etc.), or both.</p>
<p>The key question to answer is whether the history and how the metric moved over time is relevant and important, versus the latest figures. Â If you think that the history is always important or that it doesn&#8217;t hurt to have it for context anyway, consider that it&#8217;s yet another visual element to digest, another thing that can be misinterpreted, and that unless its importance is clearly demonstrated, you&#8217;d rather not include it. Yes &#8211; even as a tiny sparkline.</p>
<p><img class="alignnone" src="http://www.jeromecukier.net/projects/dashboards/jl-facebook-insights-overview.png" alt="" width="482" height="492" /></p>
<p>Here is another example from my work at Facebook of a page where proper hierarchy has been applied.</p>
<p>Page Insights, to use a parallel with a better known product, is like google analytics, only for Facebook Pages instead of web sites. Unsurprisingly, the metric we put to the top left is the Page Likes, which is the number of people who like a page. The whole point of the system is to let people understand what affects that number and how to grow it. Two other high-level metrics are shown on the same row in the two cards on the right: the Post Reach for the week (number of people who have seen content from this page this week, whether they like the Page or not) and Engagement (number of people who acted on the content &#8211; actions could be liking, commenting, sharing, clicking, etc.)</p>
<p>The number of new Page Likes of the past week, which is represented as a both a line chart and a number in the left card, is an example of a level two metric. It supports the top metric &#8211; total likes. The number of Page Likes of the past week, which is represented as a line chart only, is a level three metric. It&#8217;s here just as a comparison to the number of the current week &#8211; here, it helps us figuring out that last week has been a better week.</p>
<h2>Connecting the dots</h2>
<p>Ultimately, a dashboard is more than a collection of charts. It&#8217;s an ensemble: charts and data are meant to be consumed as a whole, with an order and a structure. Charts that belong together should be seen together. The information gained like so will be much more useful than fromÂ looking at them in sequence.</p>
<p><a href="http://www.infovis-wiki.net/index.php?title=Linking_and_Brushing">Linking</a>, for instance, is the concept of highlighting an element inÂ a given chart with repercussions on other charts, depending on the element highlighted. A common use case is to look at a data for one given time point, and see the value for that time point highlighted in related charts. Here is an example:</p>
<p><img class="alignnone" src="http://www.jeromecukier.net/projects/dashboards/linking.png" alt="" width="784" height="212" /></p>
<p>In this specific case, the fact that both charts share the same x-axis makes comparing the shape of both charts easier even without linking.</p>
<p>Each variable doesn&#8217;t have to be on its own chart.Â Your variables can have an implicit relation between one another. Bringing them together might make that relation explicit.Â Here are some interesting relationship between variables or properties of variables that can be made apparent through the right chart choice.</p>
<ul>
<li><strong>One variable could be always greater than another one</strong>, because the second is a subset of the first. Here are some examples:</li>
</ul>
<ol>
<li>The number of visits on a website last week willÂ <em>alwaysÂ </em>be greater or equal than the number of unique visitors that week, which will <em>alwaysÂ </em>be greater than the number of visitors last day.</li>
<li>The number of visitors will <em>always</em> be greater to the number of first-time visitors.</li>
<li>The cumulative number of orders over a period of time will <em>always</em> be greater than the number of daily orders over that same period.</li>
<li>The time that users spend with a website in an active window of their browser willÂ <em>alwaysÂ </em>be greater than the time they spend actively interacting with the site.</li>
</ol>
<p style="padding-left: 30px;">What&#8217;s interesting here is that these relations are not just true because of experience, they are true by definition. It&#8217;s also metrics that are expressed in the same units, and, in most cases, with the same order of magnitude, so they can be displayed on the same chart. When applicable, showing them together can show how they, indeed, move together or not.</p>
<ul>
<li><strong>One variable could be the sum of two other</strong>, less important <strong>variables</strong>.</li>
</ul>
<p style="padding-left: 30px;">In the example below we go even one step further and we show that one variable is the sum of two variables minus a fourth one.<br />
Here, we look at the net likes of a Facebook Page, that is, the difference between the number of people who like a page on a given day and the day before.<br />
Two factors can make more people like a page: paid likesÂ (a user sees an ad, is interested, and from it, likes the page) or organic likes (a user visits a page, or somehow see content from that page, and likes it, without advertisement involved). Finally, people may also decide to stop liking the page (&#8220;unlikes&#8221;).<br />
Here, net likes = organic likes + paid likes &#8211; unlikes. The reason why we have decomposed Likes between organic and paid is because we wanted to show that ads can amplifyÂ the effect of good content. So, visually, we chose to represent that as a layer on top of the rest. (important remark: your dashboard doesn&#8217;t have to be neutral. If it can show that your product, company, team etc. is delivering, and you have an occasion to demonstrate it, don&#8217;t hesitate a moment). By showing the unlikes as a negative number, as opposed to a positive variable, going up, possibly above the likes (which would be unpredictable) we can keep the visual legible and uncluttered. A user can do the visual combination of all these variables. This chart, by the way, shows the typical dynamic of a Page : new content will generate peaks of new users, but also will cause some users to stop liking the page.</p>
<p><img class="alignnone" src="http://www.jeromecukier.net/projects/dashboards/net-likes-1024x454.png" alt="" width="832" height="453" /></p>
<ul>
<li>One variable could be <strong>always growing.</strong> Or <strong>always positive.</strong></li>
</ul>
<p style="padding-left: 30px;">When that is the case this can be used to make choices to represent the chart. If a variable is always growing by nature (i.e. cumulative revenue) youÂ may want to consider representing a growth rate rather than the raw numbers. A reason to consider that is that your axis scale will have to change over time (i.e. if you plot a product that sells for around $1m per day, having an axis that goes from 0 to $10m would be enough for a week, but not for a month let alone for a year, whereas with a growth rate you can represent a long period of time consistently). And if a variable is always positive (ie stock price), your y axis can start at 0, or even at an arbitrary positive value, as opposed to allocate space for negative values.</p>
<p style="padding-left: 30px;">Conversely, if a variable doesn&#8217;t change over time, it doesn&#8217;t mean that it&#8217;s not interesting to plot. That absence of change could be a sign of health of the system (which is the kind of task that dashboards can be useful for). So the absence of change doesn&#8217;t mean that there&#8217;s an absence of message.</p>
<p style="padding-left: 30px;">
	    		<div class="clear">&nbsp;</div>
	</section>
</article><!-- #post-## -->
			
				
<article id="post-1626" class="post-1626 post type-post status-publish format-standard hentry category-charts category-dashboards category-data-visualization category-tips">
		    <header class="post-header">
        			<span class="post-meta">
				<span class="posted-on"><a href="/2015/02/07/dashboards-as-products/" rel="bookmark"><time class="entry-date published" datetime="2015-02-07T03:00:19+00:00">February 7, 2015</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="/author/jerome/">jerome</a></span></span> on <a href="/category/charts/" rel="category tag">charts</a>, <a href="/category/dashboards/" rel="category tag">dashboards</a>, <a href="/category/data-visualization/" rel="category tag">data visualization</a>, <a href="/category/tips/" rel="category tag">tips</a>			</span>
		        <h1 class="post-title"><a href="/2015/02/07/dashboards-as-products/" rel="bookmark">Dashboards as products</a></h1>
         
    </header>
	<section class="post-content">

		<p>In the <a href="http://wp.me/po630-q7">past few articles</a> I&#8217;ve exposed what dashboards are not:</p>
<ul>
<li>an exercise in <em>visual design</em>,</li>
<li>an exercise in <em>data visualization</em> technique.</li>
</ul>
<p>Another way to put this is that &#8220;let&#8217;s do this just because we can&#8221; is a poor mantra when it comes to designing dashboards, or visualizations in the broader sense by the way.</p>
<h3>Do it for the users</h3>
<p>Now saying that dashboards should be products is a bit tautological. Products, in <a href="https://medium.com/@ericeriksson/what-is-product-design-9709572cb3ff">product design</a>, refer to the result of a holistic process that solves problems of users &#8211; a process that includes research, conception, exploration, implementation and testing.</p>
<p>Most importantly, it&#8217;s about putting the needs of your users first. And your users first. Interestingly, treating your dashboard as a product means that the dashboard &#8211; your product &#8211; doesn&#8217;t come first.</p>
<p>Creating an awesome dashboard is a paradox. Googling for that phrase yields results such as:Â <a href="https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=6&amp;cad=rja&amp;uact=8&amp;ved=0CDwQFjAF&amp;url=http%3A%2F%2Fdesignrfix.com%2Fdesign%2Fdashboard-design&amp;ei=ZxLVVLHBDMinyATrrYKIDg&amp;usg=AFQjCNEYq1L0bANEmTwSHUGW_ik0BK7GYw&amp;sig2=YKmhFLbmFb0DyHzLAStdvw&amp;bvm=bv.85464276,d.aWw" data-href="http://designrfix.com/design/dashboard-design">20+ Awesome Dashboard Designs That Will Inspire You</a>,Â <a href="https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=7&amp;cad=rja&amp;uact=8&amp;ved=0CEMQFjAG&amp;url=http%3A%2F%2Fthedesigninspiration.com%2Farticles%2F25-innovative-dashboard-concepts-and-designs%2F&amp;ei=ZxLVVLHBDMinyATrrYKIDg&amp;usg=AFQjCNFyv8w3cGH5EbU8B0Gz27itiPqOag&amp;sig2=r65foADN-OBimw71AsI7Yg&amp;bvm=bv.85464276,d.aWw" data-href="http://thedesigninspiration.com/articles/25-innovative-dashboard-concepts-and-designs/">25 Innovative Dashboard Concepts and Designs</a>,Â <a href="https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=10&amp;cad=rja&amp;uact=8&amp;ved=0CFMQFjAJ&amp;url=https%3A%2F%2Feconsultancy.com%2Fblog%2F62844-24-beautifully-designed-web-dashboards-that-data-geeks-will-love%2F&amp;ei=ZxLVVLHBDMinyATrrYKIDg&amp;usg=AFQjCNFPyaQZJ_EUP-GRZJRdRRa8Ho5Cqw&amp;sig2=ypVCYsOtIemTJnX1R4Amuw&amp;bvm=bv.85464276,d.aWw" data-href="https://econsultancy.com/blog/62844-24-beautifully-designed-web-dashboards-that-data-geeks-will-love/">24 beautifully-designed web dashboards that data geeks</a>Â orÂ <a href="https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=13&amp;cad=rja&amp;uact=8&amp;ved=0CGUQFjAM&amp;url=http%3A%2F%2Fline25.com%2Farticles%2F25-visually-stunning-app-dashboard-design-concepts&amp;ei=ZxLVVLHBDMinyATrrYKIDg&amp;usg=AFQjCNHrWPNZt1Vn__39P4DkysUI1XStUA&amp;sig2=E9t5cHkELGbb_G8zGZSROA&amp;bvm=bv.85464276,d.aWw" data-href="http://line25.com/articles/25-visually-stunning-app-dashboard-design-concepts">25 Visually Stunning App Dashboard Design Concepts</a>. This is NOT dashboard product design (though it&#8217;s a good source of inspiration for visual design of individual charts).</p>
<p>Eventually, <strong>no one cares for your dashboard</strong>. When designing a dashboard, it&#8217;s nice to think that somebody out there will now spend one hour everyday looking at all this information nicely collected and beautifully arranged, but who would want to do that? Who would want to add to their already busy day an extra task, justÂ to look at information the way youÂ decided to organizeÂ it? This point of view is a delusion. We must not work accordingly.</p>
<p>Instead, let&#8217;s focus on the task at hand. What is something that your users would try to accomplishÂ that could be supported by data and insights?</p>
<h3>What is the task at hand?</h3>
<p>If you start to think &#8220;show something at the weekly meeting&#8221; or &#8220;make a high-level dashboard&#8221; I invite you to go deeper. Show what? a dashboard for what? not for its own sake.</p>
<p>Trickier &#8211; how about: &#8220;to showcase the dataÂ that we have&#8221;? That is still not good enough. <strong>You shouldn&#8217;t start from your data</strong>Â to create your dashboard, and for several reasons. Doing so would limit yourself to the data that you have or which is readily available for you. But maybe that this data, in its raw form, is not going to be relevant or useful to your users. Conversely, you would be tempted to include all the data that you have, but each additional information that you bring to your dashboard would make it harder to digest and eventually detrimental to the process. Most importantly, if you don&#8217;t have an idea of what the user would want to accomplish with your data, you cannot prioritize and organize it, which is the whole point of dashboard design.</p>
<p>Finally &#8211; &#8220;to discover insights&#8221; is not a task either. Dashboards are a curated way to present data for a certain purpose. They are not unspecified, multi-purposeÂ analytical exploration tools.Â In other words: dashboards will answer a specific, already formulated question. And they will answer in the best possible way, if they are designed as such. For exploration, ad-hoc analysis is more efficient, and is probably best left to analysts or data scientists than end users.</p>
<p>Here are some example of tasks:</p>
<ul>
<li><strong>check</strong> that things are going ok &#8211; that there is no preventable disaster going on somewhere. For instance: website is up &#8211; visits follow a predictable pattern.</li>
<li>Specifically, check that a <strong>process had completed</strong> in an expected way. For instance: all paymentsÂ have been cleared.</li>
<li>If something goes wrong, <strong>troubleshoot</strong> it &#8211; find the likely cause. For instance:Â sales were down for this shop&#8230; because we ran out of an important product. Order more to fix the problem, make sure to stock accordinglyÂ next time.</li>
<li>Support a <strong>tactical decision</strong>. For instance: here are the sales of the new product, here are the costs. ShouldÂ we keep on selling it or stop?</li>
<li>Decide where toÂ <strong>allocate resources</strong>. For instance: we launched three variations of a product, one is greatly outperforming the other two, let&#8217;s run an ad campaign to promote the winner.</li>
<li>Try toÂ <strong>better understand</strong> a complex system. For instance: user flow between pages can show where users are dropping out or where efficiency gains lie.</li>
</ul>
<p>This list is by no means limitative. But it&#8217;s really useful to start from the problem at hand than just try to create aÂ visual repositoryÂ for data.</p>
<p>Next, we&#8217;ll see how to implement these in the last article: <a href="http://www.jeromecukier.net/blog/2015/02/07/charts-assemble/">charts assemble!</a></p>
	    		<div class="clear">&nbsp;</div>
	</section>
</article><!-- #post-## -->
			
				
<article id="post-1619" class="post-1619 post type-post status-publish format-standard hentry category-charts category-dashboards category-data-visualization category-tips">
		    <header class="post-header">
        			<span class="post-meta">
				<span class="posted-on"><a href="/2015/02/07/dashboards-versus-data-visualization/" rel="bookmark"><time class="entry-date published" datetime="2015-02-07T02:58:57+00:00">February 7, 2015</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="/author/jerome/">jerome</a></span></span> on <a href="/category/charts/" rel="category tag">charts</a>, <a href="/category/dashboards/" rel="category tag">dashboards</a>, <a href="/category/data-visualization/" rel="category tag">data visualization</a>, <a href="/category/tips/" rel="category tag">tips</a>			</span>
		        <h1 class="post-title"><a href="/2015/02/07/dashboards-versus-data-visualization/" rel="bookmark">Dashboards versus data visualization</a></h1>
         
    </header>
	<section class="post-content">

		<h2>Dashboards are extreme data visualizations</h2>
<p>In the recent <a href="http://www.informationisbeautifulawards.com/showcase?award=2014&amp;page=1&amp;pcategory=winner&amp;type=awards">Information is Beautiful 2014 awards</a>, Â I found interesting that there is an infographics and a data visualization categories. My interpretation is that the entries in the infographics section are static and illustrated, while those in the data visualization are generated and data-driven. However, all the featured data visualization projects are about a one-off dataset. So aesthetical choices of the visualization depend on the characteristics of this particular dataset. By contrast, the dashboards I have worked with are about a live, real-time datastream. They have to look good (or at least &#8211; to function) whatever the shape and size of the data that they show. The google quote and news chart that we saw earlier must work for super volatile shares, for more stable ones, for indices, currencies, etc. So, if the distinction between infographics and data visualization makes sense to you, imagine that dashboards sit further in that continuum than data visualization. Not only are dashboards generated from data, like data visualizations, but they are also real-time and should function with datasets of many shapes and sizes.</p>
<h2>But dashboards problems are not data visualization problems</h2>
<p>Data visualization provides superior tools and techniques to present or analyze data. With libraries and languages dedicated to making visualizations, there is little that can&#8217;t be done. In many successful visualizations, the author will create an entirely new form, or at least control the form very finely to match their data and their angle. Even without inventing a new form, there are many which have been created for a specific use, and which are relatively easy to make on the web (as opposed to say, in Excel): <a href="https://www.google.fr/search?q=tree+maps&amp;safe=off&amp;espv=2&amp;biw=2025&amp;bih=1140&amp;source=lnms&amp;tbm=isch&amp;sa=X&amp;ei=UCR4VNmKAufCiALyo4FY&amp;ved=0CAYQ_AUoAQ#safe=off&amp;tbm=isch&amp;q=treemaps">treemaps</a>, <a href="https://www.google.fr/search?q=tree+maps&amp;safe=off&amp;espv=2&amp;biw=2025&amp;bih=1140&amp;source=lnms&amp;tbm=isch&amp;sa=X&amp;ei=UCR4VNmKAufCiALyo4FY&amp;ved=0CAYQ_AUoAQ#safe=off&amp;tbm=isch&amp;q=force-directed+graphs">force-directed graphs</a> and other <a href="https://www.google.fr/search?q=tree+maps&amp;safe=off&amp;espv=2&amp;biw=2025&amp;bih=1140&amp;source=lnms&amp;tbm=isch&amp;sa=X&amp;ei=UCR4VNmKAufCiALyo4FY&amp;ved=0CAYQ_AUoAQ#safe=off&amp;tbm=isch&amp;q=node-link+diagrams">node-link diagrams</a>, <a href="https://www.google.fr/search?q=tree+maps&amp;safe=off&amp;espv=2&amp;biw=2025&amp;bih=1140&amp;source=lnms&amp;tbm=isch&amp;sa=X&amp;ei=UCR4VNmKAufCiALyo4FY&amp;ved=0CAYQ_AUoAQ#safe=off&amp;tbm=isch&amp;q=chord+diagrams">chord diagrams</a>, <a href="https://www.google.fr/search?q=tree+maps&amp;safe=off&amp;espv=2&amp;biw=2025&amp;bih=1140&amp;source=lnms&amp;tbm=isch&amp;sa=X&amp;ei=UCR4VNmKAufCiALyo4FY&amp;ved=0CAYQ_AUoAQ#safe=off&amp;tbm=isch&amp;q=dendrograms">trees</a>, <a href="https://www.google.fr/search?q=tree+maps&amp;safe=off&amp;espv=2&amp;biw=2025&amp;bih=1140&amp;source=lnms&amp;tbm=isch&amp;sa=X&amp;ei=UCR4VNmKAufCiALyo4FY&amp;ved=0CAYQ_AUoAQ#safe=off&amp;tbm=isch&amp;q=bubble+charts">bubble charts</a> and the like. And even good old geographic maps.</p>
<p>In most cases, it is not a good idea to be too clever and have a more advanced form.</p>
<p>Up until mid November 2014, Google Analytics allowed users to view their data using <a href="https://www.youtube.com/watch?v=UKsBTqqhVTs">motion charts</a>.</p>
<p><img class="alignnone" src="http://jeromecukier.net/projects/dashboards/motion charts" alt="" width="1280" height="784" /></p>
<p>This was really an example of having a hammer and considering all problems as nails. Fortunately, this function disappeared from the latest redesign.</p>
<p><img class="alignnone" src="http://media-cache-ec0.pinimg.com/736x/1c/69/b7/1c69b7ea8e23d5d8fd800a67e727d0db.jpg" alt="" width="736" height="432" /></p>
<p>Likewise, on twitter followers dashboard, the treemap might be a bit over the top:</p>
<p><img class="alignnone" src="http://media-cache-ec0.pinimg.com/736x/5c/27/85/5c278591a95c319bacdf974b62b991e2.jpg" alt="" width="736" height="775" /></p>
<p>and possibly confusing and not immediately legible to some users. On the other hand, it is economical in terms of space and would probably work in almost every case which are two things that dashboards should be good at. So while I wouldn&#8217;t have used it myself I can understand why this decision has been made.</p>
<h2>Dashboards are not an exercise in visual design either</h2>
<p>A dashboard such as this:</p>
<p><img class="alignnone" src="http://media-cache-ec0.pinimg.com/736x/b0/e1/8c/b0e18c6936bde1ce92c42a0b0c7e6f84.jpg" alt="" width="736" height="1128" /></p>
<p>(for which I can&#8217;t find the source. I found it on pinterest and was able to trace it to <a href="https://econsultancy.com/blog/62844-24-beautifully-designed-web-dashboards-that-data-geeks-will-love">this post</a>Â but not prior) is well designed visually, it makes proper use of space, colors and type, its charts are simple.</p>
<p>But what good is it? what do I learn, what can I take away from it, what actions can I perform?</p>
<p>Most of the dashboards examples I find on sites like dribbble or beyance (see <a href="http://www.pinterest.com/jcukier/data-vis-dashboard-ui-elements/">my Pinterest board</a>) fall into that category: inspiringÂ visual design, probably not real data, no flow, no obvious use.</p>
<h2>Dashboards are problems of their own</h2>
<p>What makes a dashboard, or any other information-based design successful, is neither theÂ design execution nor the clever infovis technique. Dashboards, eventually, are meant to be useful and to solve a specific problem.</p>
<p>How so? We&#8217;ll see in the next article: <a href="http://www.jeromecukier.net/blog/2015/02/07/dashboards-as-products/">dashboards as products.Â </a></p>
<p>&nbsp;</p>
	    		<div class="clear">&nbsp;</div>
	</section>
</article><!-- #post-## -->
			
				
<article id="post-1610" class="post-1610 post type-post status-publish format-standard hentry category-charts category-dashboards category-data-visualization category-tips">
		    <header class="post-header">
        			<span class="post-meta">
				<span class="posted-on"><a href="/2015/02/07/charts-in-the-age-of-the-web/" rel="bookmark"><time class="entry-date published" datetime="2015-02-07T02:57:41+00:00">February 7, 2015</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="/author/jerome/">jerome</a></span></span> on <a href="/category/charts/" rel="category tag">charts</a>, <a href="/category/dashboards/" rel="category tag">dashboards</a>, <a href="/category/data-visualization/" rel="category tag">data visualization</a>, <a href="/category/tips/" rel="category tag">tips</a>			</span>
		        <h1 class="post-title"><a href="/2015/02/07/charts-in-the-age-of-the-web/" rel="bookmark">Charts in the age of the web</a></h1>
         
    </header>
	<section class="post-content">

		<p>In 2008, when I was working at <a href="http://www.oecd.org/">OECD</a>, my job description was that of an editor. That implied I was mostly working on books. I was designing charts, but they were seen as components of books. And this was typical of the era.</p>
<p>So we would create charts like this one:</p>
<p><img class="alignnone" src="http://jeromecukier.net/projects/dashboards/02-01-01-g2" alt="" width="685" height="288" /></p>
<p>And it was awesome! (kind of). I mean, we respected all the rules. Look at that nicely labelled y-axis! and all the categories are on the x-axis! the bars are ordered in size, it&#8217;s easy to see which has the biggest or smallest value! And with those awesome gridlines, we can lookup values &#8211; at least get an order of magnitude.</p>
<p>What we really did though was apply styling to an excel chart (literally).</p>
<h2>Print charts vs interactive charts</h2>
<h3>Origin of rules for print charts</h3>
<p>Rules that govern traditional charts (which are many: ask Tufte, Few) make a certain number of assumptions which are interesting to question today.</p>
<p>One is that charts should be designed so that values can be easily looked up (even approximately) from the chart. This is why having labeled axes and gridlines is so useful. This is also why ordering bar charts in value order is nice. With that in mind, it also makes sense that charts like bar charts or area charts, which compare surfaces, be drawn on axes that start at 0.</p>
<p>The other assumption is that a chart will represent the entirety of a dataset that can be shown at a time. We have to come up with ways to make sure that every data point can be represented and remains legible. The chart author has to decide, once and for all, which is the dataset that will be represented, knowing that there will be &#8220;no backsies&#8221;.</p>
<p>In the same order of thought, the author must decide the form of his chart. If she wants to compare categories, she may go for a bar chart. If she wants to show an evolution over time, for a line chart. And if she wants the user to have exact values, she will choose a table.</p>
<p>And so, when everything else than a table is chosen, we typically don&#8217;t show values with all the data points, because adding data labels would burden the chart and make its overall shape harder to make out.</p>
<p>In this framework, it makes sense to think in term ofÂ <strong>data-ink </strong>(the cornerstone of Tuftean concepts): make sure thatÂ out of all the ink needed to print the chart (you can tell it&#8217;s a print concept already&#8230;), as much should go to encode the data as possible, versus anything else.</p>
<h3>How about now</h3>
<p><img class="alignnone" src="http://jeromecukier.net/projects/dashboards/chart trad vs online 2" alt="" width="680" height="847" /></p>
<p>However, there is not a single of these reasons which is valid today in the world of web or mobile charts. Data-ink only made sense on paper. </p>
<p>Web charts have many mechanisms to let the user get extra information on a given data point. That can be information that updates on mouseover, callouts and tooltips&#8230; This might be less true of mobile in general where the distinction between hoveringÂ and clicking is less distinct. But it is definitely possible to obtain more than what is originally displayed. If I want to have an exact value, I shouldn&#8217;t have to simply deduce that from the shape of the chart. There can be mechanisms that can deliver that to me on demand.</p>
<h3>An example: Google Finance Quote &amp; News</h3>
<p>The <a href="https://www.google.com/finance?q=NASDAQ%3AGOOG">Google Finance Quote and News chart</a> isÂ a very representative example of a web-native chart. Around since 2006, they provide the price of a given security, along with news for context. While its visual design has probably beenÂ topped by other dashboards, what makes it a great example is that it&#8217;s publicly available, which is uncommon for business data.</p>
<p><img class="alignnone" src="http://jeromecukier.net/projects/dashboards/online chart" alt="" width="984" height="543" /></p>
<p>While this chart has gridlines and labelled axes, that is not enough to lookup precise values. However, moving the <strong>mouse over</strong> the chart allows the user to read a precise value at a given point in time. A blue point appears and the precise value can be read in the top left corner.</p>
<p><img class="alignnone" src="http://jeromecukier.net/projects/dashboards/mouseover" alt="" width="996" height="524" /></p>
<p>One very commonÂ <strong>data filterÂ </strong>in chart is controls that affect the time range: date pickers. By selecting a different time range, we make the chart represent a different slice of the dataset &#8211; we effectively filter the dataset so that only the relevant dates are shown. This is in contrast with the traditional printed charts, again, where all of the dataset is shown at once. For instance, we can click on &#8220;6m&#8221; and we&#8217;ll be treated with data from the last 6 months:</p>
<p><img class="alignnone" src="http://jeromecukier.net/projects/dashboards/data filters" alt="" width="985" height="424" /></p>
<p>Comparing the selected security with others will make the chart show the data in a <strong>different mode</strong>. This is the same data (plus added series), in the same screen and the same context, but the chart is visually very different:</p>
<p><img class="alignnone" src="http://jeromecukier.net/projects/dashboards/different modes" alt="" width="986" height="526" /></p>
<p>As to the other two characteristics of web charts I mentioned, <strong>data exports</strong> and <strong>drill downs,Â </strong>they are also featured (but less graphical to show, so I haven&#8217;t captured a screenshot for those). There is a link on a left-side column to get the equivalent data (so it is always possible to go beyond what is shown on screen). The little flags with letters in the 3 first screenshots are clickable, and represent relevant news. Clicking them will highlight thatÂ article in a right-side column. So it is always possible to get more information.</p>
<h3>What does thatÂ change?</h3>
<p>Everything.</p>
<p>Rules or best practices based on the assumption that data is hard to lookup or to compare are less important.Â The chart itself has to be legible though. So, for instance, it&#8217;s ok to have pie charts or donut charts, as long as the number of categories doesn&#8217;t go totally overboard.</p>
<p>Web charts, and dashboards even more so, should focus on<strong> only showing relevant data</strong>Â first, then showing it in the most useful and legible way. Again, a noted difference with the print philosophy where as much data as possible should be shown.</p>
<p>How this play out is what we&#8217;ll cover in the <a href="http://www.jeromecukier.net/blog/2015/02/07/dashboards-versus-data-visualization/">next articles of the series: Dashboards versus data visualizations.</a></p>
<p>&nbsp;</p>
	    		<div class="clear">&nbsp;</div>
	</section>
</article><!-- #post-## -->
			
				
<article id="post-1608" class="post-1608 post type-post status-publish format-standard hentry category-dashboards category-data-visualization category-tips">
		    <header class="post-header">
        			<span class="post-meta">
				<span class="posted-on"><a href="/2015/02/07/dashboards-ahoy/" rel="bookmark"><time class="entry-date published" datetime="2015-02-07T02:56:12+00:00">February 7, 2015</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="/author/jerome/">jerome</a></span></span> on <a href="/category/dashboards/" rel="category tag">dashboards</a>, <a href="/category/data-visualization/" rel="category tag">data visualization</a>, <a href="/category/tips/" rel="category tag">tips</a>			</span>
		        <h1 class="post-title"><a href="/2015/02/07/dashboards-ahoy/" rel="bookmark">Dashboards ahoy!</a></h1>
         
    </header>
	<section class="post-content">

		<p>During my time at Facebook, I worked almost exclusively on one problem: dashboards. More specifically, how to present frequently-updated data in the most efficient way to business users. And so today, I am starting a series of blog posts / tutorials about dashboards.</p>
<h2>Why talk about dashboards?</h2>
<p>Legit questions. Dashboards are so uncool and boring! I could make more advanced tutorials on d3 or canvas or processing (which is also&#8230; in the plans). Or update new cool visualizations.</p>
<p>But the interest of discussing dashboards isÂ <em>preciselyÂ </em>because they are not cool. In the first part to his <a href="%20http://amzn.com/1938377001">Information Dashboard Design</a>, Stephen Few presents a lengthy gallery of terrible dashboards he collected over years. Most of these dashboards exhibit a serious and obvious production flaws: they are often gaudy, using 3d columns or pie charts, when not taking the dashboard metaphor too literally with replicas of gauges and meters. Here&#8217;s a typical dashboard from the early 2000s:</p>
<p><img class="alignnone" src="http://www.jeromecukier.net/projects/dashboards/old dashboard.jpg" alt="" width="640" height="481" /></p>
<p>In the past 5 years though, these problems have largely been solved. TheÂ overall <a href="http://www.perceptualedge.com/files/GraphDesignIQ.html">&#8220;Graph Design IQ&#8221;</a>, to borrow another Stephen Few concept, has greatly increased. People who make charts are increasingly aware that there are some best practices to build them and that there are a variety of forms beyond the core &#8220;Excel&#8221; chart types such as bar charts, line charts, pie charts and scatterplots. Besides, anyone who had to code a chart from scratch realized that, as opposed to Excel or similar software where users can rely on defaults, every detail of a chart needs decisions: not only how to encode the data (ie bars, lines etc.) but also whether to have gridlines or not and if so how, how to format axes, how to present legends, and so on and so forth. Oftentimes, having to make these decisions implies taking the time to think about these choices which makes the overall chart quality stronger. Also, in products like Tableau (and to be honest in every version of Excel) the default choices are much more robust than they used to be.</p>
<h2>Down with the old, up with the new</h2>
<p>While these old problems are as good as solved, dashboards are still not awesome because they are plagued with a set of new problems.</p>
<p>First, the <strong><a href="http://www.jeromecukier.net/blog/2015/02/07/charts-in-the-age-of-the-web/">rules and best practices for charts</a>Â </strong>that we keep perpetuating were thought for an old world of printed or otherwise static charts,Â Â not the interactive environments such as web or mobile. As such, some recommendations of the 90s have become myths that need to be busted (I&#8217;m looking squarely at you, data-ink ratio).</p>
<p>Second, dashboard design is <strong><a href="http://www.jeromecukier.net/blog/2015/02/07/dashboards-versus-data-visualization/">neitherÂ a data visualization problem, nor a visual design problem.</a></strong> By this I mean thatÂ thinking strictly as a designer or as a data visualization specialist might provide a textbook answer to some well-identified problems that arise with dashboards, but neither of these approaches is optimal.</p>
<p>The not-so-secret secret to dashboards is to applyÂ <a href="http://www.jeromecukier.net/blog/2015/02/07/dashboards-as-products/"><strong>product thinking</strong>. </a>How will people use the dashboard? That should guide what you try to accomplish.</p>
<p>Finally, it&#8217;s really critical to realize that dashboards are<strong><a href="http://www.jeromecukier.net/blog/2015/02/07/charts-assemble/"> not collection of individual charts, but an ensemble.</a>Â </strong>Components of a dashboard should not be thought individually but as pieces that fit with one another.</p>
<p>Each of these themes will be the subject of an individual article!</p>
<h2>Follow me on Pinterest</h2>
<p>On <a href="http://pinterest.com/jcukier">Pinterest</a>, I maintain two dashboard-related boards you may find interesting.</p>
<p>The first is called &#8220;<a href="http://www.pinterest.com/jcukier/dashboards/">Dashboards</a>&#8221; (duh) and is examples of complete dashboards, with no judgment on quality, most often found in the wild.</p>
<p>The second, <a href="http://www.pinterest.com/jcukier/data-vis-dashboard-ui-elements/">data vis / dashboard UI elements</a>, is centered around lower-level problems such as charts, parts of dashboards and their visual design. Virtually every dashboard example found on a visual design platform like dribbble or beyance is not so much a true dashboard than a collection of individual charts, not that it&#8217;s not interesting.</p>
	    		<div class="clear">&nbsp;</div>
	</section>
</article><!-- #post-## -->
			
				
<article id="post-1598" class="post-1598 post type-post status-publish format-standard hentry category-d3 category-data-visualization">
		    <header class="post-header">
        			<span class="post-meta">
				<span class="posted-on"><a href="/2014/10/27/new-personal-project-slopes-of-san-francisco/" rel="bookmark"><time class="entry-date published" datetime="2014-10-27T07:03:30+00:00">October 27, 2014</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="/author/jerome/">jerome</a></span></span> on <a href="/category/d3/" rel="category tag">d3</a>, <a href="/category/data-visualization/" rel="category tag">data visualization</a>			</span>
		        <h1 class="post-title"><a href="/2014/10/27/new-personal-project-slopes-of-san-francisco/" rel="bookmark">New personal project: slopes of San Francisco</a></h1>
         
    </header>
	<section class="post-content">

		<p>Hi, it&#8217;s been a while since I last posted!<br />
Here is a new project using publicly available data: <a href="http://jeromecukier.net/projects/slopes/slopes.html">slopes of San Francisco</a>.</p>
<p>As a San Franciscan who likes to walk, I&#8217;m confronted to a common problem. Most cities, such as Paris where I&#8217;m from, are mostly flat. So, in order to go one block east and one block north of where I am standing, I can go North then East or East then North: this is mostly equivalent (except that streets never meet at a right angle in Paris but that&#8217;s another problem). In San Francisco, going North then East can mean climbing a huge hill then down, versus walking on a flat surface. Itineraries matter, and often times I found myself going through mountains and valleys just because I thought the straight line was the simplest way to go from A to B.</p>
<p>Which is why I wanted to create a map of streets by slope, to help me (and my fellow San Franciscans) figure out which streets are practicable, and which should be avoided.</p>
<p>Here&#8217;s how I did it.</p>
<h2>Getting the data</h2>
<p>To compute slopes, I needed elevation data and the most convenient way to obtain it is through <a href="https://developers.google.com/maps/documentation/elevation/">google elevation API</a>. This API takes one or several points (longitude and latitude) and returns an elevation. Now which points was I going to feed it?</p>
<p>I started by the <a href="http://metro.teczno.com/#san-francisco">San Francisco metro extract</a>Â from Open Street Map. What you get is an XML file which has a list of nodes with longitudes and latitudes, and a list of structures that connect them (such as landmass, streets, buildings, etc.). Now the problem was that the file I used had some 1.4m nodes, and Google Elevation API limits are 25000 locations per 24 hour period.</p>
<p>So my first task was to figure out how many of those 1.4m nodes I really needed. Turns out that the metro extract covers much more than the city but also the whole bay area. So my first pass was to filter out nodes that were outside a bounding box. Then, I only kept nodes that were part of a street, and furthermore, only the ones that would be either at the end of one street or at an intersection. By doing so, I&#8217;m assuming that all streets are straight between any two intersections, which is far from true, but would do for our purposes. I applied further filtering to weed out streets that were made of just one node. Eventually, I arrived at just over 10000 nodes! and in the process, I also extracted from the XML file the shape of the streets, that is, in which order nodes appeared in those streets. After several iterations in my code, I also scrapped their number of lanes when available and the street names.</p>
<h2>Sanity check</h2>
<p>The first thing I did was to plot my nodes on a map.</p>
<p><div style="width: 610px" class="wp-caption alignnone"><img class="" src="http://jeromecukier.net/projects/slopes/v0.png" alt="First draft" width="600" height="499" /><p class="wp-caption-text">First draft</p></div></p>
<p>Looks ok. So next, I just drawed my streets. I did that using d3, and each of my streets in this next iteration is a single path object.</p>
<p>&nbsp;</p>
<p><div style="width: 610px" class="wp-caption alignnone"><img class="" src="http://jeromecukier.net/projects/slopes/v1.png" alt="First network of streets" width="600" height="506" /><p class="wp-caption-text">First network of streets</p></div></p>
<p>So that&#8217;s a basic node-and-link meshÂ of San Francisco, the problem with that approach is that I can only style one street (i.e. the links between the nodes) as a whole. However, what I wanted to highlight was where the streets were steep: many streets just go up and down, so giving them a single &#8220;steepness&#8221; rating wasn&#8217;t going to cut it.</p>
<h2>Encoding steepness</h2>
<p><div style="width: 610px" class="wp-caption alignnone"><img class="" src="http://jeromecukier.net/projects/slopes/v2.png" alt="Segments of streets" width="600" height="506" /><p class="wp-caption-text">Segments of streets</p></div></p>
<p>The next logical step was to draw each of the edges individually (this time, they are lines, not paths). There are 6000+ &#8220;streets&#8221; (in the OSMÂ sense &#8211; streets can be split in any number of different entities in Open Street Map), versus about 16000 different edges. I also found I didn&#8217;t really need to draw the nodes.</p>
<p>The obvious way was to encode steepness from green to red on a linear scale. That looks ok, but that&#8217;s not super interesting because it&#8217;s very difficult to tell whether one street is steeper than another just by comparing colors. I didn&#8217;t need an infinite variation of colors, I just wanted to know whether a street was flat (or quasi-flat), with a noticeable slope, or really steep. So instead of using a full linear scale, I just used 3 colors from the green &#8211; purple colorbrewer scale.</p>
<p><div style="width: 610px" class="wp-caption alignnone"><img class="" src="http://jeromecukier.net/projects/slopes/v3.png" alt="Same map with discrete colors" width="600" height="516" /><p class="wp-caption-text">Same map with discrete colors</p></div></p>
<p>I could see instantly which streets were flat or not, yet wondered if there wasn&#8217;t a good simple way to compare between two streets which would be the steepest. Color is no good for that, but how about line width?</p>
<p><div style="width: 610px" class="wp-caption alignnone"><img class="" src="http://jeromecukier.net/projects/slopes/v4.png" alt="Using line width to express steepness" width="600" height="500" /><p class="wp-caption-text">Using line width to express steepness</p></div></p>
<p>That was kind of an interesting aesthetics but I found it was difficult to find a precise cross street. When looking on a map of San Francisco, we instinctively look for larger streets like Market or Van Ness and if width was used by something else, it can be confusing. At that moment I didn&#8217;t have a good measure of street width, so I went back to my OSM extract and tried to scrap the number of lanes from my dataset.</p>
<p><div style="width: 610px" class="wp-caption alignnone"><img class="" src="http://jeromecukier.net/projects/slopes/v5.png" alt="using street widths" width="600" height="374" /><p class="wp-caption-text">using street widths</p></div></p>
<p>You will notice that the streets now have an outline. I don&#8217;t draw the shape of each block, that would be too difficult given my dataset. Instead, for each street segment, I first draw a dark grey line, then on top of it, a slightly thinner colored line ðŸ™‚</p>
<h2>Have the map do something</h2>
<p>This being a data visualization I thought there could be interesting calculations that could be done with the map. My first intuition was to reuse the ideas of my <a href="http://www.jeromecukier.net/projects/metro/map.html">interactive Paris metro map</a>Â and make a deformed SF map based on the effort needed to go from one point of the map to everywhere, taking the slopes of the streets into account.</p>
<p>I basically refactored my code which I hadn&#8217;t visited in almost two years&#8230; and adapted shortest-path algorithms to my network of streets. It confirmed what I feared, that not all of my streets connect. Some streets in the map form tiny islands which are isolated from the rest of the network, and so cannot be reached from outside. I decided not to deal with it, debugging the dataset was really too complicated at this stage (and to be honest the filters I had used to extract the street data had already gone through many, many iterations).</p>
<p>I also used voronoi tessellation to create a layer of polygons on top of my nodes to capture clicks. The user can choose where to base their map, not by clicking on a precise cross street, but in the area around it, like so:</p>
<p><div style="width: 610px" class="wp-caption alignnone"><img class="" src="http://jeromecukier.net/projects/slopes/v31.png" alt="Showing the voronoi layer on top of the map" width="600" height="353" /><p class="wp-caption-text">Showing the voronoi layer on top of the map</p></div></p>
<p>However, the results proved to be underwhelming.</p>
<p><div style="width: 610px" class="wp-caption alignnone"><img class="" src="http://jeromecukier.net/projects/slopes/v6.png" alt="Deformed map by effort needed to walk from a given point" width="600" height="536" /><p class="wp-caption-text">Deformed map by effort needed to walk from a given point</p></div></p>
<p>All right, so some points are closer, some points are further, but overall it&#8217;s not a super interesting map. It&#8217;s less legible, and it doesn&#8217;t help me figuring out my initial problem: from a given point, which streets should I take to not go up and down?</p>
<p>So I was back to the drawing board. Now with the Dijkstra algorithm which I use to compute the shortest distance from one point to the others in the network, I can also get which path is the shortest, i.e. which is the actual itinerary, edge by edge, that takes me from one point to the others using the shortest path.</p>
<h2>Path-finding</h2>
<p>So my next idea was to hide all the edges that would not be in a shortest path. Again there were about 16000 edges, and 10000 nodes; there is only 1 shortest-path edge per node, so that&#8217;s hiding about 1/3 of the streets. Let&#8217;s see how this looks:</p>
<p><div style="width: 610px" class="wp-caption alignnone"><img class="" src="http://jeromecukier.net/projects/slopes/v7.png" alt="All streets which are not in a shortest path are hidden." width="600" height="347" /><p class="wp-caption-text">All streets which are not in a shortest path are hidden.</p></div></p>
<p>That&#8217;s more interesting! At least, I know which streets I should not even consider from a given starting point.</p>
<p>I could do better: once this is done and a starting point is selected, I can actually draw the shortest path to wherever the user moves his or her mouse:</p>
<p><div style="width: 610px" class="wp-caption alignnone"><img class="" src="http://jeromecukier.net/projects/slopes/v8.png" alt="Drawing the shortest path" width="600" height="346" /><p class="wp-caption-text">Drawing the shortest path</p></div></p>
<h2>Styling and wrapping it up</h2>
<p>In parallel I had worked on a page template to put everything on and my map looked kind of abstract. I had considered adding street names but algorithmically it&#8217;s pretty complicated (it would have been much quicker to do it completely manually but eventually I decided against that). I needed the map to belong to one specific part of the page as opposed to be just hanging in free space. For this I thought I really needed the shape of the land.</p>
<p>So I went back to my OSM dataset and this time looked at the nodes which were on coastlines. Coastlines, though, are lines, not shapes, so some reworking was in order. In the original dataset there were some 200 different lines. Many of them were outside San Francisco proper, but still by removing those there were about 50 left. Many of them could be joined, and I had just to do a tiny bit of manual stitching to come up with one landmass shape for San Francisco.</p>
<p><div style="width: 610px" class="wp-caption alignnone"><img class="" src="http://jeromecukier.net/projects/slopes/v9.png" alt="Now with a landmass" width="600" height="330" /><p class="wp-caption-text">Now with a landmass</p></div></p>
<p>I tried various combinations for styling and finally fell back on using green, orange and red for the steepness &#8211; the very palette I avoided in the beginning. I used more balanced, slightly less saturated colors though.</p>
<p>One last thing I did on the data side was to get, for every node (which is every end of street or cross-street) the name of all the streets that go through it, so I could describe them &#8211; both the first node the user will click on and anyone he or she will mouseover on.</p>
<p><div style="width: 610px" class="wp-caption alignnone"><img class="" src="http://jeromecukier.net/projects/slopes/v10.png" alt="The end result!" width="600" height="361" /><p class="wp-caption-text">The end result!</p></div></p>
	    		<div class="clear">&nbsp;</div>
	</section>
</article><!-- #post-## -->
			
				
<article id="post-1572" class="post-1572 post type-post status-publish format-standard hentry category-d3 category-data-visualization category-tips">
		    <header class="post-header">
        			<span class="post-meta">
				<span class="posted-on"><a href="/2013/11/20/getting-beyond-hello-world-with-d3/" rel="bookmark"><time class="entry-date published" datetime="2013-11-20T07:26:33+00:00">November 20, 2013</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="/author/jerome/">jerome</a></span></span> on <a href="/category/d3/" rel="category tag">d3</a>, <a href="/category/data-visualization/" rel="category tag">data visualization</a>, <a href="/category/tips/" rel="category tag">tips</a>			</span>
		        <h1 class="post-title"><a href="/2013/11/20/getting-beyond-hello-world-with-d3/" rel="bookmark">Getting beyond hello world with d3</a></h1>
         
    </header>
	<section class="post-content">

		<p>About a year ago I proposed a <a href="http://www.jeromecukier.net/blog/2012/09/04/getting-to-hello-world-with-d3/">very simple template</a> to start working with d3. But is that the way I actually work? Of course not. Because, though you and I know that displaying hello world in d3 is not exactly trivial, this is not a highly marketable skill either. That said, I just can&#8217;t afford to start each of my projects from scratch.</p>
<p>So in this article I will present you the template I actually use. I won&#8217;t go in as much detail as last time because the exact instructions matter less than the general idea.</p>
<p>My template is a set of two files, an html file and a js file. Of course, extra files can be used as needed.</p>
<p>There&#8217;s not much to the html file &#8211; its role is really to call the javascript code. There is a little twist though. This is also where the interface elements (ie buttons and other controls) may be. Another thing is that I don&#8217;t load a css file through the html. The reason is that when I work with svg, I may export the svg proper to a file to have it reworked in Adobe Illustrator etc. and so having style inside the file makes things easier. So I would instead load a style sheet into the svg through javascript.</p>
<p>The javascript file is written with the following assumptions:</p>
<ul>
<li>there could be other scripts called by the same page, so let&#8217;s try to avoid conflict as much as possible.</li>
<li>some variables need not to be accessed by other scripts.</li>
<li>the execution of my visualization is divided into several phases:
<ul>
<li><strong>initialize:Â </strong>assigning initial values to variables, if needed forecasting interaction,</li>
<li><strong>loading data:Â </strong>acquiring and processing external data,</li>
<li><strong></strong><strong>drawing:Â </strong>this is where the visualization will be actually rendered or updated</li>
</ul>
<p>In addition to these three phases which always occur in my visualizations, there are several optional operations which I may or may not use which are included in the template.</p>
<ul>
<li><strong>reshaping data:<em>Â </em></strong>operations like filtering or sorting the initial dataset after certain choices of the user. Following such an operation, the visualization has to be re-rendered.</li>
<li><strong>self-playing animation</strong>: when this is required, then the visualization should be able to update itself at given intervals of time. If that is the case, then the html will include controls such as a start and stop button and a slider that can be used to move to an arbitrary time. Then, the javascript includes functions to start and stop the animation, and the drawing function is done so it can be called with a time argument, and not assuming that it will always just show the next step (because the slider can be used to jump ahead or back).</li>
<li><strong>helper functionsÂ </strong>which can make me gain time but which don&#8217;t need to be accessed by other scripts.</li>
</ul>
</li>
</ul>
<p>To address the first concern, I wrap all my code in an anonymous function, like so:</p>
<pre class="brush: jscript; title: ; notranslate" title="">
(function() {
// ... my code
})();
</pre>
<p>within that function, any variable which is declared using the var keyword is not accessible to other scripts. Variables which are declared without the var keyword, however, can be accessed. So in order to minimize the footprint of my code, I create one single object, vis, so I can store the functions and values I will need to call as properties of that object. </p>
<pre class="brush: jscript; title: ; notranslate" title="">
(function() {
vis = {}
vis.init = function() {
// code for my init function ...
}
vis.height = 100;
var local = 50;
})();
</pre>
<p>So outside of that anonymous function, I can call vis.init(), I can access and change the value of vis.height, but I cannot access local.</p>
<p>One step further:</p>
<pre class="brush: jscript; title: ; notranslate" title="">
(function() {
vis = {}
vis.init = function(params) {
  // code for my init function ...
  vis.loaddata(params);
}
vis.loaddata = function(params) {
  // code for loading data ...
  vis.draw(params);
}
vis.draw = function(params) {
  // code for drawing stuff ...
}
})();
</pre>
<p>This gets a bit closer to how the code actually works. From the HTML, I would call vis.init and pass it parameters. vis.init will do its thing (assigning values to variables, creating the svg object, preparing interactions etc.) then call vis.loaddata, passing the same parameters. vis.loaddata will fill its purpose (namely, load the data and perhaps do a little data processing on the side) then call the drawing function.</p>
<p>Any of these functions can be called from the outside (from the HTML, ot from the console for debugging). The nice thing about it is that nothing really happens unless there&#8217;s an explicit instruction to start the visualization.</p>
<p>Let&#8217;s go a step deeper:</p>
<pre class="brush: jscript; title: ; notranslate" title="">
(function() {
vis = {}
var chart, svg, height, width;
vis.init = function(params) {
  if (!params) {params = {};}
  chart = d3.select(params.chart || &quot;#chart&quot;);
  height = params.height || 500;
  width = params.width || 960;
  chart.selectAll(&quot;svg&quot;).data([{height: height, width: width}]).enter().append(&quot;svg&quot;);
  svg = chart.select(&quot;svg&quot;);
  svg
   .attr(&quot;height&quot;, function(d) {return d.height;})
   .attr(&quot;width&quot;, function(d) {return d.width;})
  vis.loaddata(params);
}
vis.loaddata = function(params) {
  if (!params) {params = {};}
  d3.csv((params.data || &quot;data.csv&quot;) + (params.refresh ? (&quot;#&quot; + Math.random()) : &quot;&quot;), function(error, csv) {
    vis.csv = csv;
    vis.draw(params);
  })
}
vis.draw = function(params) {
  // code for drawing stuff ...
}
})();
</pre>
<p>Now we&#8217;re much closer to how it actually works. After we create our publicly accessible object vis, we create a bunch of local variables. Again, these can be used freely by the functions within our anonymous function, but not outside of it (notably in the console). I&#8217;m assuming that the code can be called without passing parameters, in which case within the functions I am testing if params actually exists, failing that I give it an empty object value. This is because down the road, if it is undefined and I try to access its properties, that would cause a reference error. If params has a value, even that of an empty object, if a property is not assigned, its value is &#8220;undefined&#8221;. So let&#8217;s take a look at the first 2 lines of vis.init:</p>
<pre class="brush: jscript; title: ; notranslate" title="">
if(!params) {params = {};}
chart = d3.select(params.chart || &quot;#chart&quot;);
</pre>
<p>if params is not passed to vis.init, it gets an empty object value (that&#8217;s the first line). So, all of its properties have an undefined value. So the value of (params.chart || &#8220;#chart&#8221;) will be &#8220;#chart&#8221;. Likewise, if params is passed to vis.init, but without a chart property, params.chart will also be undefined, and (params.chart || &#8220;#chart&#8221;) will also be &#8220;#chart&#8221;. However, if params is passed to vis.init and a chart property is defined (i.e. vis.init({chart: &#8220;#mychart&#8221;}), then params.chart will be worth &#8220;#mychart&#8221; and (params.chart || &#8220;#chart&#8221;) will also be &#8220;#mychart&#8221;.<br />
So that construct of assigning an empty object value to params then using || is like giving default values which can be overridden.</p>
<p>Within vis.init, we use local variables for things like height, width etc. so we can redefine them with parameters, and they can be easily accessed by anything within the anonymous function, but not outside of it.<br />
I&#8217;ve also fleshed out the vis.loaddata function.<br />
Likewise, we use the same construct as above: instead of hardcoding a data file name, we allow it to be overridden by a parameter, but if none is specified, then we can use a default name.<br />
The part with params.refresh is a little trick.<br />
When developing/debugging, if your data is stored in a file, you are going to load that file many times. Soon enough your browser will use the cached version and not reload it each time. That&#8217;s great for speed, but not so great if you edit your file as part as your debugging process: changes would be ignored! By adding a hash and a random string of character at the end of the file name, you are effectively telling your browser to get your file from a different url, although it is the same file. What this does is that it will force your browser to reload the file each time. Once you&#8217;re happy with the shape of your file, you can stop doing that (by omitting the refresh parameter) and the browser may use a cached version of your file.<br />
In the vis.loaddata function, the most important part is that d3.csv method. As you may remember this is what loads your csv file (and btw if your data is not in csv form, d3 provides <a href="https://github.com/mbostock/d3/wiki/Requests">other methods to load external files</a> &#8211; d3.json, d3.text etc.). How this method works is that the associated function (i.e the bit that goes: function(error, csv) {}) is executed [em]once the file is loaded[/em].<br />
So since loading the file, even from cache, always take some time, what&#8217;s inside that function will be executed [em]after[/em] whatever could be written after the d3.csv method. This is why in the loaddata function, nothing is written after the d3.csv method, as there is no reliable way of knowing when that would be executed. The code continues inside the function. At the very end of that function, we call vis.draw, passing parameters along.<br />
If I need to load several files, I would nest the d3.csv functions like this:</p>
<pre class="brush: jscript; title: ; notranslate" title="">
d3.csv((params.data || &quot;data.csv&quot;), function(error, csv) {
  // .. do things with this first file
  d3.csv((params.otherfile || &quot;otherfile.csv&quot;), function (error, csv) {
    // .. and then things with that other file. repeat if necessary..

    // the end of the innermost function is when all files are loaded, so this is when we pass control to vis.draw
    vis.draw(params);
  })
})
</pre>
<p>Another way to do this is using <a href="https://github.com/mbostock/d3/wiki/Upgrading-to-3.0">queue.js</a> which I would recommend if the nesting becomes too crazy. For just 2 small files it&#8217;s a matter of personal preferences.</p>
<p>It&#8217;s difficult to write anything inside the code of vis.draw in a template, because this will have to be overwritten for every project. But here is the general idea though.<br />
vis.draw can be called initially to, well, draw the visualization a first time when nothing exists but an empty svg element. But it can also be called further down the road, if the user presses a button that changes how it should be displayed, etc.<br />
So, if the external context doesn&#8217;t change, running vis.draw once more should do nothing. As such, I avoid using constructs like &#8220;svg.append(&#8220;rect&#8221;) &#8221; and instead use &#8220;svg.selectAll(&#8220;rect&#8221;).data(vis.data).enter().append(&#8220;rect&#8221;)&#8221; systematically.<br />
The difference between the two is that using append without enter will add elements unconditionally. Using it after enter would only add new elements if there are new data items.<br />
But what if I need to draw just one element? well, instead of writing &#8220;svg.append(&#8220;rect&#8221;)&#8221;, I would write something like &#8220;svg.selectAll(&#8220;rect.main&#8221;).data([{}]).enter().append(&#8220;rect&#8221;).classed(&#8220;main&#8221;, 1)&#8221;.<br />
Let me explain what&#8217;s happening there.<br />
What I want is the function to create one single rectangle if it doesn&#8217;t exist already. To differentiate that rectangle from any other possible rectangles I am going to give it a class: &#8220;main&#8221;. Why a class and not an id if it is unique to my visualization? Well, I may want to have several of these visualizations in my page and ids should really be unique. So I never use ids in selections, to the exception of specifying the div where the svg element will sit.<br />
If there is already one rect element with the class &#8220;main&#8221;, svg.selectAll(&#8220;rect.main&#8221;).data([{}]).enter() will return an empty selection and so nothing will happen. No new rect element will be appended. This is great because we can run this as often as we want and what&#8217;s supposed not to change will not change.<br />
However, if there is no such rect element, since there is one item in the array that I pass via data, svg.selectAll(&#8220;rect.main&#8221;).data([{}]).enter().append(&#8220;rect&#8221;) will create one single rect element. The classed(&#8220;main&#8221;, 1) at the end will give it the &#8220;main&#8221; class, so that running that statement again will not create new rectangles. Using [{}] as default, one-item array is a convention, but it&#8217;s better than using, say [0] or [&#8220;&#8221;] because when manipulating our newly-created element, we can add properties to the data element (i.e. d3.selectAll(&#8220;rect.main&#8221;).attr(&#8220;width&#8221;, function(d) {d.width = 100; return d.width;}) ) which you couldn&#8217;t do if the data elements were not objects. (try this for yourself).</p>
<p>That being said, the general outline of the vis.draw function is so:</p>
<ul>
<li>remove all elements that need to be deleted,</li>
<li>create all elements that need to be added, including a bunch of one-off elements that will only be created once (ie legend, gridlines&#8230;)</li>
<li>select all remaining elements and update them (using transitions as needed).</li>
</ul>
<p>One last thing: how to call vis.init() in the first place? Well, the call would have to happen in the HTML file.</p>
<pre class="brush: jscript; title: ; notranslate" title="">
&lt;script&gt;
var params = {data: &quot;data.csv&quot;, width:1400,height:800};
var query = window.location.search.substring(1);

var vars = query.split(&quot;&amp;&quot;);
vars.forEach(function(v) {
	var p = v.split(&quot;=&quot;);
	params[p[0]] = p[1]
})
vis.init(params);
&lt;/script&gt;
</pre>
<p>What&#8217;s going on there?<br />
First, I initiate the params variable with some values I want to pass in most cases.<br />
Then, the next line is going to look at the url of the page, and more specifically at the search part, that is, whatever happens after the ?. (I use .substring(1) as to not include the &#8220;?&#8221;).<br />
The idea is that when I would like to pass parameters via the browser, like so: &#8230;/vis.html?mode=1&#038;height=500&#038;data=&#8221;anotherfile.csv&#8221;<br />
The two splits (first by &#038;, then by =) allow to get the parameters passed by url, and add them to params, possibly overriding the existing ones.<br />
Then we pass the resulting params variable to vis.init. </p>
<p>Wihtout further ado, here are the two files in their entirety. </p>
<pre class="brush: xml; title: ; notranslate" title="">
&lt;!DOCTYPE html&gt;
&lt;meta charset=&quot;utf-8&quot;&gt;
&lt;head&gt;
	&lt;title&gt;&lt;/title&gt;
	&lt;style&gt;

	&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;script src=&quot;http://d3js.org/d3.v3.min.js&quot;&gt;
&lt;/script&gt;
&lt;div id=&quot;chart&quot;&gt;&lt;/div&gt;
&lt;script src=&quot;template.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;
var params = {data: &quot;data.csv&quot;, width:960,height:500};
var query = window.location.search.substring(1);

var vars = query.split(&quot;&amp;&quot;);
vars.forEach(function(v) {
	p=v.split(&quot;=&quot;);
	params[p[0]]=p[1]
})
vis.init(params);
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
<pre class="brush: jscript; title: ; notranslate" title="">
(function() {
	vis={};
	var width,height;
	var chart,svg;
	var defs, style;
	var slider, step, maxStep, running;
	var button;

	vis.init=function(params) {
		if (!params) {params = {}}
		chart = d3.select(params.chart||&quot;#chart&quot;); // placeholder div for svg
		width = params.width || 960;
		height = params.height || 500;
		chart.selectAll(&quot;svg&quot;)
			.data([{width:width,height:height}]).enter()
			.append(&quot;svg&quot;);
		svg = d3.select(&quot;svg&quot;).attr({
			width:function(d) {return d.width},
			height:function(d) {return d.height}
		}); 
		// vis.init can be re-ran to pass different height/width values 
		// to the svg. this doesn't create new svg elements. 

		style = svg.selectAll(&quot;style&quot;).data([{}]).enter() 
			.append(&quot;style&quot;)
			.attr(&quot;type&quot;,&quot;text/css&quot;); 
		// this is where we can insert style that will affect the svg directly.

		defs = svg.selectAll(&quot;defs&quot;).data([{}]).enter()
			.append(&quot;defs&quot;); 
		// this is used if it's necessary to define gradients, patterns etc.

		// the following will implement interaction around a slider and a 
		// button. repeat/remove as needed. 
		// note that this code won't cause errors if the corresponding elements 
		// do not exist in the HTML.  
		
		slider = d3.select(params.slider || &quot;.slider&quot;);
		
		if (slider[0][0]) {
			maxStep = slider.property(&quot;max&quot;);
			step = slider.property(&quot;value&quot;);
			slider.on(&quot;change&quot;, function() {
				vis.stop(); 
				step = this.value; 
				vis.draw(params);})
			running = params.running || 0; // autorunning off or manually set on
		} else {
			running = -1; // never attempt auto-running
		}
		button = d3.select(params.button || &quot;.button&quot;);
		if(button[0][0] &amp;&amp; running&gt; -1) {
			button.on(&quot;click&quot;, function() {
				if (running) {
					vis.stop();
				} else {
					vis.start();
				}
			})
		};
		vis.loaddata(params);
	}
		
	vis.loaddata = function(params) {
		if(!params) {params = {}}
		d3.text(params.style||&quot;style.txt&quot;, function (error,txt) {
			// note that execution won't be stopped if a style file isn't found
			style.text(txt); // but if found, it can be embedded in the svg. 
			d3.csv(params.data || &quot;data.csv&quot;, function(error,csv) {
				vis.data = csv;
				if(running &gt; 0) {vis.start();} else {vis.draw(params);}
			})
		})
	}
	
	vis.play = function() {
		if(i === maxStep &amp;&amp; !running){
			step = -1; 
			vis.stop();
		}
		if(i &lt; maxStep) {
			step = step + 1; 
			running = 1;
			d3.select(&quot;.stop&quot;).html(&quot;Pause&quot;).on(&quot;click&quot;, vis.stop(params));
			slider.property(&quot;value&quot;,i);
		vis.draw(params);} else {vis.stop();}	
	}

	vis.start = function(params) {
		timer = setInterval(function() {vis.play(params)}, 50);
	}

	vis.stop = function (params) {
		clearInterval(timer);
		running = 0;
		d3.select(&quot;.stop&quot;).html(&quot;Play&quot;).on(&quot;click&quot;, vis.start(params));
	}

	vis.draw = function(params) {
		// make stuff here! 
	}
})();
</pre>
	    		<div class="clear">&nbsp;</div>
	</section>
</article><!-- #post-## -->
			
				
<article id="post-1524" class="post-1524 post type-post status-publish format-standard hentry category-d3 category-data-visualization">
		    <header class="post-header">
        			<span class="post-meta">
				<span class="posted-on"><a href="/2013/05/13/making-the-game-of-thrones-visualization/" rel="bookmark"><time class="entry-date published" datetime="2013-05-13T09:07:37+00:00">May 13, 2013</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="/author/jerome/">jerome</a></span></span> on <a href="/category/d3/" rel="category tag">d3</a>, <a href="/category/data-visualization/" rel="category tag">data visualization</a>			</span>
		        <h1 class="post-title"><a href="/2013/05/13/making-the-game-of-thrones-visualization/" rel="bookmark">Making the game of thrones visualization</a></h1>
         
    </header>
	<section class="post-content">

		<p>So I made this <a href="http://www.jeromecukier.net/projects/agot/events.html">interactive visualization</a>Â about the 5 Game of Thrones books. How?</p>
<h2>The project</h2>
<p>The visualization is based on the events which happen to the main characters of the books. With over 2000 characters and close to 5000 pages over 343 chapters, it&#8217;s not possible to show everything, so I took about 300 characters and restricted to a small selection of events, such as characters killing each other. Also, I regrouped characters in a 2-level hierarchy so that it would be easier to find them and see what happens at a higher level.</p>
<h2>Data</h2>
<p>Data is the first word in data visualization, and in order to visualize one must collect data.<br />
this has not been a small task. When I read the books, which was a while back (before a Dance with Dragons was published), I had already half a mind to make a visualization, so I jotted down some notes but I had no clear idea of how it would look like. But I started writing down when in the books characters did die. Eventually I realized that if I wanted to prioritize characters I had to find a way to discriminate between those who appeared infrequently and could be left out, and those who were recurring. So, I had to find a way to determine when did the various characters appeared and what happened to them.</p>
<p>To achieve that I had the five books in printed version, which is definitely not the best way to approach this. So I tried to find something to scrape. So I approached this on two fronts. On one hand, I got a raw text version of the books. But they were very hard to scrape. For instance, there are at least 11 different characters named Pate (just Pate), and 23 called Jon something. Besides, many have aliases, titles and other names so a query to find all instances of &#8220;Jon&#8221; won&#8217;t capture all mentions of, say, Jon Snow, but will also return appearances of the Jon Conningtons, Jon Arryns and the like. To make matter worse, my text file was scanned from the book and was of less than optimal quality, with many typos on names.</p>
<p>The other source were the two fan-maintained ressources on the series, <a href="http://towerofthehand.com/">Tower of the Hand</a> and <a href="http://awoiaf.westeros.org/">a Wiki of Ice and Fire</a>, which both contain summaries of the chapters and information on the characters. Some chapters were described in meticulous detail with all the characters that appear specified, and a description of all that happens then. But others are more loosely narrated. That said, both sites propose an exhaustive list of characters of the books which were extremely useful.</p>
<p>So I first scraped a wiki of Ice and Fire to know which characters were mentioned in each chapter, then read the summaries to get a feel from the events happening, which I maintainted by hand.</p>
<p>With that first level of material, I decided to keep characters mentioned at least 5 times, or the named character who had been killed by another named character (as opposed to &#8220;a guard&#8221; being killed by &#8220;a soldier&#8221;). That left me with about 250 characters (out of slightly over 2000). Later, when the visualization became usable, playing with it I found some inconsistencies &#8211; how come this character is not dead yet in that book? That was because some characters were missing from my roster. So by checking in the original books, I increased the roster to about 300 (296 precisely). Also for most (and not all) characters, using the text file, I was able to get all the mentions of a given character in all the books.</p>
<h2>Data analysis</h2>
<p>I wanted to do something around the relationships among characters and I soon noticed that there are many cliques, that is groups of characters where every one of them trust every other one. This is the case of most families of organizations. When there is one character that defects, this is clearly signalled. You never get a situation where A trusts B but not C, B trusts C and not A and C trusts A and not B, or anything complex really.</p>
<p>But still, that&#8217;s many, many groups.</p>
<p>While in the books, families and groups are presented as independent entities, they almost always align on a larger, more powerful one. So it was interesting to regroup the smaller groups in larger alliances, especially if the focus was to represent kills</p>
<p>In the books most characters belong to or serve noble houses, and those who don&#8217;t belong to well-identified groups. There are very few characters who just mind their own business. There is a plethora of such Houses which can make things confusing (and again: 2000 characters). After several attempts I concluded it&#8217;s neither possible nor a good idea to represent this diversity visually. Instead, I tried to &#8220;group the groups&#8221; and to create higher-level aggregates.</p>
<p>Eventually (and I did that fairly late in the process, after few tries on the visualization) I created 5 groups. One for the Starks and the Lannisters, which are the families which receive the most attention during the book, as 70% Â of the chapters are written from the point of view of a member of either family.Also, contrary to the Targaryen house whose point of view accounts for about 10% of the book, Starks and Lannisters have many allies and followers. So, as a consistent group they are larger and more interesting.</p>
<p>The other 3 groups are as follows: antagonists, that is aggressive characters (including monsters) who may attack any other; neutral characters, who tend to stay out of conflict, and opportunists, who look for more power.</p>
<p>Each of the 5 groups exhibits different patterns when it comes to killing: Starks (&#8220;the good guys&#8221;) don&#8217;t kill their own or neutral characters, but may have to fight characters from the other groups; conversely, some characters in the Lannister clan or among opportunists may carry out assassinations where anyone can be targeted. Neutral characters don&#8217;t fight except against antagonists, and the latter may fight characters from any group.</p>
<h2>Drawing the visualization</h2>
<p>I started thinking of that project a long time ago, and I&#8217;ve made experiments taking many forms. One of such form was a previous visualization on the <a href="http://www.jeromecukier.net/projects/agot/places.html">places in Games of Thrones</a>. That one visualization was the low-hanging fruit of the dataset I was building and refining. I knew I wanted to show events happening to the characters. Originally I thought of something linear, like a gantt chart, possibly grouping the characters by families which would be collapsable. But even in the broad sense that&#8217;s a lot of families, it wouldn&#8217;t make the visualization very legible.</p>
<p>What I had in mind then was to find a way to represent the status of the characters over time, who got killed, who got crippled, that sort of thing.</p>
<p>Eventually, I thought it was more interesting to represent the relationships of characters among themselves, so I started to take notice of all the interactions between characters, such as: who kills whom, who captures whom, who marries whom, etc. There were many which didn&#8217;t make it in the final visualization which is already complex enough as is.</p>
<p>I thought of the chord form early because it&#8217;s possible to use it to represent a lot of nodes and a lot of relationships among them even and even if it&#8217;s difficult to see one individual node expect the most important ones, and even more difficult to see one individual relationship, it&#8217;s possible to get a vague idea of mass. So I thought of representing characters as circles around a main circle coloring them by family or something. But doesn&#8217;t work, there are just too many different families. By so doing I was just plotting complexity.</p>
<p>Then, I realized that one very important aspect of the story, that is, one way in which a visualization could actually help understand what&#8217;s going on in the books, is that of trust. Within a group, all characters trust each other. Actually, this is much simpler than in real life: Westeros families are very close-knit; there are no murders among siblings or even though such things were commonplace in History! In network parlance, a group of entities which are all connected among each other is called a clique. And Game of Thrones is really a game of cliques. In all key moments of the book, one character of the clique will change sides. So all other characters of that clique continue to trust him, without realizing that he is setting them up, and a string of murders usually ensues.</p>
<p>So I decided to show action only at the clique level (families, organizations&#8230;). The problem I had was that once a character dies the representation of the clique won&#8217;t change much, whereas if I represented characters individually I could reflect that state of affairs.</p>
<p>So I thought of drawing one circle per clique around the main circle, and to represent characters individually within those circles using the packed circle method.</p>
<p>The method I chose was good (but not completely accurate) at preserving the relative importance of one clique compared to all the others, but just barely ok at preserving the relative importance of one given character.</p>
<p>I would take all the mentions of all the characters, tally that by clique, then take the square roots of that for each clique. Then, for each clique I compute the ratio of that square root to the sum of all the other square roots.</p>
<p>I multiply that by 2Ï€ and that&#8217;s an angle, that&#8217;s the &#8220;slice&#8221; of the main circle that will be occupied by the circle corresponding to that clique. Picture:<br />
<iframe src="http://www.jeromecukier.net/projects/agot/littleChords.html" frameborder="0" width="800px" height="500px"></iframe></p>
<p>(btw click on the circle on the left to regenerate the data points)</p>
<p>So while those proportions don&#8217;t exactly match they are very very close. That doesn&#8217;t hold at the character level, because the sum of the areas of the character circles can occupy anywhere between 50% and 100% of the areas of the larger circle. But that&#8217;s not important. Accuracy is not important, as long as it is sufficient to say: this character appears often and this one doesn&#8217;t.</p>
<p>Two other technical points about the making of the viz.<br />
All positions for all possible time periods had to be computed ahead of time.<br />
In d3, it is natural to add, add, add stuff over time without worrying so much. More data? we&#8217;ll just add more datapoints.<br />
Here I couldn&#8217;t really do that because I allowed the user to go back and forth in time. So a user could set the visualization in autoplay and go from time 0 to time 50, for instance, then pause and jump to time 200 and then back to time 25.<br />
So it wasn&#8217;t possible to read the datafile in sequence and to draw some additional data points at each step. In the above exemple, all that happens between time 50 and time 200 has to be shown <em>at once</em>, and then all that happened between time 25 and time 200 has to be hidden <em>at once</em>.</p>
<p>so it&#8217;s just a matter of separating the code that calculates all the positions from the one that draws the viz, two operations which more often than not are intertwined.</p>
<p>Last, in the visualization I get to write group names in a circle around the main circle. How is this done?</p>
<p>Well, in svg, you can&#8217;t write &#8220;on a circle&#8221;. You can write on a path, which can be anything, a circular arc for instance. In this case it&#8217;s a bit more complicated because I wanted to make sure that the writing would not be upside down. So I actually used two arcs.</p>
<p><iframe src="http://www.jeromecukier.net/projects/agot/littleTextPaths.html" width="500px" height="500px" frameborder=0></iframe></p>
	    		<div class="clear">&nbsp;</div>
	</section>
</article><!-- #post-## -->
			
				<nav class="pagination navigation paging-navigation" role="navigation">
		<div class="nav-links">
						<div class="older-posts"><a href="/page/3/" >Older Posts <span class="meta-nav">&rarr;</span></a></div>
							<div class="page-number">Page 2 of 13</div>
						<div class="newer-posts"><a href="/" ><span class="meta-nav">&larr;</span> Newer Posts</a></div>
			
		</div><!-- .nav-links -->
	</nav><!-- .navigation -->
	

		

	<div id="secondary" class="widget-area" role="complementary">
		<aside id="search-2" class="widget widget_search"><form role="search" method="get" class="search-form" action="/">
				<label>
					<span class="screen-reader-text">Search for:</span>
					<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s" />
				</label>
				<input type="submit" class="search-submit" value="Search" />
			</form></aside>		<aside id="recent-posts-2" class="widget widget_recent_entries">		<h1 class="widget-title">Recent Posts</h1>		<ul>
					<li>
				<a href="/2018/04/09/hello-world/">Hello world!</a>
						</li>
					<li>
				<a href="/2016/08/17/the-big-leagues/">The big leagues</a>
						</li>
					<li>
				<a href="/2016/08/17/creating-a-react-visualization-web-app/">Creating a React visualization web app</a>
						</li>
					<li>
				<a href="/2016/08/13/beyond-rendering/">Beyond rendering</a>
						</li>
					<li>
				<a href="/2016/08/11/react-components/">React components</a>
						</li>
				</ul>
		</aside>		<aside id="recent-comments-2" class="widget widget_recent_comments"><h1 class="widget-title">Recent Comments</h1><ul id="recentcomments"><li class="recentcomments"><span class="comment-author-link"><a href='https://wordpress.org/' rel='external nofollow' class='url'>A WordPress Commenter</a></span> on <a href="/2018/04/09/hello-world/#comment-1">Hello world!</a></li><li class="recentcomments"><span class="comment-author-link"><a href='http://omeraz.wordpress.com/' rel='external nofollow' class='url'>×¢×•×ž×¨ ×¢×–×¨×™××œ</a></span> on <a href="/2016/08/17/the-big-leagues/#comment-567">The big leagues</a></li><li class="recentcomments"><span class="comment-author-link">Carlos Ayres</span> on <a href="/2012/05/28/manipulating-data-like-a-boss-with-d3/#comment-312">Manipulating data like a boss with d3</a></li><li class="recentcomments"><span class="comment-author-link"><a href='https://migrate.powertripanalytics.com/game-of-thrones-interactions-among-the-top-30-characters/' rel='external nofollow' class='url'>Game of ThronesInteractions Among the Top 30 Characters &#8211; PowerTrip Analytics</a></span> on <a href="/2013/05/13/making-the-game-of-thrones-visualization/#comment-466">Making the game of thrones visualization</a></li><li class="recentcomments"><span class="comment-author-link"><a href='https://abgoswam.wordpress.com/2016/10/08/d3-getting-started/' rel='external nofollow' class='url'>D3 &#8211; Getting Started | abgoswam&#039;s tech blog</a></span> on <a href="/2012/09/04/getting-to-hello-world-with-d3/#comment-419">Getting to &#8220;Hello world&#8221; with d3</a></li></ul></aside><aside id="archives-2" class="widget widget_archive"><h1 class="widget-title">Archives</h1>		<ul>
			<li><a href='/2018/04/'>April 2018</a></li>
	<li><a href='/2016/08/'>August 2016</a></li>
	<li><a href='/2015/05/'>May 2015</a></li>
	<li><a href='/2015/02/'>February 2015</a></li>
	<li><a href='/2014/10/'>October 2014</a></li>
	<li><a href='/2013/11/'>November 2013</a></li>
	<li><a href='/2013/05/'>May 2013</a></li>
	<li><a href='/2013/03/'>March 2013</a></li>
	<li><a href='/2013/01/'>January 2013</a></li>
	<li><a href='/2012/12/'>December 2012</a></li>
	<li><a href='/2012/11/'>November 2012</a></li>
	<li><a href='/2012/10/'>October 2012</a></li>
	<li><a href='/2012/09/'>September 2012</a></li>
	<li><a href='/2012/07/'>July 2012</a></li>
	<li><a href='/2012/06/'>June 2012</a></li>
	<li><a href='/2012/05/'>May 2012</a></li>
	<li><a href='/2012/04/'>April 2012</a></li>
	<li><a href='/2012/01/'>January 2012</a></li>
	<li><a href='/2011/11/'>November 2011</a></li>
	<li><a href='/2011/10/'>October 2011</a></li>
	<li><a href='/2011/09/'>September 2011</a></li>
	<li><a href='/2011/08/'>August 2011</a></li>
	<li><a href='/2011/07/'>July 2011</a></li>
	<li><a href='/2011/06/'>June 2011</a></li>
	<li><a href='/2011/05/'>May 2011</a></li>
	<li><a href='/2011/04/'>April 2011</a></li>
	<li><a href='/2011/03/'>March 2011</a></li>
	<li><a href='/2011/02/'>February 2011</a></li>
	<li><a href='/2011/01/'>January 2011</a></li>
	<li><a href='/2010/11/'>November 2010</a></li>
	<li><a href='/2010/04/'>April 2010</a></li>
	<li><a href='/2010/03/'>March 2010</a></li>
	<li><a href='/2010/02/'>February 2010</a></li>
	<li><a href='/2010/01/'>January 2010</a></li>
	<li><a href='/2009/12/'>December 2009</a></li>
	<li><a href='/2009/10/'>October 2009</a></li>
	<li><a href='/2009/09/'>September 2009</a></li>
	<li><a href='/2009/08/'>August 2009</a></li>
	<li><a href='/2009/07/'>July 2009</a></li>
	<li><a href='/2009/06/'>June 2009</a></li>
	<li><a href='/2009/05/'>May 2009</a></li>
	<li><a href='/2008/12/'>December 2008</a></li>
	<li><a href='/2008/11/'>November 2008</a></li>
	<li><a href='/2008/10/'>October 2008</a></li>
		</ul>
		</aside><aside id="categories-2" class="widget widget_categories"><h1 class="widget-title">Categories</h1>		<ul>
	<li class="cat-item cat-item-2"><a href="/category/book-review/" >book review</a>
</li>
	<li class="cat-item cat-item-3"><a href="/category/charts/" >charts</a>
</li>
	<li class="cat-item cat-item-4"><a href="/category/conferences/" >conferences</a>
</li>
	<li class="cat-item cat-item-5"><a href="/category/d3/" >d3</a>
</li>
	<li class="cat-item cat-item-6"><a href="/category/dashboards/" >dashboards</a>
</li>
	<li class="cat-item cat-item-7"><a href="/category/data-publishing/" >data publishing</a>
</li>
	<li class="cat-item cat-item-8"><a href="/category/data-visualization/" >data visualization</a>
</li>
	<li class="cat-item cat-item-9"><a href="/category/francais/" >franÃ§ais</a>
</li>
	<li class="cat-item cat-item-10"><a href="/category/javascript/" >javascript</a>
</li>
	<li class="cat-item cat-item-11"><a href="/category/presentation/" >presentation</a>
</li>
	<li class="cat-item cat-item-12"><a href="/category/protovis/" >protovis</a>
</li>
	<li class="cat-item cat-item-13"><a href="/category/react/" >react</a>
</li>
	<li class="cat-item cat-item-14"><a href="/category/tips/" >tips</a>
</li>
	<li class="cat-item cat-item-1"><a href="/category/uncategorized/" >Uncategorized</a>
</li>
	<li class="cat-item cat-item-15"><a href="/category/web-sites/" >web sites</a>
</li>
		</ul>
</aside><aside id="meta-2" class="widget widget_meta"><h1 class="widget-title">Meta</h1>			<ul>
						<li><a href="/wp-login.php">Log in</a></li>
			<li><a href="/feed/">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="/comments/feed/">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="https://wordpress.org/" title="Powered by WordPress, state-of-the-art semantic personal publishing platform.">WordPress.org</a></li>			</ul>
			</aside>		<div class="clear">&nbsp;</div>
	</div><!-- #secondary -->
	<footer id="colophon" class="site-footer" role="contentinfo">
	    <a class="subscribe icon-feed" href="/feed/"><span class="tooltip">Subscribe!</span></a>
		<div class="site-info inner">
		    <section class="copyright">
		    			    		<a href="https://github.com/lacymorrow/casper" rel="home">Casper WP</a> by Lacy Morrow		    			    </section>
		</div><!-- .site-info -->
	</footer><!-- #colophon -->
</main><!-- /#content -->

<script type='text/javascript' src='/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.9b'></script>
<script type='text/javascript' src='/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.9b'></script>
<script type='text/javascript' src='/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.9b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://localhost:8888/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://localhost:8888/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();
</script>
<script type='text/javascript' src='/wp-content/themes/casper/js/main.js?ver=1.0.0'></script>
<script type='text/javascript' src='/wp-includes/js/wp-embed.min.js?ver=4.6.10'></script>
<!--stats_footer_test--></body>
</html>
