var data3=[{"category":"1999","value0":1215793,"value1":0,"value2":0},{"category":"2000","value0":1231304,"value1":0,"value2":0},{"category":"2001","value0":1262745,"value1":0,"value2":0},{"category":"2002","value0":1354957,"value1":0,"value2":0},{"category":"2003","value0":1507311,"value1":103889,"value2":0},{"category":"2004","value0":1633507,"value1":1548493,"value2":0},{"category":"2005","value0":1730725,"value1":4137953,"value2":0},{"category":"2006","value0":1405272,"value1":6214533,"value2":0},{"category":"2007","value0":1413310,"value1":7010606,"value2":0},{"category":"2008","value0":1281220,"value1":8402053,"value2":0},{"category":"2009","value0":1259524,"value1":8601730,"value2":0}]; 

var x3=pv.Scale.ordinal(pv.range(11)).splitBanded(0, 517,4/5); 
var y3=pv.Scale.linear(0, 10000000).range(0, 270); 
var digits=0;

var v3=new pv.Panel().width(600).height(400).fillStyle("#fff").strokeStyle(undefined); 
var myChart3 = v3.add(pv.Panel).width(517).height(270).left(53).top(70); var anim3 = myChart3.add(pv.Panel).data(data3).left(function() {return x3(this.index);}).add(pv.Bar).left(0).width(x3.range().band).height(function(d) {return y3(0)>y3(d.value0)?y3(0)-y3(d.value0):y3(d.value0)-y3(0);}).bottom(function(d) {return y3(0)<y3(d.value0)?y3(0):y3(d.value0);}).def("fillStyle", "#0078ba").event("mouseover", function() {return this.fillStyle("#af418e");}).event("mouseout", function() {return this.fillStyle(undefined);}).title(function(d) {return d.category+": "+d.value0;}); 

anim3.add(pv.Bar).left(0).width(x3.range().band).bottom(function(d) {return y3(d.value0);}).height(function(d) {return y3(0)>y3(d.value1)?y3(0)-y3(d.value1):y3(d.value1)-y3(0);}).def("fillStyle", "#b2b2b2").event("mouseover", function() {return this.fillStyle("#af418e");}).event("mouseout", function() {return this.fillStyle(undefined);}).title(function(d) {return d.category+": "+d.value1;}); myChart3.add(pv.Panel).data(data3).left(function() {return this.index*47;}).bottom(0).width(47).visible(function() {return (0==0)||!(this.index % 0);}).anchor("bottom").add(pv.Label).textMargin(5).textBaseline("top").textAlign("center").font("10px 'Frutiger LT Std 45 Light', Arial, Helvetica, sans-serif").text(function(d) {return d.category;}); myChart3.add(pv.Rule).data(y3.ticks(5)).bottom(function(d) {return Math.round(y3(d))-.5;}).strokeStyle(function(d) {return d ? "rgba(255,255,255,.3)":"#000";}).add(pv.Rule).left(0).width(5).strokeStyle("#000").anchor("left").add(pv.Label).font("10px 'Frutiger LT Std 45 Light', Arial, Helvetica, sans-serif").text(function(d) {return d.toFixed(0);});

v3.add(pv.Panel).left(0).top(0).height(65).fillStyle(undefined);
v3.add(pv.Label).data(["Dépassements de vitesse", "Infractions par an"]).top(32.5).left(5).textAlign("left").textBaseline(function() {return this.index?"top":"bottom";}).textStyle("#000").font(function() {return this.index?"16px 'Frutiger LT Std 45 Light', Arial, Helvetica, sans-serif":"24px 'Frutiger LT Std 55 Roman', Arial, Helvetica, sans-serif";}).antialias(true); v3.add(pv.Panel).data(["Hors radars","Avec radars","undefined"]).width(30).height(20).bottom(20).left(function() {return 53+this.index*438;}).fillStyle(function() {return ["#0078ba","#b2b2b2"][this.index];}).strokeStyle(null).anchor("right").add(pv.Label).textAlign("left").font("10px 'Frutiger LT Std 45 Light', Arial, Helvetica, sans-serif"); v3.add(pv.Label).bottom(5).right(5).textAlign("right").textBaseline("bottom").font("10px 'Frutiger LT Std 45 Light', Arial, Helvetica, sans-serif").text("Source: ministère de l’Intérieur - DMAT"); v3.render();